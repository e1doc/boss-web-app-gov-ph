{"remainingRequest":"/var/www/html/boss-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/html/boss-web/src/components/application/DownloadableBuildingForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/var/www/html/boss-web/src/components/application/DownloadableBuildingForm.vue","mtime":1605179000987},{"path":"/var/www/html/boss-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/boss-web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/var/www/html/boss-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/boss-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBCYXNlUGRmSGVhZGVyIGZyb20gIkAvY29tcG9uZW50cy9mb3Jtcy9CYXNlUGRmSGVhZGVyIjsKaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gInZ1ZXgiOwppbXBvcnQganNQREYgZnJvbSAianNwZGYiOwppbXBvcnQgaHRtbDJjYW52YXMgZnJvbSAiaHRtbDJjYW52YXMiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkRvd25sb2FkYWJsZUJ1aWxkaW5nRm9ybSIsCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcEdldHRlcnMoWyJwcmludFByb3BlcnR5IiwiYnVpbGRpbmdBcHBsaWNhdGlvbiIsICJidWlsZGluZ0Jhc2ljSW5mb3JtYXRpb24iLCAiYnVpbGRpbmdEZXRhaWxzIiwgImJ1aWxkaW5nT3RoZXJEZXRhaWxzIl0pLAogIH0sCiAgY29tcG9uZW50czogewogICAgQmFzZVBkZkhlYWRlciwKICB9LAogIHdhdGNoOiB7CiAgICBwcmludFByb3BlcnR5OiB7CiAgICAgIGRlZXA6IHRydWUsCiAgICAgIGhhbmRsZXIoc3RhdHVzKSB7CiAgICAgICAgaWYgKHN0YXR1cykgewogICAgICAgIGNvbnNvbGUubG9nKHN0YXR1cykKICAgICAgICAgIHRoaXMuZ2VuZXJhdGVSZXBvcnQoKTsKICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgic2V0UHJpbnRQcm9wZXJ0eSIsIGZhbHNlKTsKICAgICAgICB9CiAgICAgIH0sCiAgICB9LAogIH0sCiAgbWV0aG9kczogewogICAgZ2VuZXJhdGVSZXBvcnQoKSB7CiAgICAgIGNvbnN0IGJ1aWxkaW5nSWQgPSB0aGlzLmJ1aWxkaW5nQmFzaWNJbmZvcm1hdGlvbi5yZWZlcmVuY2VfbnVtYmVyCiAgICAgIGNvbnN0IGRvYyA9IG5ldyBqc1BERigicCIsICJtbSIsICJhNCIpOwogICAgICAvKiogV0lUSCBDU1MgKi8KICAgICAgdmFyIHdpZHRoID0gZG9jLmludGVybmFsLnBhZ2VTaXplLmdldFdpZHRoKCk7CiAgICAgIHZhciBoZWlnaHQgPSBkb2MuaW50ZXJuYWwucGFnZVNpemUuZ2V0SGVpZ2h0KCk7CiAgICAgIHZhciBjYW52YXNFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIik7CiAgICAgIGh0bWwyY2FudmFzKHRoaXMuJHJlZnMuY29udGVudCwgewogICAgICAgIGNhbnZhczogY2FudmFzRWxlbWVudCwKICAgICAgICB3aWR0aDogNzk0LAogICAgICAgIGhlaWdodDogMTEyNCwKICAgICAgfSkudGhlbihmdW5jdGlvbihjYW52YXMpIHsKICAgICAgICBjb25zb2xlLmxvZyhjYW52YXMpOwogICAgICAgIGNvbnN0IGltZyA9IGNhbnZhcy50b0RhdGFVUkwoImltYWdlL2pwZWciLCAxKTsKICAgICAgICBkb2MuYWRkSW1hZ2UoaW1nLCAiSlBFRyIsIDAsIDAsIHdpZHRoLCBoZWlnaHQpOwogICAgICAgIGNvbnNvbGUubG9nKHdpZHRoLCBoZWlnaHQpOwogICAgICAgIGRvYy5zYXZlKGBidWlsZGluZy1hcHBsaWNhdGlvbi0ke2J1aWxkaW5nSWR9YCk7CiAgICAgIH0pOwogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["DownloadableBuildingForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"DownloadableBuildingForm.vue","sourceRoot":"src/components/application","sourcesContent":["<template>\n  <div class=\"meta-container flex-wrap\" ref=\"content\">\n    <base-pdf-header\n      :applicationnumber=\"buildingBasicInformation.reference_number\"\n      formtitle=\"APPLICATION FORM FOR BUILDING PERMIT\"\n    />\n      <div class=\"meta-form-body\">\n        <div class=\"meta-text-group flex-wrap\">\n          <div class=\"meta-text no-bb\">\n            <div class=\"meta-label\">Application Number :</div>\n            <div class=\"meta-value\">\n              #{{ buildingBasicInformation.reference_number }}\n            </div>\n          </div>\n          <div class=\"meta-text\">\n            <div class=\"meta-label\">Ownership Type: </div>\n            <div class=\"meta-value\">\n              {{ buildingBasicInformation.ownership_type }}\n            </div>\n          </div>\n        </div>\n        <!-- Owner / Applicant : -->\n        <div class=\"meta-text-group flex-wrap\">\n          <div class=\"meta-group-title\">Owner / Applicant :</div>\n          <div class=\"meta-text w3 no-br\">\n            <div class=\"meta-label\">Last Name :</div>\n            <div class=\"meta-value\">\n              {{ buildingBasicInformation.owner_last_name }}\n            </div>\n          </div>\n          <div class=\"meta-text w3 no-br\">\n            <div class=\"meta-label\">First Name :</div>\n            <div class=\"meta-value\">\n              {{ buildingBasicInformation.owner_first_name }}\n            </div>\n          </div>\n          <div class=\"meta-text w3 no-br\">\n            <div class=\"meta-label\">Middle Initial :</div>\n            <div class=\"meta-value\">\n              {{ buildingBasicInformation.owner_middle_name }}\n            </div>\n          </div>\n          <div class=\"meta-text w3\">\n            <div class=\"meta-label\">TIN :</div>\n            <div class=\"meta-value\">{{ buildingBasicInformation.tin }}</div>\n          </div>\n        </div>\n\n        <!-- Name of President/Treasurer of Corporation : -->\n        <!-- <div class=\"meta-text-group flex-wrap\">\n          <div class=\"meta-group-title\">\n            For Construction Owned by an Enterprise :\n          </div>\n          <div class=\"meta-text no-bb\">\n            <div class=\"meta-label\">Area No.</div>\n            <div class=\"meta-value\">\n              {{ buildingDetails.area_no }}\n            </div>\n          </div>\n          <div class=\"meta-text\">\n            <div class=\"meta-label\">Form of Ownership</div>\n            <div class=\"meta-value\">\n              {{ buildingDetails.form_of_ownership }}\n            </div>\n          </div>\n        </div> -->\n        <div class=\"meta-text-group flex-wrap mt20\">\n          <div class=\"meta-text no-bb\">\n            <div class=\"meta-label\">TCT No. :</div>\n            <div class=\"meta-value\">{{ buildingDetails.tct_no }}</div>\n          </div>\n          <div class=\"meta-text\">\n            <div class=\"meta-label\">Tax Dec. No. :</div>\n            <div class=\"meta-value\">{{ buildingDetails.tax_dec_no }}</div>\n          </div>\n        </div>\n        <!-- Business Address -->\n        <div class=\"meta-text-group flex-wrap\">\n          <div class=\"meta-group-title\">Location of Construction :</div>\n          <div class=\"meta-text w4 no-br no-bb\">\n            <div class=\"meta-label\">Address No. :</div>\n            <div class=\"meta-value\">{{ buildingDetails.address_no }}</div>\n          </div>\n          <div class=\"meta-text w4 no-br no-bb\">\n            <div class=\"meta-label\">Lot No. :</div>\n            <div class=\"meta-value\">{{ buildingDetails.lot_no }}</div>\n          </div>\n          <div class=\"meta-text w4 no-bb\">\n            <div class=\"meta-label\">Lot No. count (default 1) :</div>\n            <div class=\"meta-value\">{{ buildingDetails.lot_no_count }}</div>\n          </div>\n\n          <div class=\"clearfix\"></div>\n\n          <div class=\"meta-text w4 no-br no-bb\">\n            <div class=\"meta-label\">Blk No. :</div>\n            <div class=\"meta-value\">{{ buildingDetails.blk_no }}</div>\n          </div>\n          <div class=\"meta-text w4 no-br no-bb\">\n            <div class=\"meta-label\">Phase No. :</div>\n            <div class=\"meta-value\">{{ buildingDetails.phase_no }}</div>\n          </div>\n          <div class=\"meta-text w4 no-bb\">\n            <div class=\"meta-label\">Subdivision :</div>\n            <div class=\"meta-value\">{{ buildingDetails.subdivision_name }}</div>\n          </div>\n\n          <div class=\"clearfix\"></div>\n\n          <div class=\"meta-text w6 no-br no-bb\">\n            <div class=\"meta-label\">Street :</div>\n            <div class=\"meta-value\">{{ buildingDetails.street }}</div>\n          </div>\n          <div class=\"meta-text w6 no-bb\">\n            <div class=\"meta-label\">District :</div>\n            <div class=\"meta-value\">{{ buildingDetails.district }}</div>\n          </div>\n\n          <div class=\"clearfix\"></div>\n\n          <div class=\"meta-text no-bb\">\n            <div class=\"meta-label\">Barangay :</div>\n            <div class=\"meta-value\">{{ buildingDetails.barangay }}</div>\n          </div>\n          <div class=\"meta-text\">\n            <div class=\"meta-label\">City / Province:</div>\n            <div class=\"meta-value\">{{ buildingDetails.city }}</div>\n          </div>\n          <!-- <div class=\"meta-text no-bb\">\n            <div class=\"meta-label\">Property Type</div>\n            <div class=\"meta-value\">{{ buildingDetails.property_type }}</div>\n          </div> -->\n\n          <div class=\"meta-text no-bb mt20\">\n            <div class=\"meta-label\">Scope of Work : </div>\n            <div class=\"meta-value\">\n              {{\n                buildingDetails.scope_of_work_others === \"\"\n                  ? buildingDetails.scope_of_work\n                  : buildingDetails.scope_of_work_others\n              }}\n            </div>\n          </div>\n          <div class=\"meta-text mb20\">\n            <div class=\"meta-label\">Use or Character of Occupancy : </div>\n            <div class=\"meta-value\">\n              {{\n                buildingDetails.character_of_occupancy_others === \"\"\n                  ? buildingDetails.character_of_occupancy\n                  : buildingDetails.character_of_occupancy_others\n              }}\n            </div>\n          </div>\n        </div>\n\n        <!-- Other Details -->\n        <div class=\"meta-text-group flex-wrap\">\n          <!-- <div class=\"meta-text w6 no-br no-bb\">\n            <div class=\"meta-label\">Occupancy Classified:</div>\n            <div class=\"meta-value\">\n              {{ buildingOtherDetails.occupancy_classified }}\n            </div>\n          </div> -->\n          <div class=\"meta-text no-bb\">\n            <div class=\"meta-label\">Total Estimated Cost :</div>\n            <div class=\"meta-value\">\n              â‚±\n              {{\n                parseFloat(buildingOtherDetails.total_estimated_cost).toFixed(2)\n              }}\n            </div>\n          </div>\n          <div class=\"meta-text w6 no-br no-bb\">\n            <div class=\"meta-label\">Number of Units :</div>\n            <div class=\"meta-value\">{{ buildingOtherDetails.units }}</div>\n          </div>\n          <div class=\"meta-text w6 no-bb\">\n            <div class=\"meta-label\">Proposed Date of Construction :</div>\n            <div class=\"meta-value\">\n              {{\n                buildingOtherDetails.date_of_construction\n                  | moment(\"MMMM DD, YYYY\")\n              }}\n            </div>\n          </div>\n          <div class=\"meta-text no-bb\">\n            <div class=\"meta-label\">Expected Date of Completion :</div>\n            <div class=\"meta-value\">\n              {{\n                buildingOtherDetails.date_of_completion\n                  | moment(\"MMMM DD, YYYY\")\n              }}\n            </div>\n          </div>\n          <div class=\"meta-text no-bb\">\n            <div class=\"meta-label\">Total Floor Area :</div>\n            <div class=\"meta-value\">\n              {{ buildingOtherDetails.floor_area }} square meters\n            </div>\n          </div>\n          <div class=\"meta-text\">\n            <div class=\"meta-label\">Lot Area :</div>\n            <div class=\"meta-value\">\n              {{ buildingOtherDetails.lot_area }} square meters\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n</template>\n\n<script>\nimport BasePdfHeader from \"@/components/forms/BasePdfHeader\";\nimport { mapGetters } from \"vuex\";\nimport jsPDF from \"jspdf\";\nimport html2canvas from \"html2canvas\";\nexport default {\n  name: \"DownloadableBuildingForm\",\n  computed: {\n    ...mapGetters([\"printProperty\",\"buildingApplication\", \"buildingBasicInformation\", \"buildingDetails\", \"buildingOtherDetails\"]),\n  },\n  components: {\n    BasePdfHeader,\n  },\n  watch: {\n    printProperty: {\n      deep: true,\n      handler(status) {\n        if (status) {\n        console.log(status)\n          this.generateReport();\n          this.$store.commit(\"setPrintProperty\", false);\n        }\n      },\n    },\n  },\n  methods: {\n    generateReport() {\n      const buildingId = this.buildingBasicInformation.reference_number\n      const doc = new jsPDF(\"p\", \"mm\", \"a4\");\n      /** WITH CSS */\n      var width = doc.internal.pageSize.getWidth();\n      var height = doc.internal.pageSize.getHeight();\n      var canvasElement = document.createElement(\"canvas\");\n      html2canvas(this.$refs.content, {\n        canvas: canvasElement,\n        width: 794,\n        height: 1124,\n      }).then(function(canvas) {\n        console.log(canvas);\n        const img = canvas.toDataURL(\"image/jpeg\", 1);\n        doc.addImage(img, \"JPEG\", 0, 0, width, height);\n        console.log(width, height);\n        doc.save(`building-application-${buildingId}`);\n      });\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\ndiv.meta-container {\n  width: 210mm;\n  height: 297mm;\n  background-color: #fff;\n  div.meta-form-body {\n    height: 100%;\n    width: 100%;\n    padding: 20px 30px;\n    div.meta-text-group {\n      width: 100%;\n      div.meta-group-title {\n        width: 100%;\n        color: #2699fb;\n        font-size: 10px;\n        font-weight: bold;\n        padding: 10px 0;\n        margin-top: 15px;\n      }\n      div.meta-text {\n        width: 100%;\n        color: #2b2b2b;\n        font-size: 10px;\n        line-height: 1.6;\n        padding: 4px 10px;\n        border: 1px solid;\n        .meta-label {\n          font-size: 10px;\n          font-weight: bold;\n        }\n      }\n      div.meta-text.w1 {\n        width: calc(8.33% - 21.5px);\n        float: left;\n      }\n      div.meta-text.w2 {\n        width: calc(16.6% - 21.5px);\n        float: left;\n      }\n      div.meta-text.w3 {\n        width: calc(25% - 21.5px);\n        float: left;\n      }\n      div.meta-text.w4 {\n        width: calc(33.3333% - 21.5px);\n        float: left;\n      }\n      div.meta-text.w6 {\n        width: calc(50% - 21.5px);\n        float: left;\n      }\n      div.meta-text.w7 {\n        width: calc(58% - 21.5px);\n        float: left;\n      }\n\n      div.meta-table-header {\n        text-align: center;\n        width: 100%;\n        div.form-th {\n          font-size: 10px;\n          font-weight: bold;\n          line-height: 1.6;\n          height: 100%;\n          border: 1px solid;\n\n          display: flex;\n          flex-wrap: wrap;\n          align-items: center;\n          justify-content: center;\n        }\n      }\n\n      div.meta-table-row {\n        text-align: center;\n        width: 100%;\n        div.form-td {\n          font-size: 10px;\n          line-height: 1.6;\n          padding: 5px 0;\n          border: 1px solid;\n        }\n      }\n      div.form-th.code,\n      div.form-td.code {\n        width: calc(15% - 1.5px);\n        float: left;\n      }\n      div.form-th.line,\n      div.form-td.line {\n        width: calc(35% - 1.5px);\n        float: left;\n      }\n      div.form-th.units,\n      div.form-td.units {\n        width: calc(15% - 1.5px);\n        float: left;\n      }\n      div.form-th.sales {\n        width: calc(35% - 1.5px);\n        float: left;\n      }\n      div.form-td.sales {\n        width: calc(17.5% - 1px);\n        float: left;\n      }\n\n      div.form-sub-th {\n        width: 100%;\n        div.form-th {\n          width: calc(50% - 1.5px);\n          float: left;\n        }\n      }\n    }\n    div.meta-text-group.w6 {\n      width: 50%;\n      float: left;\n    }\n  }\n}\n\n.no-bl {\n  border-left: 0 !important;\n}\n.no-br {\n  border-right: 0 !important;\n}\n.no-bt {\n  border-top: 0 !important;\n}\n.no-bb {\n  border-bottom: 0 !important;\n}\n\ndiv.clearfix {\n  clear: both;\n}\n</style>\n"]}]}