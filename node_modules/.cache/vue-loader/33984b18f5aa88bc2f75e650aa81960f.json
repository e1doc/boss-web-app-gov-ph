{"remainingRequest":"/var/www/html/boss-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/html/boss-web/src/pages/admin/ReplyInquiry.vue?vue&type=style&index=0&id=5c061c30&lang=scss&scoped=true&","dependencies":[{"path":"/var/www/html/boss-web/src/pages/admin/ReplyInquiry.vue","mtime":1622456227012},{"path":"/var/www/html/boss-web/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/boss-web/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/var/www/html/boss-web/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/var/www/html/boss-web/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/boss-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/boss-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgpkaXYuaW5xdWlyeS1ib3ggewogIHdpZHRoOiAxMDAlOwogIG1heC13aWR0aDogMTA1MHB4OwogIG1hcmdpbjogMCBhdXRvOwogIGJhY2tncm91bmQtY29sb3I6ICNmZmY7CiAgYm94LXNoYWRvdzogMHB4IDEwcHggMjBweCAjMDAwMDAwMGQ7CiAgYm9yZGVyLXJhZGl1czogMjBweDsKICBtYXJnaW4tdG9wOiAzMHB4OwogIGRpdi5pbnF1aXJ5LWhlYWRlciB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMTQ5MmU2OwogICAgcGFkZGluZzogMjBweCA0MHB4OwogICAgYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogMjBweDsKICAgIGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiAyMHB4OwogICAgZGl2LmlucXVpcnktc3ViaiB7CiAgICAgIGNvbG9yOiAjZmFmYWZhOwogICAgICBmb250LXNpemU6IDIwcHg7CiAgICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogICAgICBsaW5lLWhlaWdodDogMS42OwogICAgICBsZXR0ZXItc3BhY2luZzogMS4wNnB4OwogICAgICBtYXJnaW4tYm90dG9tOiA1cHg7CiAgICB9CiAgICBkaXYuaW5xdWlyeS1kYXRlIHsKICAgICAgY29sb3I6ICNlNmU2ZTY7CiAgICAgIGZvbnQtc2l6ZTogMTZweDsKICAgICAgbGluZS1oZWlnaHQ6IDEuNDsKICAgICAgbGV0dGVyLXNwYWNpbmc6IDAuOHB4OwogICAgfQogIH0KICBkaXYucmVzb2x2ZS1jb2x1bW4gewogICAgd2lkdGg6IDEwMCU7CiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgIHBhZGRpbmc6IDE1cHggMDsKCiAgICBkaXYucmVzb2x2ZS1idXR0b24gewogICAgICB3aWR0aDogMTAwJTsKICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICBidXR0b24uYnRuLXJlc29sdmUgewogICAgICAgIGJhY2tncm91bmQ6ICM4MWM3ODQ7CiAgICAgICAgY29sb3I6ICNmZmY7CiAgICAgICAgZm9udC1zaXplOiAxNXB4OwogICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogICAgICAgIGJvcmRlci1yYWRpdXM6IDUwcHg7CiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgIzgxYzc4NDsKICAgICAgICBwYWRkaW5nOiAxMnB4IDI1cHg7CiAgICAgICAgbWFyZ2luLWJvdHRvbTogMTVweDsKICAgICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICAgICAgdHJhbnNpdGlvbjogMC40czsKICAgICAgfQoKICAgICAgYnV0dG9uLmJ0bi1yZXNvbHZlOmhvdmVyIHsKICAgICAgICBjb2xvcjogIzgxYzc4NDsKICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDsKICAgICAgfQoKICAgICAgYnV0dG9uLmJ0bi1yZXNvbHZlOmZvY3VzIHsKICAgICAgICBvdXRsaW5lOiBub25lOwogICAgICB9CiAgICB9CgogICAgLnJlc29sdmUtbm90ZSB7CiAgICAgIGZvbnQtc2l6ZTogMTRweDsKICAgICAgY29sb3I6ICM5Njk2OTY7CiAgICAgIHNwYW4gewogICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogICAgICB9CiAgICB9CiAgfQogIGRpdi5pbnF1aXJ5LWJvZHkgewogICAgcGFkZGluZzogMzVweCA0OHB4OwogICAgbWF4LWhlaWdodDogNjAwcHg7CiAgICBvdmVyZmxvdy15OiBzY3JvbGw7CiAgICAuaXRlbS1yb3cgewogICAgICBtYXJnaW4tYm90dG9tOiAxMHB4OwogICAgfQoKICAgIC5pdGVtLXJvdy5zZW5kZXIgewogICAgICAuaXRlbS1jb250ZW50IHsKICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTZlNmU2NTA7CiAgICAgIH0KICAgIH0KCiAgICAuaXRlbS1yb3cubWUgewogICAgICAuaXRlbS1uYW1lIHsKICAgICAgICB0ZXh0LWFsaWduOiByaWdodDsKICAgICAgfQogICAgICAuaXRlbS1jb250ZW50IHsKICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWFmNmZmOTA7CiAgICAgIH0KICAgIH0KCiAgICAuaXRlbS1uYW1lIHsKICAgICAgY29sb3I6ICMxNzkyZTY7CiAgICAgIGZvbnQtc2l6ZTogMTZweDsKICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICAgIGxpbmUtaGVpZ2h0OiAyOXB4OwogICAgICBsZXR0ZXItc3BhY2luZzogMC4zMnB4OwogICAgICBtYXJnaW4tYm90dG9tOiA2cHg7CiAgICB9CgogICAgLml0ZW0tY29udGVudCB7CiAgICAgIGNvbG9yOiAjMDAwMDAwYzE7CiAgICAgIGZvbnQtc2l6ZTogMTRweDsKICAgICAgbGluZS1oZWlnaHQ6IDI4cHg7CiAgICAgIHBhZGRpbmc6IDM1cHggMzJweDsKICAgICAgYm9yZGVyLXJhZGl1czogMTJweDsKICAgIH0KCiAgICAuaXRlbS1kYXRlIHsKICAgICAgY29sb3I6ICNiM2Q3ZmU7CiAgICAgIGZvbnQtc2l6ZTogMTJweDsKICAgICAgbGluZS1oZWlnaHQ6IDEuNjsKICAgICAgbGV0dGVyLXNwYWNpbmc6IDAuMjRweDsKICAgICAgdGV4dC1hbGlnbjogcmlnaHQ7CiAgICB9CiAgICBkaXYuaW5xdWlyeS1mb290ZXIgewogICAgICBtYXJnaW4tdG9wOiAyNXB4OwogICAgICBwYWRkaW5nLXRvcDogMjVweDsKICAgICAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNkMGU5ZmE7CiAgICAgIGRpdi5pbnF1aXJ5LWZvb3Rlci10ZXh0IHsKICAgICAgICBjb2xvcjogIzlmYTZhYjsKICAgICAgICBmb250LXNpemU6IDE2cHg7CiAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICAgICAgbGluZS1oZWlnaHQ6IDI5cHg7CiAgICAgICAgbWFyZ2luLWJvdHRvbTogMTBweDsKICAgICAgICAuYWRtaW4taWNvbiB7CiAgICAgICAgICBmb250LXNpemU6IDIxcHg7CiAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDE0cHg7CiAgICAgICAgfQogICAgICB9CiAgICAgIHRleHRhcmVhIHsKICAgICAgICBjb2xvcjogIzJiMmIyYjsKICAgICAgICBib3JkZXItY29sb3I6ICNkMGU5ZmE7CiAgICAgICAgZm9udC1zaXplOiAxNHB4OwogICAgICAgIGZvbnQtZmFtaWx5OiBSYWxld2F5OwogICAgICAgIGxpbmUtaGVpZ2h0OiAyOHB4OwogICAgICAgIHdpZHRoOiBjYWxjKDEwMCUgLSA2MHB4KTsKICAgICAgICBtYXgtaGVpZ2h0OiAxNTBweDsKICAgICAgICBwYWRkaW5nOiAyNXB4IDMwcHg7CiAgICAgICAgbWFyZ2luLWJvdHRvbTogMTVweDsKICAgICAgICBib3JkZXItcmFkaXVzOiAxMnB4OwogICAgICB9CiAgICAgIHRleHRhcmVhOmZvY3VzIHsKICAgICAgICBvdXRsaW5lOiAwOwogICAgICAgIGJvcmRlci1jb2xvcjogIzAyN2FiNTsKICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjhmY2ZmOwogICAgICB9CiAgICAgIC5pbnF1aXJ5LWJ1dHRvbiB7CiAgICAgICAgdGV4dC1hbGlnbjogcmlnaHQ7CiAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDsKICAgICAgfQogICAgfQogICAgLmlucXVpcnktYnV0dG9uIHsKICAgICAgdGV4dC1hbGlnbjogcmlnaHQ7CiAgICAgIHdpZHRoOiAxMDAlOwogICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kOwogICAgfQogIH0KfQoKLml0ZW0tYXR0YWNobWVudCB7CiAgZm9udC1zaXplOiAxM3B4OwogIHdpZHRoOiAxMDAlOwogIGZsb2F0OiBsZWZ0OwogIHBhZGRpbmc6IDVweCAwOwogIGNvbG9yOiAjMTQ5MmU2OwogIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lOwogIGN1cnNvcjogcG9pbnRlcjsKfQoKLml0ZW0tZGVwYXJ0bWVudCB7CiAgY29sb3I6ICNmZmY7CiAgZm9udC1mYW1pbHk6ICJQcm94aW1hIE5vdmEgUmciOwogIGZvbnQtc2l6ZTogMTZweDsKICBtYXJnaW4tdG9wOiA1cHg7CiAgc3BhbiB7CiAgICBmb250LXdlaWdodDogYm9sZDsKICB9Cn0K"},{"version":3,"sources":["ReplyInquiry.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ReplyInquiry.vue","sourceRoot":"src/pages/admin","sourcesContent":["<template>\n  <div class=\"inquiry-box\">\n    <div class=\"inquiry-header\">\n      <div class=\"inquiry-subj\">\n        {{ inquiry.subject }}\n      </div>\n      <div class=\"inquiry-date\">\n        {{ inquiry.created_at | moment(\"MMMM DD YYYY\") }}\n      </div>\n      <div class=\"item-department\">\n        <span>Dept. Concern:</span>\n        {{ inquiry.department ? inquiry.department : \"N/A\" }}\n      </div>\n    </div>\n    <div class=\"inquiry-body\">\n      <!-- START OF THREAD -->\n      <div v-for=\"(message, index) in messages\" :key=\"index\">\n        <div class=\"item-row sender\" v-if=\"!message.sender.is_staff\">\n          <div class=\"item-name\">\n            {{\n              inquiry.is_remarks\n                ? inquiry.receiver\n                  ? inquiry.receiver.first_name\n                  : message.sender.first_name\n                : inquiry.sender.first_name\n            }}\n            {{\n              inquiry.is_remarks\n                ? inquiry.receiver\n                  ? inquiry.receiver.last_name\n                  : message.sender.last_name\n                : inquiry.sender.last_name\n            }}\n          </div>\n          <div class=\"item-content\">\n            {{ message.body }}\n            <div v-if=\"message.messageattachments\">\n              <div\n                class=\"item-attachment\"\n                v-if=\"message.messageattachments.length > 0\"\n                @click=\"linkProps(message.messageattachments[0].file)\"\n              >\n                <font-awesome-icon icon=\"paperclip\" class=\"admin-icon\" /> See\n                Attachment\n              </div>\n            </div>\n          </div>\n          <div class=\"item-date\">\n            {{ message.created_at | moment(\"MMMM DD, YYYY HH:mm A\") }}\n          </div>\n        </div>\n        <div class=\"item-row me\" v-if=\"message.sender.is_staff\">\n          <div class=\"item-name\">\n            {{\n              message.sender.department\n                ? message.sender.department.name\n                : userDepartment\n            }}\n            Administrator\n          </div>\n          <div class=\"item-content\">\n            {{ message.body }}\n            <div v-if=\"message.messageattachments\">\n              <div\n                class=\"item-attachment\"\n                v-if=\"message.messageattachments.length > 0\"\n                @click=\"linkProps(message.messageattachments[0].file)\"\n              >\n                <font-awesome-icon icon=\"paperclip\" class=\"admin-icon\" /> See\n                Attachment\n              </div>\n            </div>\n          </div>\n          <div class=\"item-date\">\n            {{ message.created_at | moment(\"MMMM DD, YYYY HH:mm A\") }}\n          </div>\n        </div>\n      </div>\n      <div class=\"resolve-column flex-wrap\" v-if=\"!inquiry.is_resolved\">\n        <div class=\"resolve-button\">\n          <button type=\"send\" class=\"btn-resolve\" @click=\"resolveInquiry\">\n            <font-awesome-icon icon=\"check\" class=\"admin-icon\" />\n            MARK AS RESOLVED\n          </button>\n        </div>\n        <div class=\"resolve-note\">\n          <span>Note:</span>\n          Once this is marked as resolved, you can no longer reply to this\n          thread.\n        </div>\n      </div>\n      <!-- REPLY SECTION -->\n      <div class=\"inquiry-footer\" v-if=\"!inquiry.is_resolved\">\n        <div class=\"inquiry-footer-text\">\n          <font-awesome-icon icon=\"reply\" class=\"admin-icon\" />REPLY\n        </div>\n        <textarea\n          name=\"reply\"\n          id=\"reply\"\n          rows=\"4\"\n          placeholder=\"Type your text here\"\n          v-model=\"body\"\n        ></textarea>\n        <!-- ATTACH FILE -->\n        <base-file-uploader\n          fileLabel=\"inquiry_attachment\"\n          uploadType=\"application/pdf\"\n          class=\"upload-attachment\"\n          v-if=\"\n            (isLastBuildingDept && isEvaluation) ||\n            currentTable === 'delinquent' ||\n            inquiry.is_remarks\n          \"\n          :isEvaluation=\"true\"\n        />\n        <div class=\"inquiry-button\">\n          <button-block\n            :disabled=\"body === '' ? true : false\"\n            type=\"send\"\n            @click.native=\"sendReply\"\n            >SEND</button-block\n          >\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport InquiryTableMenu from \"@/components/tables/InquiryTableMenu\";\nimport InquiryTable from \"@/components/tables/InquiryTable\";\nimport ButtonBlock from \"@/components/ButtonBlock\";\nimport BaseFileUploader from \"@/components/forms/BaseFileUploader\";\nimport { mapGetters } from \"vuex\";\nexport default {\n  name: \"ReplyInquiry\",\n  components: {\n    InquiryTableMenu,\n    InquiryTable,\n    ButtonBlock,\n    BaseFileUploader,\n  },\n  props: {\n    thread: {\n      required: false,\n      default: \"\",\n      type: String,\n    },\n  },\n  data() {\n    return {\n      body: \"\",\n      messages: [],\n    };\n  },\n  beforeRouteLeave(to, from, next) {\n    this.$store.commit(\"setContinueBuildingThread\", false);\n    this.$store.commit(\"setCurrentBuildingId\", 0);\n    this.$store.commit(\"setContinueBusinessThread\", false);\n    this.$store.commit(\"setCurrentBusinessId\", 0);\n    this.$store.commit(\"setIsDelinquentPayment\", false);\n    next();\n  },\n  computed: {\n    ...mapGetters([\n      \"currentTable\",\n      \"inquiry\",\n      \"currentInquiry\",\n      \"continueBuildingThread\",\n      \"currentBuildingId\",\n      \"continueBusinessThread\",\n      \"currentBusinessId\",\n      \"buildingApplication\",\n      \"businessApplication\",\n      \"isBuildingAssessment\",\n      \"isLastBuildingDept\",\n      \"userDepartment\",\n      \"isEvaluation\",\n      \"isLastBusinessDept\",\n      \"isBusinessAssessment\",\n      \"assessmentPayload\",\n      \"buildingAssessmentPayload\",\n      \"isRemarks\",\n    ]),\n  },\n  mounted() {\n    this.getInquiry();\n    if (this.currentTable === \"delinquent\") {\n      this.$store.commit(\"setIsDelinquentPayment\", true);\n    }\n    window.scrollTo(0, 0);\n  },\n  methods: {\n    async resolveInquiry() {\n      await this.$store.dispatch(\"resolveInquiry\", {\n        id: this.currentInquiry,\n        is_resolved: true,\n      });\n      await this.$swal({\n        title: \"Success!\",\n        text: \"Inquiry successfully resolved.\",\n        icon: \"success\",\n      }).then((value) => {\n        this.$router.push({ name: \"Inquiries\" });\n      });\n    },\n    linkProps(url) {\n      url = url.replace(\"/bacoor/\", \"/\");\n      window.open(url, \"_blank\");\n    },\n    async getInquiry() {\n      let id = this.thread != \"\" ? this.thread : this.currentInquiry;\n      await this.$store.dispatch(\"getInquiry\", id);\n      this.messages = await this.inquiry.messages;\n      if (this.inquiry.is_remarks) {\n        await this.$store.commit(\"setIsRemarks\", true);\n      } else {\n        await this.$store.commit(\"setIsRemarks\", false);\n      }\n    },\n    async sendReply() {\n      if (this.continueBuildingThread) {\n        let application_status = 0;\n        if (this.isBuildingAssessment) {\n          application_status = this.buildingApplication.application_status;\n        } else {\n          this.buildingApplication.application_status === 0\n            ? (application_status = 1)\n            : this.buildingApplication.application_status === 1\n            ? (application_status = 1)\n            : this.buildingApplication.application_status === 2\n            ? (application_status = 4)\n            : this.buildingApplication.application_status === 3\n            ? (application_status = 5)\n            : this.buildingApplication.application_status === 4\n            ? (application_status = 4)\n            : this.buildingApplication.application_status === 5\n            ? (application_status = 5)\n            : (application_status = 0);\n          let payload = {\n            id: this.currentBuildingId,\n            status: application_status,\n          };\n\n          await this.$store.dispatch(\"approveBuildingApplication\", payload);\n        }\n        if (!this.isBuildingAssessment) {\n          if (this.buildingApplication.application_status === 3) {\n            let resetAssessmentPayload = {\n              building_application: this.buildingApplication.id,\n            };\n            // this.$store.dispatch(\n            //   \"resetBuildingAssessment\",\n            //   resetAssessmentPayload\n            // );\n          }\n        }\n        if (this.buildingApplication.application_status === 3) {\n          let assessment_payload = {\n            building_application: this.currentBuildingId,\n            is_approve: false,\n          };\n          await this.$store.dispatch(\n            \"assessBuildingApplication\",\n            assessment_payload\n          );\n        }\n      }\n      if (this.continueBusinessThread) {\n        let application_status = 0;\n        if (this.isBusinessAssessment) {\n          application_status = this.businessApplication.application_status;\n        } else {\n          this.businessApplication.application_status === 0\n            ? (application_status = 1)\n            : this.businessApplication.application_status === 1\n            ? (application_status = 2)\n            : this.businessApplication.application_status === 2\n            ? (application_status = 3)\n            : application_status === 3\n            ? (application_status = 4)\n            : (application_status = 0);\n          let payload = {\n            id: this.currentBusinessId,\n            status: application_status,\n            account_number: \"\",\n          };\n          this.$store.dispatch(\"approveBusinessApplication\", payload);\n        }\n        if (!this.isBusinessAssessment) {\n          if (this.businessApplication.application_status === 2) {\n            // let resetAssessmentPayload = {\n            //   business_application: this.businessApplication.id,\n            // };\n            // this.$store.dispatch(\n            //   \"resetBusinessAssessment\",\n            //   resetAssessmentPayload\n            // );\n          }\n        }\n        if (this.businessApplication.application_status === 2) {\n          let assessment_payload = {\n            business_application: this.currentBusinessId,\n            is_approve: false,\n          };\n          await this.$store.dispatch(\n            \"assessBusinessApplication\",\n            assessment_payload\n          );\n        }\n      }\n      await this.$store.dispatch(\"adminRespond\", {\n        id: this.currentInquiry,\n        is_responded: true,\n      });\n      await this.$store.dispatch(\"addMessage\", {\n        thread: this.currentInquiry,\n        body: this.body,\n      });\n      this.messages.push({ body: this.body, sender: { is_staff: true } });\n      this.body = \"\";\n      if (this.currentTable === \"delinquent\") {\n        this.getInquiry();\n      }\n      if (!this.isLastBuildingDept && this.isBuildingAssessment) {\n        await this.$store.dispatch(\n          \"assessBuildingApplication\",\n          this.buildingAssessmentPayload\n        );\n        this.$store.dispatch(\"createPrompt\", {\n          type: \"success\",\n          title: \"Success!\",\n          message: \"Application was successfully assessed!\",\n        });\n        this.$router.push({ name: \"Assessments\" });\n      }\n\n      if (!this.isLastBusinessDept && this.isBusinessAssessment) {\n        await this.$store.dispatch(\n          \"assessBusinessApplication\",\n          this.assessmentPayload\n        );\n        await this.$store.dispatch(\"createPrompt\", {\n          type: \"success\",\n          title: \"Success!\",\n          message: \"Application was successfully assessed!\",\n        });\n        this.$router.push({ name: \"Assessments\" });\n      }\n      this.getInquiry();\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\ndiv.inquiry-box {\n  width: 100%;\n  max-width: 1050px;\n  margin: 0 auto;\n  background-color: #fff;\n  box-shadow: 0px 10px 20px #0000000d;\n  border-radius: 20px;\n  margin-top: 30px;\n  div.inquiry-header {\n    background-color: #1492e6;\n    padding: 20px 40px;\n    border-top-left-radius: 20px;\n    border-top-right-radius: 20px;\n    div.inquiry-subj {\n      color: #fafafa;\n      font-size: 20px;\n      font-weight: bold;\n      line-height: 1.6;\n      letter-spacing: 1.06px;\n      margin-bottom: 5px;\n    }\n    div.inquiry-date {\n      color: #e6e6e6;\n      font-size: 16px;\n      line-height: 1.4;\n      letter-spacing: 0.8px;\n    }\n  }\n  div.resolve-column {\n    width: 100%;\n    justify-content: center;\n    padding: 15px 0;\n\n    div.resolve-button {\n      width: 100%;\n      text-align: center;\n      button.btn-resolve {\n        background: #81c784;\n        color: #fff;\n        font-size: 15px;\n        font-weight: bold;\n        border-radius: 50px;\n        border: 1px solid #81c784;\n        padding: 12px 25px;\n        margin-bottom: 15px;\n        cursor: pointer;\n        transition: 0.4s;\n      }\n\n      button.btn-resolve:hover {\n        color: #81c784;\n        background-color: transparent;\n      }\n\n      button.btn-resolve:focus {\n        outline: none;\n      }\n    }\n\n    .resolve-note {\n      font-size: 14px;\n      color: #969696;\n      span {\n        font-weight: bold;\n      }\n    }\n  }\n  div.inquiry-body {\n    padding: 35px 48px;\n    max-height: 600px;\n    overflow-y: scroll;\n    .item-row {\n      margin-bottom: 10px;\n    }\n\n    .item-row.sender {\n      .item-content {\n        background-color: #e6e6e650;\n      }\n    }\n\n    .item-row.me {\n      .item-name {\n        text-align: right;\n      }\n      .item-content {\n        background-color: #eaf6ff90;\n      }\n    }\n\n    .item-name {\n      color: #1792e6;\n      font-size: 16px;\n      font-weight: bold;\n      line-height: 29px;\n      letter-spacing: 0.32px;\n      margin-bottom: 6px;\n    }\n\n    .item-content {\n      color: #000000c1;\n      font-size: 14px;\n      line-height: 28px;\n      padding: 35px 32px;\n      border-radius: 12px;\n    }\n\n    .item-date {\n      color: #b3d7fe;\n      font-size: 12px;\n      line-height: 1.6;\n      letter-spacing: 0.24px;\n      text-align: right;\n    }\n    div.inquiry-footer {\n      margin-top: 25px;\n      padding-top: 25px;\n      border-top: 1px solid #d0e9fa;\n      div.inquiry-footer-text {\n        color: #9fa6ab;\n        font-size: 16px;\n        font-weight: bold;\n        line-height: 29px;\n        margin-bottom: 10px;\n        .admin-icon {\n          font-size: 21px;\n          margin-right: 14px;\n        }\n      }\n      textarea {\n        color: #2b2b2b;\n        border-color: #d0e9fa;\n        font-size: 14px;\n        font-family: Raleway;\n        line-height: 28px;\n        width: calc(100% - 60px);\n        max-height: 150px;\n        padding: 25px 30px;\n        margin-bottom: 15px;\n        border-radius: 12px;\n      }\n      textarea:focus {\n        outline: 0;\n        border-color: #027ab5;\n        background-color: #f8fcff;\n      }\n      .inquiry-button {\n        text-align: right;\n        width: 100%;\n        justify-content: flex-end;\n      }\n    }\n    .inquiry-button {\n      text-align: right;\n      width: 100%;\n      justify-content: flex-end;\n    }\n  }\n}\n\n.item-attachment {\n  font-size: 13px;\n  width: 100%;\n  float: left;\n  padding: 5px 0;\n  color: #1492e6;\n  text-decoration: underline;\n  cursor: pointer;\n}\n\n.item-department {\n  color: #fff;\n  font-family: \"Proxima Nova Rg\";\n  font-size: 16px;\n  margin-top: 5px;\n  span {\n    font-weight: bold;\n  }\n}\n</style>\n"]}]}