{"remainingRequest":"/var/www/html/boss-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/html/boss-web/src/pages/Bills.vue?vue&type=style&index=0&id=2d3b8150&lang=scss&scoped=true&","dependencies":[{"path":"/var/www/html/boss-web/src/pages/Bills.vue","mtime":1606242937935},{"path":"/var/www/html/boss-web/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/boss-web/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/var/www/html/boss-web/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/var/www/html/boss-web/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/boss-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/boss-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKL2RlZXAvIC52bS0tbW9kYWwgewogIG92ZXJmbG93OiBhdXRvOwogIHdpZHRoOiAxMDAlOwp9Ci9kZWVwLyAudm0tLW1vZGFsOjotd2Via2l0LXNjcm9sbGJhciB7CiAgZGlzcGxheTogbm9uZTsKfQpzZWN0aW9uIHsKICAvLyBtaW4taGVpZ2h0OiBjYWxjKCAxMDB2aCAtIDMyMXB4KTsKICBwYWRkaW5nLWJvdHRvbTogMzBweDsKfQoKLmJpbGxzLWFjdGlvbnMgewogIG1heC13aWR0aDogNDU4cHg7CiAgbWFyZ2luOiAwIGF1dG87CiAgZGlzcGxheTogZmxleDsKICBmbGV4LXdyYXA6IHdyYXA7CgogIC5wYXktYnV0dG9uIHsKICAgIGNvbG9yOiAjZmZmZmZmOwogICAgYmFja2dyb3VuZC1jb2xvcjogIzAzOWJlNTsKICAgIGZvbnQtc2l6ZTogMTNweDsKICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgbWF4LXdpZHRoOiAxMjVweDsKICAgIGZsb2F0OiBsZWZ0OwogICAgcGFkZGluZzogMThweCA0MHB4OwogICAgbWluLXdpZHRoOiAxMjVweDsKICAgIG1hcmdpbjogMCAxMHB4IDNweDsKICAgIGJvcmRlcjogMnB4ICMwMzliZTUgc29saWQ7CiAgICBib3JkZXItcmFkaXVzOiA1cHg7CiAgICB0cmFuc2l0aW9uOiAwLjRzOwogICAgY3Vyc29yOiBwb2ludGVyOwogIH0KICAucGF5LWJ1dHRvbjpob3ZlciB7CiAgICBjb2xvcjogIzAzOWJlNTsKICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50OwogIH0KCiAgLmNhbmNlbC1idXR0b24gewogICAgY29sb3I6ICNkMzJmMmY7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDsKICAgIGZvbnQtc2l6ZTogMTNweDsKICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgbWF4LXdpZHRoOiAxMjVweDsKICAgIGZsb2F0OiBsZWZ0OwogICAgcGFkZGluZzogMThweCA0MHB4OwogICAgbWFyZ2luOiAwIDEwcHggM3B4OwogICAgYm9yZGVyOiAycHggI2QzMmYyZiBzb2xpZDsKICAgIGJvcmRlci1yYWRpdXM6IDVweDsKICAgIHRyYW5zaXRpb246IDAuNHM7CiAgICBjdXJzb3I6IHBvaW50ZXI7CiAgfQogIC5jYW5jZWwtYnV0dG9uOmhvdmVyIHsKICAgIGNvbG9yOiAjZmZmZmZmOwogICAgYmFja2dyb3VuZC1jb2xvcjogI2QzMmYyZjsKICB9Cn0KCi5iaWxscy10YWJsZSB7CiAgbWFyZ2luLWJvdHRvbTogNTBweDsKfQoKQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA3NjhweCkgewogIC5pbnZvaWNlLWhlYWRlciwKICAuYmlsbHMtdGFibGUgewogICAgbWFyZ2luLXRvcDogMzBweDsKICB9Cn0K"},{"version":3,"sources":["Bills.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"Bills.vue","sourceRoot":"src/pages","sourcesContent":["<template>\n  <section>\n    <modal\n      name=\"invoiceModal\"\n      height=\"auto\"\n      :adaptive=\"true\"\n      :classes=\"['vue-modal-2']\"\n      ><invoice-dialog\n    /></modal>\n    <div class=\"container\">\n      <div class=\"mt50 invoice-header\">\n        <profile-table-menu type=\"bills\" />\n      </div>\n      <div class=\"mt50 bills-table\">\n        <bills-table />\n      </div>\n      <div class=\"bills-actions\">\n        <div class=\"pay-button\" @click=\"onPayClick(true)\">\n          <font-awesome-icon icon=\"receipt\" class=\"mr5 icon\" />GENERATE SOA\n        </div>\n        <div class=\"cancel-button\" @click=\"onPayClick(false)\">\n          <font-awesome-icon icon=\"times\" class=\"mr5 icon\" />GENERATE LATER\n        </div>\n      </div>\n    </div>\n  </section>\n</template>\n\n<script>\nimport ProfileTableMenu from \"@/components/tables/ProfileTableMenu\";\nimport BillsTable from \"@/components/tables/BillsTable\";\nimport InvoiceDialog from \"@/components/payment/InvoiceDialog\";\nimport { mapGetters } from \"vuex\"\nimport moment from \"moment-timezone\";\nexport default {\n  name: \"Bills\",\n  components: {\n    ProfileTableMenu,\n    BillsTable,\n    InvoiceDialog,\n  },\n  computed:{\n    ...mapGetters(['currentSelectedBusiness','generatedBill', 'currentSoaType', 'currentSelectedProperty'])\n  },\n  methods:{\n    onPayClick(status){\n      if(status){\n        this.createSoa()\n      }else{\n        this.$router.push({'name': 'Profile'})\n      }\n    },\n    async createSoa(){\n      let bills = []\n      this.generatedBill.invoices.forEach(item=>{\n        let fees = []\n        item.fees.forEach(element=>{\n          let fee = {\n            fee_description: element.fee_description,\n            amount: element.amount,\n            code: element.feecode,\n            penalty: element.ispenalty == \"0\" ? false : true\n          }\n          fees.push(fee)\n        })\n        let bill = {\n          reference_number: item.referenceno,\n          quarter: item.quarter,\n          amount: item.amount,\n          due_date: moment(item.duedate),\n          fees: fees\n        }\n        bills.push(bill)\n      })\n      const payload = {\n        soa: {\n          year: this.generatedBill.year,\n          quarter: this.generatedBill.quarter,\n          paymode: this.generatedBill.paymode,\n          amount: this.generatedBill.total_amount,\n          business_application: this.currentSoaType === 'business' ? this.currentSelectedBusiness.id : null,\n          building_application: this.currentSoaType === 'real_property' ? this.currentSelectedProperty.id : null,\n          bills: bills,\n          application_type: this.currentSoaType\n        }\n      }\n      await this.$store.dispatch('createSoa', payload)\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n/deep/ .vm--modal {\n  overflow: auto;\n  width: 100%;\n}\n/deep/ .vm--modal::-webkit-scrollbar {\n  display: none;\n}\nsection {\n  // min-height: calc( 100vh - 321px);\n  padding-bottom: 30px;\n}\n\n.bills-actions {\n  max-width: 458px;\n  margin: 0 auto;\n  display: flex;\n  flex-wrap: wrap;\n\n  .pay-button {\n    color: #ffffff;\n    background-color: #039be5;\n    font-size: 13px;\n    font-weight: bold;\n    text-align: center;\n    max-width: 125px;\n    float: left;\n    padding: 18px 40px;\n    min-width: 125px;\n    margin: 0 10px 3px;\n    border: 2px #039be5 solid;\n    border-radius: 5px;\n    transition: 0.4s;\n    cursor: pointer;\n  }\n  .pay-button:hover {\n    color: #039be5;\n    background-color: transparent;\n  }\n\n  .cancel-button {\n    color: #d32f2f;\n    background-color: transparent;\n    font-size: 13px;\n    font-weight: bold;\n    text-align: center;\n    max-width: 125px;\n    float: left;\n    padding: 18px 40px;\n    margin: 0 10px 3px;\n    border: 2px #d32f2f solid;\n    border-radius: 5px;\n    transition: 0.4s;\n    cursor: pointer;\n  }\n  .cancel-button:hover {\n    color: #ffffff;\n    background-color: #d32f2f;\n  }\n}\n\n.bills-table {\n  margin-bottom: 50px;\n}\n\n@media only screen and (max-width: 768px) {\n  .invoice-header,\n  .bills-table {\n    margin-top: 30px;\n  }\n}\n</style>\n"]}]}