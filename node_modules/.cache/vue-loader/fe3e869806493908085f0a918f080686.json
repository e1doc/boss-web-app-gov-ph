{"remainingRequest":"/var/www/html/boss-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/html/boss-web/src/pages/NewInquiry.vue?vue&type=script&lang=js&","dependencies":[{"path":"/var/www/html/boss-web/src/pages/NewInquiry.vue","mtime":1611147621579},{"path":"/var/www/html/boss-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/boss-web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/var/www/html/boss-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/boss-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBJbnF1aXJ5VGFibGVNZW51IGZyb20gIkAvY29tcG9uZW50cy90YWJsZXMvSW5xdWlyeVRhYmxlTWVudSI7CmltcG9ydCBJbnF1aXJ5VGFibGUgZnJvbSAiQC9jb21wb25lbnRzL3RhYmxlcy9JbnF1aXJ5VGFibGUiOwppbXBvcnQgQnV0dG9uQmxvY2sgZnJvbSAiQC9jb21wb25lbnRzL0J1dHRvbkJsb2NrIjsKaW1wb3J0IEJhc2VJbnB1dCBmcm9tICJAL2NvbXBvbmVudHMvZm9ybXMvQmFzZUlucHV0IjsKaW1wb3J0IEJhc2VGaWxlVXBsb2FkZXIgZnJvbSAiQC9jb21wb25lbnRzL2Zvcm1zL0Jhc2VGaWxlVXBsb2FkZXIiOwppbXBvcnQgQmFzZVNlbGVjdCBmcm9tICJAL2NvbXBvbmVudHMvZm9ybXMvQmFzZVNlbGVjdCI7CmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJSZXBseUlucXVpcnkiLAogIGNvbXBvbmVudHM6IHsKICAgIElucXVpcnlUYWJsZU1lbnUsCiAgICBJbnF1aXJ5VGFibGUsCiAgICBCdXR0b25CbG9jaywKICAgIEJhc2VJbnB1dCwKICAgIEJhc2VGaWxlVXBsb2FkZXIsCiAgICBCYXNlU2VsZWN0LAogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcEdldHRlcnMoWwogICAgICAiY3VycmVudFRhYmxlIiwKICAgICAgImN1cnJlbnRJbnF1aXJ5IiwKICAgICAgInJlbWFya3MiLAogICAgICAiYnVpbGRpbmdBcHBsaWNhdGlvbiIsCiAgICAgICJidXNpbmVzc0FwcGxpY2F0aW9uIiwKICAgICAgImlzQnVpbGRpbmdBc3Nlc3NtZW50IiwKICAgICAgImlzTGFzdEJ1aWxkaW5nRGVwdCIsCiAgICAgICJ1c2VyRGVwYXJ0bWVudCIsCiAgICAgICJhcHBsaWNhdGlvblJlbWFya3MiLAogICAgICAiaXNCdXNpbmVzc0Fzc2Vzc21lbnQiLAogICAgICAiaXNMYXN0QnVzaW5lc3NEZXB0IiwKICAgICAgImF1dGhUb2tlbiIsCiAgICAgICJhc3Nlc3NtZW50UGF5bG9hZCIsCiAgICAgICJidWlsZGluZ0Fzc2Vzc21lbnRQYXlsb2FkIiwKICAgIF0pLAogIH0sCiAgcHJvcHM6IHsKICAgIGFwcGxpY2F0aW9uX251bWJlcjogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICIiLAogICAgfSwKICAgIGFwcGxpY2F0aW9uX3R5cGU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAiIiwKICAgIH0sCiAgICB1c2VyOiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgIH0sCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc3ViamVjdDogIiIsCiAgICAgIGJvZHk6ICIiLAogICAgICB0eXBlOiAiIiwKICAgICAgYXBwbGljYXRpb25UeXBlOiAiIiwKICAgICAgYXBwbGljYXRpb25OdW1iZXI6ICIiLAogICAgICByZWNlaXZlcjogIiIsCiAgICAgIGRlcGFydG1lbnRzOiBbXSwKICAgICAgZGVwYXJ0bWVudDogIiIsCiAgICAgIHJlcXVpcmVkX2ZpZWxkczogWyJkZXBhcnRtZW50IiwgInN1YmplY3QiLCAiYm9keSJdLAogICAgICBmaWVsZF9lcnJvcnM6IHsgZGVwYXJ0bWVudDogW10sIHN1YmplY3Q6IFtdLCBib2R5OiBbXSB9LAogICAgfTsKICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldERlcGFydG1lbnRzKCk7CiAgfSwKICBtb3VudGVkKCkgewogICAgY29uc29sZS5sb2codGhpcy50eXBlKTsKICAgIHRoaXMuZ2V0UmVtYXJrcygpOwogIH0sCiAgYmVmb3JlUm91dGVMZWF2ZSh0bywgZnJvbSwgbmV4dCkgewogICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goInNldEFwcGxpY2F0aW9uU3RhdGVSZW1hcmtzIiwge30pOwogICAgdGhpcy4kc3RvcmUuY29tbWl0KCJzZXRDdXJyZW50SW5xdWlyeSIsICIiKTsKICAgIG5leHQoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGFzeW5jIHZhbGlkYXRlRmllbGRzKCkgewogICAgICB0aGlzLnJlcXVpcmVkX2ZpZWxkcy5mb3JFYWNoKChpdGVtKSA9PiB7CiAgICAgICAgaWYgKHRoaXNbaXRlbV0gPT09ICIiKSB7CiAgICAgICAgICB0aGlzLmZpZWxkX2Vycm9yc1tgJHtpdGVtfWBdLnB1c2goIlRoaXMgZmllbGQgbWF5IG5vdCBiZSBibGFuay4iKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICBpZiAoT2JqZWN0LmtleXModGhpcy5maWVsZF9lcnJvcnMpLmxlbmd0aCA+IDApIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdHJ1ZTsKICAgICAgfQogICAgfSwKICAgIGFzeW5jIGdldFJlbWFya3MoKSB7CiAgICAgIGlmICghdGhpcy5hcHBsaWNhdGlvblJlbWFya3MuYXBwbGljYXRpb25fbnVtYmVyKSB7CiAgICAgICAgaWYgKHRoaXMuYXBwbGljYXRpb25fbnVtYmVyICE9PSAiIikgewogICAgICAgICAgYXdhaXQgdGhpcy4kc3RvcmUuZGlzcGF0Y2goInNldEFwcGxpY2F0aW9uU3RhdGVSZW1hcmtzIiwgewogICAgICAgICAgICBhcHBsaWNhdGlvbl9udW1iZXI6IHRoaXMuYXBwbGljYXRpb25fbnVtYmVyLAogICAgICAgICAgICBhcHBsaWNhdGlvbl90eXBlOiB0aGlzLmFwcGxpY2F0aW9uX3R5cGUsCiAgICAgICAgICAgIHVzZXI6IHRoaXMudXNlciwKICAgICAgICAgIH0pOwogICAgICAgICAgdGhpcy5zdWJqZWN0ID0gYEFwcGxpY2F0aW9uICMke3RoaXMuYXBwbGljYXRpb25fbnVtYmVyfSBSZW1hcmtzYDsKICAgICAgICAgIHRoaXMudHlwZSA9ICJyZW1hcmtzIjsKICAgICAgICAgIHRoaXMuYXBwbGljYXRpb25UeXBlID0gdGhpcy5hcHBsaWNhdGlvbl90eXBlOwogICAgICAgICAgdGhpcy5hcHBsaWNhdGlvbk51bWJlciA9IHRoaXMuYXBwbGljYXRpb25fbnVtYmVyOwogICAgICAgICAgdGhpcy5yZWNlaXZlciA9IHRoaXMudXNlcjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy50eXBlID0gImlucXVpcnkiOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAodGhpcy5hcHBsaWNhdGlvblJlbWFya3MuYXBwbGljYXRpb25fbnVtYmVyKSB7CiAgICAgICAgICB0aGlzLnN1YmplY3QgPSBgQXBwbGljYXRpb24gIyR7dGhpcy5hcHBsaWNhdGlvblJlbWFya3MuYXBwbGljYXRpb25fbnVtYmVyfSBSZW1hcmtzYDsKICAgICAgICAgIHRoaXMudHlwZSA9ICJyZW1hcmtzIjsKICAgICAgICAgIHRoaXMuYXBwbGljYXRpb25UeXBlID0gdGhpcy5yZW1hcmtzLmFwcGxpY2F0aW9uX3R5cGU7CiAgICAgICAgICB0aGlzLmFwcGxpY2F0aW9uTnVtYmVyID0gdGhpcy5yZW1hcmtzLmFwcGxpY2F0aW9uX251bWJlcjsKICAgICAgICAgIHRoaXMucmVjZWl2ZXIgPSB0aGlzLnJlbWFya3MudXNlcjsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBpc0J1dHRvbkRpc2FibGVkKCkgewogICAgICBpZiAodGhpcy50eXBlICE9PSAicmVtYXJrcyIpIHsKICAgICAgICBpZiAodGhpcy5ib2R5ID09PSAiIiB8fCB0aGlzLnN1YmplY3QgPT09ICIiIHx8IHRoaXMuZGVwYXJ0bWVudCA9PT0gIiIpIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGlmICh0aGlzLmJvZHkgPT09ICIiIHx8IHRoaXMuc3ViamVjdCA9PT0gIiIpIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgYXN5bmMgc2VuZE1lc3NhZ2VQcm9jZXNzKCkgewogICAgICBsZXQgaXNDbGVhbiA9IGF3YWl0IHRoaXMudmFsaWRhdGVGaWVsZHMoKTsKICAgICAgY29uc29sZS5sb2codGhpcy5maWVsZF9lcnJvcnMpOwogICAgICBpZiAoaXNDbGVhbikgewogICAgICAgIGF3YWl0IHRoaXMuc2VuZE1lc3NhZ2UoKTsKICAgICAgfQogICAgfSwKICAgIGFzeW5jIHNlbmRNZXNzYWdlKCkgewogICAgICBhd2FpdCB0aGlzLiRzdG9yZS5jb21taXQoInNldExvYWRpbmciLCB0cnVlKTsKICAgICAgYXdhaXQgdGhpcy4kc3RvcmUuZGlzcGF0Y2goImFkZFRocmVhZCIsIHsKICAgICAgICBzdWJqZWN0OiB0aGlzLnN1YmplY3QsCiAgICAgICAgaXNfcmVtYXJrczogdGhpcy50eXBlID09PSAicmVtYXJrcyIgPyB0cnVlIDogZmFsc2UsCiAgICAgICAgYnVzaW5lc3NfaWQ6CiAgICAgICAgICB0aGlzLmFwcGxpY2F0aW9uVHlwZSA9PT0gImJ1c2luZXNzIiA/IHRoaXMuYXBwbGljYXRpb25OdW1iZXIgOiBudWxsLAogICAgICAgIGJ1aWxkaW5nX2lkOgogICAgICAgICAgdGhpcy5hcHBsaWNhdGlvblR5cGUgPT09ICJidWlsZGluZyIgPyB0aGlzLmFwcGxpY2F0aW9uTnVtYmVyIDogbnVsbCwKICAgICAgICByZWNlaXZlcjogdGhpcy50eXBlID09PSAicmVtYXJrcyIgPyB0aGlzLnJlY2VpdmVyIDogbnVsbCwKICAgICAgICBkZXBhcnRtZW50OiB0aGlzLmRlcGFydG1lbnQsCiAgICAgIH0pOwogICAgICBhd2FpdCB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiYWRkTWVzc2FnZSIsIHsKICAgICAgICB0aHJlYWQ6IHRoaXMuY3VycmVudElucXVpcnksCiAgICAgICAgYm9keTogdGhpcy5ib2R5LAogICAgICB9KTsKICAgICAgYXdhaXQgdGhpcy4kc3RvcmUuY29tbWl0KCJzZXRMb2FkaW5nIiwgZmFsc2UpOwogICAgICBpZiAodGhpcy50eXBlID09PSAicmVtYXJrcyIpIHsKICAgICAgICBpZiAodGhpcy5hcHBsaWNhdGlvblR5cGUgPT09ICJidWlsZGluZyIpIHsKICAgICAgICAgIGxldCBhcHBsaWNhdGlvbl9zdGF0dXMgPSAwOwogICAgICAgICAgaWYgKHRoaXMuaXNCdWlsZGluZ0Fzc2Vzc21lbnQpIHsKICAgICAgICAgICAgYXBwbGljYXRpb25fc3RhdHVzID0gdGhpcy5idWlsZGluZ0FwcGxpY2F0aW9uLmFwcGxpY2F0aW9uX3N0YXR1czsKICAgICAgICAgICAgaWYgKCF0aGlzLmlzTGFzdEJ1aWxkaW5nRGVwdCkgewogICAgICAgICAgICAgIGF3YWl0IHRoaXMuJHN0b3JlLmRpc3BhdGNoKAogICAgICAgICAgICAgICAgImFzc2Vzc0J1aWxkaW5nQXBwbGljYXRpb24iLAogICAgICAgICAgICAgICAgdGhpcy5idWlsZGluZ0Fzc2Vzc21lbnRQYXlsb2FkCiAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiY3JlYXRlUHJvbXB0IiwgewogICAgICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgICAgICAgdGl0bGU6ICJTdWNjZXNzISIsCiAgICAgICAgICAgICAgICBtZXNzYWdlOiAiQXBwbGljYXRpb24gd2FzIHN1Y2Nlc3NmdWxseSBhc3Nlc3NlZCEiLAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgbmFtZTogIkFzc2Vzc21lbnRzIiB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy5idWlsZGluZ0FwcGxpY2F0aW9uLmFwcGxpY2F0aW9uX3N0YXR1cyA9PT0gMAogICAgICAgICAgICAgID8gKGFwcGxpY2F0aW9uX3N0YXR1cyA9IDEpCiAgICAgICAgICAgICAgOiB0aGlzLmJ1aWxkaW5nQXBwbGljYXRpb24uYXBwbGljYXRpb25fc3RhdHVzID09PSAzCiAgICAgICAgICAgICAgPyAoYXBwbGljYXRpb25fc3RhdHVzID0gNCkKICAgICAgICAgICAgICA6IChhcHBsaWNhdGlvbl9zdGF0dXMgPSAwKTsKICAgICAgICAgICAgbGV0IHBheWxvYWQgPSB7CiAgICAgICAgICAgICAgaWQ6IHRoaXMuYXBwbGljYXRpb25OdW1iZXIsCiAgICAgICAgICAgICAgc3RhdHVzOiBhcHBsaWNhdGlvbl9zdGF0dXMsCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJhcHByb3ZlQnVpbGRpbmdBcHBsaWNhdGlvbiIsIHBheWxvYWQpOwogICAgICAgICAgfQogICAgICAgICAgaWYgKCF0aGlzLmlzQnVpbGRpbmdBc3Nlc3NtZW50KSB7CiAgICAgICAgICAgIGlmICh0aGlzLmJ1aWxkaW5nQXBwbGljYXRpb24uYXBwbGljYXRpb25fc3RhdHVzID09PSAzKSB7CiAgICAgICAgICAgICAgbGV0IHJlc2V0QXNzZXNzbWVudFBheWxvYWQgPSB7CiAgICAgICAgICAgICAgICBidWlsZGluZ19hcHBsaWNhdGlvbjogdGhpcy5idWlsZGluZ0FwcGxpY2F0aW9uLmlkLAogICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goCiAgICAgICAgICAgICAgICAicmVzZXRCdWlsZGluZ0Fzc2Vzc21lbnQiLAogICAgICAgICAgICAgICAgcmVzZXRBc3Nlc3NtZW50UGF5bG9hZAogICAgICAgICAgICAgICk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgaWYgKHRoaXMuYXBwbGljYXRpb25UeXBlID09PSAiYnVzaW5lc3MiKSB7CiAgICAgICAgICBsZXQgYXBwbGljYXRpb25fc3RhdHVzID0gMDsKICAgICAgICAgIGlmICh0aGlzLmlzQnVzaW5lc3NBc3Nlc3NtZW50KSB7CiAgICAgICAgICAgIGFwcGxpY2F0aW9uX3N0YXR1cyA9IHRoaXMuYnVzaW5lc3NBcHBsaWNhdGlvbi5hcHBsaWNhdGlvbl9zdGF0dXM7CiAgICAgICAgICAgIGF3YWl0IHRoaXMuJHN0b3JlLmRpc3BhdGNoKAogICAgICAgICAgICAgICJhc3Nlc3NCdXNpbmVzc0FwcGxpY2F0aW9uIiwKICAgICAgICAgICAgICB0aGlzLmFzc2Vzc21lbnRQYXlsb2FkCiAgICAgICAgICAgICk7CiAgICAgICAgICAgIGlmICghdGhpcy5pc0xhc3RCdXNpbmVzc0RlcHQpIHsKICAgICAgICAgICAgICBhd2FpdCB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiY3JlYXRlUHJvbXB0IiwgewogICAgICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgICAgICAgdGl0bGU6ICJTdWNjZXNzISIsCiAgICAgICAgICAgICAgICBtZXNzYWdlOiAiQXBwbGljYXRpb24gd2FzIHN1Y2Nlc3NmdWxseSBhc3Nlc3NlZCEiLAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgbmFtZTogIkFzc2Vzc21lbnRzIiB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy5idXNpbmVzc0FwcGxpY2F0aW9uLmFwcGxpY2F0aW9uX3N0YXR1cyA9PT0gMAogICAgICAgICAgICAgID8gKGFwcGxpY2F0aW9uX3N0YXR1cyA9IDEpCiAgICAgICAgICAgICAgOiB0aGlzLmJ1c2luZXNzQXBwbGljYXRpb24uYXBwbGljYXRpb25fc3RhdHVzID09PSAyCiAgICAgICAgICAgICAgPyAoYXBwbGljYXRpb25fc3RhdHVzID0gMykKICAgICAgICAgICAgICA6IChhcHBsaWNhdGlvbl9zdGF0dXMgPSAwKTsKICAgICAgICAgICAgbGV0IHBheWxvYWQgPSB7CiAgICAgICAgICAgICAgaWQ6IHRoaXMuYXBwbGljYXRpb25OdW1iZXIsCiAgICAgICAgICAgICAgc3RhdHVzOiBhcHBsaWNhdGlvbl9zdGF0dXMsCiAgICAgICAgICAgICAgYWNjb3VudF9udW1iZXI6ICIiLAogICAgICAgICAgICB9OwogICAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiYXBwcm92ZUJ1c2luZXNzQXBwbGljYXRpb24iLCBwYXlsb2FkKTsKICAgICAgICAgIH0KICAgICAgICAgIGlmICghdGhpcy5pc0J1c2luZXNzQXNzZXNzbWVudCkgewogICAgICAgICAgICBpZiAodGhpcy5idXNpbmVzc0FwcGxpY2F0aW9uLmFwcGxpY2F0aW9uX3N0YXR1cyA9PT0gMikgewogICAgICAgICAgICAgIGxldCByZXNldEFzc2Vzc21lbnRQYXlsb2FkID0gewogICAgICAgICAgICAgICAgYnVzaW5lc3NfYXBwbGljYXRpb246IHRoaXMuYnVzaW5lc3NBcHBsaWNhdGlvbi5pZCwKICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKAogICAgICAgICAgICAgICAgInJlc2V0QnVzaW5lc3NBc3Nlc3NtZW50IiwKICAgICAgICAgICAgICAgIHJlc2V0QXNzZXNzbWVudFBheWxvYWQKICAgICAgICAgICAgICApOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGF3YWl0IHRoaXMuJHN3YWwoewogICAgICAgICAgdGl0bGU6ICJTdWNjZXNzISIsCiAgICAgICAgICB0ZXh0OiAiSW5xdWlyeSBzdWNjZXNzZnVsbHkgc2VudC4iLAogICAgICAgICAgaWNvbjogInN1Y2Nlc3MiLAogICAgICAgIH0pLnRoZW4oKHZhbHVlKSA9PiB7CiAgICAgICAgICBpZiAodGhpcy50eXBlID09PSAiaW5xdWlyeSIpIHsKICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lOiAiVXNlcklucXVpcmllcyIgfSk7CiAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMudHlwZSA9PT0gInJlbWFya3MiKSB7CiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgbmFtZTogIklucXVpcmllcyIgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBhc3luYyBnZXREZXBhcnRtZW50cygpIHsKICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgYXhpb3MuZ2V0KAogICAgICAgIGAke3Byb2Nlc3MuZW52LlZVRV9BUFBfQVBJX1VSTH0vYXBpL2RlcGFydG1lbnQtbGlzdC9gLAogICAgICAgIHsgaGVhZGVyczogeyBBdXRob3JpemF0aW9uOiBgand0ICR7dGhpcy5hdXRoVG9rZW59YCB9IH0KICAgICAgKTsKICAgICAgaWYgKHJlc3VsdC5kYXRhLmxlbmd0aCA+IDApIHsKICAgICAgICByZXN1bHQuZGF0YS5mb3JFYWNoKChpdGVtKSA9PiB7CiAgICAgICAgICBsZXQgb3B0aW9uID0gewogICAgICAgICAgICBsYWJlbDogaXRlbS5uYW1lLAogICAgICAgICAgICB2YWx1ZTogaXRlbS5uYW1lLAogICAgICAgICAgfTsKICAgICAgICAgIHRoaXMuZGVwYXJ0bWVudHMucHVzaChvcHRpb24pOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["NewInquiry.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"NewInquiry.vue","sourceRoot":"src/pages","sourcesContent":["<template>\n  <div class=\"inquiry-box\">\n    <div class=\"inquiry-header\">\n      <div class=\"inquiry-subj\">\n        New {{ type === \"inquiry\" ? \"Inquiry\" : \"Remarks\" }}\n      </div>\n      <!-- <div class=\"application-button\">\n                 <button-block type=\"default\" class=\"inquiry-application-btn\" />\n             </div> -->\n      <div class=\"inquiry-date\">\n        Date: {{ new Date(Date.now()) | moment(\"MMMM DD YYYY\") }}\n      </div>\n    </div>\n    <div class=\"inquiry-body\">\n      <!-- REPLY SECTION -->\n      <div class=\"inquiry-new\">\n        <div class=\"inquiry-new-text\">SUBJECT</div>\n        <input\n          type=\"text\"\n          name=\"subject\"\n          id=\"subject\"\n          class=\"input-subject\"\n          placeholder=\"Type your subject here\"\n          v-model=\"subject\"\n          :disabled=\"type === 'inquiry' ? false : true\"\n        />\n        <div v-if=\"type === 'inquiry'\">\n          <div class=\"inquiry-new-text mb15\">Department Concern</div>\n          <base-select\n            placeholder=\"------ Choose Department ------\"\n            :options=\"departments\"\n            name=\"selectDepartment\"\n            class=\"select-input mb15\"\n            v-model=\"department\"\n          />\n        </div>\n        <div class=\"inquiry-new-text\">\n          {{ type === \"inquiry\" ? \"Inquiry\" : \"Remarks\" }}\n        </div>\n        <textarea\n          name=\"inquiry\"\n          id=\"inquiry\"\n          rows=\"6\"\n          placeholder=\"Type your text here\"\n          v-model=\"body\"\n        ></textarea>\n\n        <!-- ATTACH FILE -->\n        <base-file-uploader\n          name=\"inquiryattachment\"\n          fileLabel=\"inquiry_attachment\"\n          uploadType=\"application/pdf\"\n          class=\"upload-attachment\"\n          v-if=\"isLastBuildingDept\"\n          :isEvaluation=\"true\"\n        />\n      </div>\n      <div class=\"inquiry-button flex-wrap\">\n        <button-block\n          type=\"send\"\n          :disabled=\"!isButtonDisabled()\"\n          @click.native=\"sendMessage\"\n          :class=\"{\n            'btn-disabled': !isButtonDisabled(),\n          }\"\n          >SEND</button-block\n        >\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport InquiryTableMenu from \"@/components/tables/InquiryTableMenu\";\nimport InquiryTable from \"@/components/tables/InquiryTable\";\nimport ButtonBlock from \"@/components/ButtonBlock\";\nimport BaseInput from \"@/components/forms/BaseInput\";\nimport BaseFileUploader from \"@/components/forms/BaseFileUploader\";\nimport BaseSelect from \"@/components/forms/BaseSelect\";\nimport { mapGetters } from \"vuex\";\nimport axios from \"axios\";\nexport default {\n  name: \"ReplyInquiry\",\n  components: {\n    InquiryTableMenu,\n    InquiryTable,\n    ButtonBlock,\n    BaseInput,\n    BaseFileUploader,\n    BaseSelect,\n  },\n  computed: {\n    ...mapGetters([\n      \"currentTable\",\n      \"currentInquiry\",\n      \"remarks\",\n      \"buildingApplication\",\n      \"businessApplication\",\n      \"isBuildingAssessment\",\n      \"isLastBuildingDept\",\n      \"userDepartment\",\n      \"applicationRemarks\",\n      \"isBusinessAssessment\",\n      \"isLastBusinessDept\",\n      \"authToken\",\n      \"assessmentPayload\",\n      \"buildingAssessmentPayload\",\n    ]),\n  },\n  props: {\n    application_number: {\n      type: String,\n      default: \"\",\n    },\n    application_type: {\n      type: String,\n      default: \"\",\n    },\n    user: {\n      type: Number,\n    },\n  },\n  data() {\n    return {\n      subject: \"\",\n      body: \"\",\n      type: \"\",\n      applicationType: \"\",\n      applicationNumber: \"\",\n      receiver: \"\",\n      departments: [],\n      department: \"\",\n      required_fields: [\"department\", \"subject\", \"body\"],\n      field_errors: { department: [], subject: [], body: [] },\n    };\n  },\n  created() {\n    this.getDepartments();\n  },\n  mounted() {\n    console.log(this.type);\n    this.getRemarks();\n  },\n  beforeRouteLeave(to, from, next) {\n    this.$store.dispatch(\"setApplicationStateRemarks\", {});\n    this.$store.commit(\"setCurrentInquiry\", \"\");\n    next();\n  },\n  methods: {\n    async validateFields() {\n      this.required_fields.forEach((item) => {\n        if (this[item] === \"\") {\n          this.field_errors[`${item}`].push(\"This field may not be blank.\");\n        }\n      });\n      if (Object.keys(this.field_errors).length > 0) {\n        return false;\n      } else {\n        true;\n      }\n    },\n    async getRemarks() {\n      if (!this.applicationRemarks.application_number) {\n        if (this.application_number !== \"\") {\n          await this.$store.dispatch(\"setApplicationStateRemarks\", {\n            application_number: this.application_number,\n            application_type: this.application_type,\n            user: this.user,\n          });\n          this.subject = `Application #${this.application_number} Remarks`;\n          this.type = \"remarks\";\n          this.applicationType = this.application_type;\n          this.applicationNumber = this.application_number;\n          this.receiver = this.user;\n        } else {\n          this.type = \"inquiry\";\n        }\n      } else {\n        if (this.applicationRemarks.application_number) {\n          this.subject = `Application #${this.applicationRemarks.application_number} Remarks`;\n          this.type = \"remarks\";\n          this.applicationType = this.remarks.application_type;\n          this.applicationNumber = this.remarks.application_number;\n          this.receiver = this.remarks.user;\n        }\n      }\n    },\n    isButtonDisabled() {\n      if (this.type !== \"remarks\") {\n        if (this.body === \"\" || this.subject === \"\" || this.department === \"\") {\n          return false;\n        } else {\n          return true;\n        }\n      } else {\n        if (this.body === \"\" || this.subject === \"\") {\n          return false;\n        } else {\n          return true;\n        }\n      }\n    },\n    async sendMessageProcess() {\n      let isClean = await this.validateFields();\n      console.log(this.field_errors);\n      if (isClean) {\n        await this.sendMessage();\n      }\n    },\n    async sendMessage() {\n      await this.$store.commit(\"setLoading\", true);\n      await this.$store.dispatch(\"addThread\", {\n        subject: this.subject,\n        is_remarks: this.type === \"remarks\" ? true : false,\n        business_id:\n          this.applicationType === \"business\" ? this.applicationNumber : null,\n        building_id:\n          this.applicationType === \"building\" ? this.applicationNumber : null,\n        receiver: this.type === \"remarks\" ? this.receiver : null,\n        department: this.department,\n      });\n      await this.$store.dispatch(\"addMessage\", {\n        thread: this.currentInquiry,\n        body: this.body,\n      });\n      await this.$store.commit(\"setLoading\", false);\n      if (this.type === \"remarks\") {\n        if (this.applicationType === \"building\") {\n          let application_status = 0;\n          if (this.isBuildingAssessment) {\n            application_status = this.buildingApplication.application_status;\n            if (!this.isLastBuildingDept) {\n              await this.$store.dispatch(\n                \"assessBuildingApplication\",\n                this.buildingAssessmentPayload\n              );\n              this.$store.dispatch(\"createPrompt\", {\n                type: \"success\",\n                title: \"Success!\",\n                message: \"Application was successfully assessed!\",\n              });\n              this.$router.push({ name: \"Assessments\" });\n            }\n          } else {\n            this.buildingApplication.application_status === 0\n              ? (application_status = 1)\n              : this.buildingApplication.application_status === 3\n              ? (application_status = 4)\n              : (application_status = 0);\n            let payload = {\n              id: this.applicationNumber,\n              status: application_status,\n            };\n            this.$store.dispatch(\"approveBuildingApplication\", payload);\n          }\n          if (!this.isBuildingAssessment) {\n            if (this.buildingApplication.application_status === 3) {\n              let resetAssessmentPayload = {\n                building_application: this.buildingApplication.id,\n              };\n              this.$store.dispatch(\n                \"resetBuildingAssessment\",\n                resetAssessmentPayload\n              );\n            }\n          }\n        } else if (this.applicationType === \"business\") {\n          let application_status = 0;\n          if (this.isBusinessAssessment) {\n            application_status = this.businessApplication.application_status;\n            await this.$store.dispatch(\n              \"assessBusinessApplication\",\n              this.assessmentPayload\n            );\n            if (!this.isLastBusinessDept) {\n              await this.$store.dispatch(\"createPrompt\", {\n                type: \"success\",\n                title: \"Success!\",\n                message: \"Application was successfully assessed!\",\n              });\n              this.$router.push({ name: \"Assessments\" });\n            }\n          } else {\n            this.businessApplication.application_status === 0\n              ? (application_status = 1)\n              : this.businessApplication.application_status === 2\n              ? (application_status = 3)\n              : (application_status = 0);\n            let payload = {\n              id: this.applicationNumber,\n              status: application_status,\n              account_number: \"\",\n            };\n            this.$store.dispatch(\"approveBusinessApplication\", payload);\n          }\n          if (!this.isBusinessAssessment) {\n            if (this.businessApplication.application_status === 2) {\n              let resetAssessmentPayload = {\n                business_application: this.businessApplication.id,\n              };\n              this.$store.dispatch(\n                \"resetBusinessAssessment\",\n                resetAssessmentPayload\n              );\n            }\n          }\n        }\n      } else {\n        await this.$swal({\n          title: \"Success!\",\n          text: \"Inquiry successfully sent.\",\n          icon: \"success\",\n        }).then((value) => {\n          if (this.type === \"inquiry\") {\n            this.$router.push({ name: \"UserInquiries\" });\n          } else if (this.type === \"remarks\") {\n            this.$router.push({ name: \"Inquiries\" });\n          }\n        });\n      }\n    },\n    async getDepartments() {\n      const result = await axios.get(\n        `${process.env.VUE_APP_API_URL}/api/department-list/`,\n        { headers: { Authorization: `jwt ${this.authToken}` } }\n      );\n      if (result.data.length > 0) {\n        result.data.forEach((item) => {\n          let option = {\n            label: item.name,\n            value: item.name,\n          };\n          this.departments.push(option);\n        });\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\ndiv.inquiry-box {\n  width: 100%;\n  max-width: 1050px;\n  margin: 0 auto;\n  background-color: #fff;\n  box-shadow: 0px 10px 20px #0000000d;\n  border-radius: 20px;\n  margin-top: 30px;\n  margin-bottom: 50px;\n  div.inquiry-header {\n    background-color: #1492e6;\n    padding: 20px 40px;\n    border-top-left-radius: 20px;\n    border-top-right-radius: 20px;\n    position: relative;\n    div.inquiry-subj {\n      color: #fafafa;\n      font-size: 20px;\n      font-weight: bold;\n      line-height: 1.6;\n      letter-spacing: 1.06px;\n      margin-bottom: 5px;\n    }\n    div.inquiry-date {\n      color: #e6e6e6;\n      font-size: 16px;\n      line-height: 1.4;\n      letter-spacing: 0.8px;\n    }\n    div.application-button {\n      width: auto;\n      float: right;\n      position: absolute;\n      right: 45px;\n      top: 25px;\n    }\n  }\n  div.inquiry-body {\n    padding: 35px 48px;\n    .item-row {\n      margin-bottom: 10px;\n    }\n\n    .item-row.sender {\n      .item-content {\n        background-color: #eaf6ff50;\n      }\n    }\n\n    .item-row.me {\n      .item-name {\n        text-align: right;\n      }\n      .item-content {\n        background-color: #eaf6ff90;\n      }\n    }\n\n    .item-name {\n      color: #1792e6;\n      font-size: 16px;\n      font-weight: bold;\n      line-height: 29px;\n      letter-spacing: 0.32px;\n      margin-bottom: 6px;\n    }\n\n    .item-content {\n      color: #000000c1;\n      font-size: 14px;\n      line-height: 28px;\n      padding: 35px 32px;\n      border-radius: 12px;\n    }\n\n    .item-date {\n      color: #b3d7fe;\n      font-size: 12px;\n      line-height: 1.6;\n      letter-spacing: 0.24px;\n      text-align: right;\n    }\n\n    div.inquiry-new {\n      div.inquiry-new-text {\n        color: #9fa6ab;\n        font-size: 16px;\n        font-weight: bold;\n        line-height: 29px;\n        margin-bottom: 10px;\n        .admin-icon {\n          font-size: 21px;\n          margin-right: 14px;\n        }\n      }\n      .input-subject {\n        color: #2b2b2b;\n        border: 1px solid #d0e9fa;\n        font-size: 14px;\n        font-family: Raleway;\n        line-height: 28px;\n        width: calc(100% - 60px);\n        padding: 13px 30px;\n        margin-bottom: 30px;\n        border-radius: 12px;\n        outline: 0;\n        transition: 0.4s;\n      }\n      textarea {\n        color: #2b2b2b;\n        border-color: #d0e9fa;\n        font-size: 14px;\n        font-family: Raleway;\n        line-height: 28px;\n        width: calc(100% - 60px);\n        max-height: 150px;\n        padding: 25px 30px;\n        margin-bottom: 15px;\n        border-radius: 12px;\n        transition: 0.4s;\n      }\n      textarea:focus,\n      input:focus {\n        outline: 0;\n        border-color: #027ab5 !important;\n        background-color: #f8fcff !important;\n      }\n\n      .inquiry-button {\n        text-align: right;\n        width: 100%;\n        justify-content: flex-end;\n      }\n    }\n    .inquiry-button {\n      text-align: right;\n      width: 100%;\n      justify-content: flex-end;\n    }\n  }\n}\n</style>\n"]}]}