{"remainingRequest":"/var/www/html/boss-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/html/boss-web/src/components/application/BuildingStepOne.vue?vue&type=style&index=0&id=71831267&lang=scss&scoped=true&","dependencies":[{"path":"/var/www/html/boss-web/src/components/application/BuildingStepOne.vue","mtime":1611150945527},{"path":"/var/www/html/boss-web/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/boss-web/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/var/www/html/boss-web/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/var/www/html/boss-web/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/boss-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/boss-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgpkaXYubWV0YS1jb250YWluZXIgewogIHdpZHRoOiAxMDAlOwogIHBhZGRpbmc6IDUwcHg7CiAgYmFja2dyb3VuZC1jb2xvcjogI2VhZjZmZjsKICBib3JkZXItcmFkaXVzOiAyMHB4OwogIGgxLm1ldGEtZm9ybS10aXRsZSB7CiAgICBtYXJnaW4tYm90dG9tOiA0MHB4OwogIH0KICBkaXYubWV0YS1pbnB1dC1sYWJlbCB7CiAgICBjb2xvcjogIzI2OTlmYjsKICAgIGZvbnQtc2l6ZTogMTNweDsKICAgIGxpbmUtaGVpZ2h0OiAxOXB4OwogICAgd2lkdGg6IDEwMCU7CiAgfQogIGRpdi5tZXRhLWZvcm0tZ3JvdXAgewogICAgd2lkdGg6IDEwMCU7CiAgICBkaXYubWV0YS1ncm91cC10aXRsZSB7CiAgICAgIGNvbG9yOiAjMjY5OWZiOwogICAgICBmb250LXNpemU6IDE2cHg7CiAgICAgIGxpbmUtaGVpZ2h0OiAxOXB4OwogICAgICB3aWR0aDogMTAwJTsKICAgICAgbWFyZ2luLWJvdHRvbTogMjBweDsKICAgICAgbWFyZ2luLXRvcDogMzBweDsKICAgIH0KICAgIGRpdi5pbnB1dC13cmFwcGVyIHsKICAgICAgbWFyZ2luLWJvdHRvbTogMTVweDsKICAgIH0KICAgIGRpdi5tZXRhLWlucHV0LWdyb3VwIHsKICAgICAgd2lkdGg6IDEwMCU7CiAgICAgIC5pbnB1dC13MyB7CiAgICAgICAgd2lkdGg6IGNhbGMoMzMlIC0gMTBweCk7CiAgICAgICAgZmxvYXQ6IGxlZnQ7CiAgICAgICAgbWFyZ2luLXJpZ2h0OiAxMHB4OwogICAgICB9CiAgICB9CiAgfQp9CgpkaXYubWV0YS1jb250YWluZXIKICBkaXYubWV0YS1mb3JtLWdyb3VwCiAgZGl2Lm1ldGEtaW5wdXQtZ3JvdXAKICAuaW5wdXQtdzM6bGFzdC1jaGlsZCB7CiAgbWFyZ2luLXJpZ2h0OiAwOwp9CgovKgpNT0JJTEUgUkVTUE9OU0lWRU5FU1MgCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8KCkBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1heC13aWR0aDogMTM4MHB4KSB7CiAgZGl2Lm1ldGEtY29udGFpbmVyIGgxLm1ldGEtZm9ybS10aXRsZSB7CiAgICBmb250LXNpemU6IDIycHg7CiAgfQp9CgpAbWVkaWEgb25seSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDc2OHB4KSB7CiAgLmlucHV0LXRlbCB7CiAgICBtYXJnaW4tYm90dG9tOiA4cHg7CiAgfQoKICBkaXYubWV0YS1jb250YWluZXIgaDEubWV0YS1mb3JtLXRpdGxlIHsKICAgIGZvbnQtc2l6ZTogMjBweDsKICB9CgogIGRpdi5tZXRhLWNvbnRhaW5lciBkaXYubWV0YS1mb3JtLWdyb3VwIGRpdi5tZXRhLWdyb3VwLXRpdGxlIHsKICAgIGZvbnQtc2l6ZTogMTVweDsKICAgIG1hcmdpbi1ib3R0b206IDEwcHg7CiAgfQp9CgpAbWVkaWEgb25seSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDY1MHB4KSB7CiAgZGl2Lm1ldGEtY29udGFpbmVyIHsKICAgIHBhZGRpbmc6IDQwcHggMzBweDsKICB9CgogIGRpdi5tZXRhLWNvbnRhaW5lciBoMS5tZXRhLWZvcm0tdGl0bGUgewogICAgZm9udC1zaXplOiAxOHB4OwogICAgbWFyZ2luLWJvdHRvbTogMzBweDsKICB9Cn0KCkBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1heC13aWR0aDogNDgwcHgpIHsKICAubmV4dC1idXR0b24gewogICAgd2lkdGg6IDEwMCU7CiAgfQoKICBkaXYubWV0YS1jb250YWluZXIgewogICAgcGFkZGluZzogMzBweCAxNXB4OwogIH0KCiAgZGl2Lm1ldGEtY29udGFpbmVyIGgxLm1ldGEtZm9ybS10aXRsZSB7CiAgICBmb250LXNpemU6IDE2cHg7CiAgfQoKICBkaXYubWV0YS1jb250YWluZXIgZGl2Lm1ldGEtZm9ybS1ncm91cCBkaXYubWV0YS1ncm91cC10aXRsZSB7CiAgICBmb250LXNpemU6IDE0cHg7CiAgICBtYXJnaW4tYm90dG9tOiAxNXB4OwogIH0KfQo="},{"version":3,"sources":["BuildingStepOne.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"BuildingStepOne.vue","sourceRoot":"src/components/application","sourcesContent":["<template>\n  <div class=\"meta-container\">\n    <modal\n      name=\"agreementModal\"\n      height=\"auto\"\n      :adaptive=\"true\"\n      :classes=\"['vue-modal']\"\n      :clickToClose=\"false\"\n      ><agreement-modal type=\"building permit application\"\n    /></modal>\n    <h1 class=\"meta-form-title\">Basic Information</h1>\n    <div class=\"meta-form-group mb60\">\n      <div class=\"meta-input-label mt10 mb10\">Ownership Type</div>\n      <base-select\n        placeholder=\"--- Choose type of ownership ---\"\n        :options=\"ownership_type\"\n        name=\"selectOptions\"\n        v-model=\"basic_information.ownership_type\"\n        :validationMessages=\"\n          buildingStepOneErrors.basic_information.ownership_type\n        \"\n        class=\"mb15\"\n      />\n      <div class=\"meta-group-title\">Owner / Applicant Details</div>\n      <base-input\n        label=\"First Name\"\n        v-model=\"basic_information.owner_first_name\"\n        :validationMessages=\"\n          buildingStepOneErrors.basic_information.owner_first_name\n        \"\n        name=\"firstname\"\n        refs=\"first_name\"\n        type=\"text\"\n        class=\"mt40\"\n      />\n      <base-input\n        label=\"Middle Name(optional)\"\n        v-model=\"basic_information.owner_middle_name\"\n        :validationMessages=\"\n          buildingStepOneErrors.basic_information.owner_middle_name\n        \"\n        name=\"middlename\"\n        refs=\"middle_name\"\n        type=\"text\"\n        class=\"mt40\"\n      />\n      <base-input\n        label=\"Last Name\"\n        v-model=\"basic_information.owner_last_name\"\n        :validationMessages=\"\n          buildingStepOneErrors.basic_information.owner_last_name\n        \"\n        name=\"lastname\"\n        refs=\"last_name\"\n        type=\"text\"\n        class=\"mt40\"\n      />\n      <base-input\n        label=\"Complete Address\"\n        v-model=\"basic_information.owner_complete_address\"\n        :validationMessages=\"\n          buildingStepOneErrors.basic_information.owner_complete_address\n        \"\n        name=\"completeaddress\"\n        refs=\"complete_address\"\n        type=\"text\"\n        class=\"mt40\"\n      />\n      <base-input\n        label=\"Zip Code\"\n        v-model=\"basic_information.owner_zip_code\"\n        :validationMessages=\"\n          buildingStepOneErrors.basic_information.owner_zip_code\n        \"\n        name=\"zipcode\"\n        refs=\"zip_code\"\n        type=\"number\"\n        class=\"mt40\"\n      />\n      <base-input\n        label=\"Telephone / Phone Number\"\n        v-model=\"basic_information.owner_telephone_number\"\n        :validationMessages=\"\n          buildingStepOneErrors.basic_information.owner_telephone_number\n        \"\n        name=\"telephone\"\n        refs=\"tel_number\"\n        type=\"tel\"\n        class=\"mt40\"\n      />\n      <base-input\n        label=\"TIN No.\"\n        v-model=\"basic_information.tin\"\n        :validationMessages=\"buildingStepOneErrors.basic_information.tin\"\n        name=\"tinnumber\"\n        refs=\"tin_number\"\n        type=\"text\"\n        class=\"mt40\"\n      />\n    </div>\n    <div class=\"meta-form-group button-right\">\n      <button-block class=\"next-button\" @click.native=\"nextStep()\"\n        >NEXT</button-block\n      >\n    </div>\n  </div>\n</template>\n\n<script>\nimport BaseInput from \"@/components/forms/BaseInput\";\nimport BaseCheckbox from \"@/components/forms/BaseCheckbox\";\nimport ButtonBlock from \"@/components/ButtonBlock\";\nimport BaseSelect from \"@/components/forms/BaseSelect\";\nimport AgreementModal from \"@/components/application/AgreementModal\";\nimport { mapGetters } from \"vuex\";\nexport default {\n  name: \"BuildingStepOne\",\n  components: {\n    BaseInput,\n    BaseCheckbox,\n    ButtonBlock,\n    BaseSelect,\n    AgreementModal,\n  },\n  computed: {\n    ...mapGetters([\n      \"buildingApplication\",\n      \"buildingBasicInformation\",\n      \"buildingBasicInfoHasError\",\n      \"buildingStepOneErrors\",\n      \"draftProperty\",\n      \"isPrivacyAgree\",\n    ]),\n  },\n  mounted() {\n    this.scrollToTop();\n    this.preFillForm();\n    if (!this.isPrivacyAgree) {\n      this.$modal.show(\"agreementModal\");\n    }\n  },\n  data() {\n    return {\n      building_application: {\n        area_no: \"\",\n      },\n      basic_information: {\n        ownership_type: \"\",\n        owner_first_name: \"\",\n        owner_middle_name: \"\",\n        owner_last_name: \"\",\n        owner_complete_address: \"\",\n        owner_zip_code: \"\",\n        owner_telephone_number: \"\",\n        tin: \"\",\n      },\n      unrequired: {\n        building_application: [\"area_no\"],\n        basic_information: [\"owner_middle_name\", \"owner_zip_code\", \"tin\"],\n      },\n      ownership_type: [\n        {\n          label: \"Single\",\n          value: \"single\",\n        },\n        {\n          label: \"Cooperative\",\n          value: \"cooperative\",\n        },\n        {\n          label: \"Corporation\",\n          value: \"corporation\",\n        },\n        {\n          label: \"Partnership\",\n          value: \"partnership\",\n        },\n        {\n          label: \"Local Government\",\n          value: \"local Government\",\n        },\n        {\n          label: \"National Government\",\n          value: \"national Government\",\n        },\n      ],\n    };\n  },\n  watch: {\n    draftProperty: {\n      deep: true,\n      handler(status) {\n        if (status) {\n          this.nextStep();\n        }\n      },\n    },\n  },\n  methods: {\n    scrollToTop() {\n      window.scrollTo(0, 0);\n    },\n    async nextStep() {\n      this.$store.commit(\"setLoading\", true);\n      if (!this.buildingApplication.id) {\n        let payload = { basic_information: this.basic_information };\n        await this.$store.dispatch(\"addBuildingApplication\", payload);\n      }\n\n      if (this.buildingBasicInformation.id) {\n        await this.$store.dispatch(\n          \"updateBuildingBasicInformation\",\n          this.basic_information\n        );\n      } else {\n        await this.$store.dispatch(\n          \"addBuildingBasicInformation\",\n          this.basic_information\n        );\n      }\n      if (!this.buildingBasicInfoHasError) {\n        if (!this.draftProperty) {\n          this.validateRequiredFields();\n          this.$store.commit(\"setLoading\", false);\n        } else {\n          this.$swal({\n            title: \"Success!\",\n            text: \"data successfully saved as draft.\",\n            icon: \"success\",\n          }).then((value) => {\n            this.toProfile();\n          });\n        }\n      } else {\n        this.validateRequiredFields();\n        if (this.draftProperty) {\n          this.$swal({\n            title: \"Failed!\",\n            text: \"Please fix the validation errors before saving as draft.\",\n            icon: \"error\",\n          });\n          this.$store.commit(\"setDraftProperty\", false);\n        } else {\n          this.$swal({\n            title: \"Failed!\",\n            text:\n              \"Please fix the validation errors before proceeding to the next step.\",\n            icon: \"error\",\n          });\n        }\n      }\n      this.$store.commit(\"setLoading\", false);\n\n      // this.$store.commit(\"setCurrentApplicationStep\", \"2\")\n    },\n    preFillForm() {\n      if (this.buildingBasicInformation.id) {\n        this.basic_information = this.buildingBasicInformation;\n      }\n    },\n    toProfile() {\n      this.$router.push({ name: \"Profile\" });\n      this.$store.commit(\"setDraftProperty\", false);\n    },\n    validateRequiredFields() {\n      let basic_info_errors = { key: \"basic_information\", value: {} };\n      let isBasicInfoClean = true;\n\n      for (let key in this.basic_information) {\n        if (!this.unrequired.basic_information.includes(key)) {\n          if (this.basic_information[key] === \"\") {\n            basic_info_errors.value[`${key}`] = [];\n            basic_info_errors.value[`${key}`].push(\n              \"This field may not be blank.\"\n            );\n          }\n        }\n      }\n\n      if (Object.entries(basic_info_errors.value).length > 0) {\n        this.$store.commit(\"buildingSetStepOneErrors\", basic_info_errors);\n        isBasicInfoClean = false;\n      } else {\n        this.$store.commit(\"buildingSetStepOneErrors\", {\n          key: \"basic_information\",\n          value: {},\n        });\n      }\n\n      if (isBasicInfoClean) {\n        this.$store.commit(\"setCurrentApplicationStep\", \"2\");\n      } else {\n        this.$swal({\n          title: \"Failed!\",\n          text:\n            \"Please fix the validation errors before proceeding to the next step.\",\n          icon: \"error\",\n        });\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\ndiv.meta-container {\n  width: 100%;\n  padding: 50px;\n  background-color: #eaf6ff;\n  border-radius: 20px;\n  h1.meta-form-title {\n    margin-bottom: 40px;\n  }\n  div.meta-input-label {\n    color: #2699fb;\n    font-size: 13px;\n    line-height: 19px;\n    width: 100%;\n  }\n  div.meta-form-group {\n    width: 100%;\n    div.meta-group-title {\n      color: #2699fb;\n      font-size: 16px;\n      line-height: 19px;\n      width: 100%;\n      margin-bottom: 20px;\n      margin-top: 30px;\n    }\n    div.input-wrapper {\n      margin-bottom: 15px;\n    }\n    div.meta-input-group {\n      width: 100%;\n      .input-w3 {\n        width: calc(33% - 10px);\n        float: left;\n        margin-right: 10px;\n      }\n    }\n  }\n}\n\ndiv.meta-container\n  div.meta-form-group\n  div.meta-input-group\n  .input-w3:last-child {\n  margin-right: 0;\n}\n\n/*\nMOBILE RESPONSIVENESS \n--------------------------------------------------------------*/\n\n@media only screen and (max-width: 1380px) {\n  div.meta-container h1.meta-form-title {\n    font-size: 22px;\n  }\n}\n\n@media only screen and (max-width: 768px) {\n  .input-tel {\n    margin-bottom: 8px;\n  }\n\n  div.meta-container h1.meta-form-title {\n    font-size: 20px;\n  }\n\n  div.meta-container div.meta-form-group div.meta-group-title {\n    font-size: 15px;\n    margin-bottom: 10px;\n  }\n}\n\n@media only screen and (max-width: 650px) {\n  div.meta-container {\n    padding: 40px 30px;\n  }\n\n  div.meta-container h1.meta-form-title {\n    font-size: 18px;\n    margin-bottom: 30px;\n  }\n}\n\n@media only screen and (max-width: 480px) {\n  .next-button {\n    width: 100%;\n  }\n\n  div.meta-container {\n    padding: 30px 15px;\n  }\n\n  div.meta-container h1.meta-form-title {\n    font-size: 16px;\n  }\n\n  div.meta-container div.meta-form-group div.meta-group-title {\n    font-size: 14px;\n    margin-bottom: 15px;\n  }\n}\n</style>\n"]}]}