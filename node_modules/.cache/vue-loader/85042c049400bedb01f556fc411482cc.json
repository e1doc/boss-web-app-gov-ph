{"remainingRequest":"/var/www/html/boss-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/html/boss-web/src/components/application/BusinessUploadStep.vue?vue&type=style&index=0&id=a5af27c2&lang=scss&scoped=true&","dependencies":[{"path":"/var/www/html/boss-web/src/components/application/BusinessUploadStep.vue","mtime":1611164378571},{"path":"/var/www/html/boss-web/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/boss-web/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/var/www/html/boss-web/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/var/www/html/boss-web/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/boss-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/boss-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgpkaXYubWV0YS1jb250YWluZXIgewogIHdpZHRoOiAxMDAlOwogIHBhZGRpbmc6IDUwcHg7CiAgYmFja2dyb3VuZC1jb2xvcjogI2VhZjZmZjsKICBib3JkZXItcmFkaXVzOiAyMHB4OwogIGgxLm1ldGEtZm9ybS10aXRsZSB7CiAgICBtYXJnaW4tYm90dG9tOiA0MHB4OwogIH0KICAubWV0YS1ub3RlIHsKICAgIGZvbnQtc2l6ZTogMTZweDsKICAgIGNvbG9yOiAjN2FjMGZhOwogICAgbWFyZ2luLWJvdHRvbTogMzBweDsKICB9CiAgLm1ldGEtY3VzdG9tLXVwbG9hZCB7CiAgICBkaXNwbGF5OiBmbGV4OwogICAgZmxleC13cmFwOiB3cmFwOwogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgYm9yZGVyOiAzcHggZGFzaGVkICNiY2UwZmQ7CiAgICBwYWRkaW5nOiA1MHB4IDMwcHg7CiAgICBtYXJnaW4tYm90dG9tOiAzMHB4OwogICAgdHJhbnNpdGlvbjogMC40czsKCiAgICBpbnB1dFt0eXBlPSJmaWxlIl0gewogICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgIHotaW5kZXg6IDI7CiAgICAgIGhlaWdodDogMTAwJTsKICAgICAgd2lkdGg6IDEwMCU7CiAgICAgIG9wYWNpdHk6IDA7CiAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgIH0KICAgIC5tZXRhLXRleHQuYmlnIHsKICAgICAgY29sb3I6ICM2NGI0Zjk7CiAgICAgIGZvbnQtc2l6ZTogMzBweDsKICAgICAgZm9udC13ZWlnaHQ6IDcwMDsKICAgICAgbGluZS1oZWlnaHQ6IDEuNjsKICAgICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTsKICAgICAgd2lkdGg6IDEwMCU7CiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgdHJhbnNpdGlvbjogMC40czsKICAgIH0KICAgIC5tZXRhLW5vdGUgewogICAgICBmb250LXNpemU6IDE2cHg7CiAgICAgIGNvbG9yOiAjN2FjMGZhOwogICAgICBtYXJnaW4tYm90dG9tOiAzMHB4OwogICAgICB3aWR0aDogMTAwJTsKICAgIH0KICAgIC5tZXRhLXRleHQuc21hbGwgewogICAgICBjb2xvcjogIzY0YjRmOTsKICAgICAgZm9udC1zaXplOiAxOHB4OwogICAgICBmb250LXdlaWdodDogNzAwOwogICAgICBsaW5lLWhlaWdodDogMS42OwogICAgICB0cmFuc2l0aW9uOiAwLjRzOwogICAgfQogIH0KICBkaXYuYnV0dG9uLWxlZnQtcmlnaHQgewogICAgd2lkdGg6IDEwMCU7CiAgICBkaXNwbGF5OiBmbGV4OwogICAgZmxleC13cmFwOiB3cmFwOwogICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOwogICAgLmJhY2stYnV0dG9uIHsKICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzczYmVmYzsKICAgICAgYm9yZGVyLWNvbG9yOiAjNzNiZWZjOwogICAgfQogIH0KfQoKZGl2Lm1ldGEtY29udGFpbmVyIC5tZXRhLWN1c3RvbS11cGxvYWQ6aG92ZXIgewogIGJvcmRlci1jb2xvcjogIzAzOWJlNTsKfQoKZGl2Lm1ldGEtY29udGFpbmVyIC5tZXRhLWN1c3RvbS11cGxvYWQ6aG92ZXIgZGl2Lm1ldGEtdGV4dCB7CiAgY29sb3I6ICMwMzliZTU7Cn0KCi5iYWNrLWJ1dHRvbjpob3ZlciB7CiAgYmFja2dyb3VuZC1jb2xvcjogIzI2OTlmYiAhaW1wb3J0YW50OwogIGNvbG9yOiAjZmZmICFpbXBvcnRhbnQ7CiAgYm9yZGVyLWNvbG9yOiAjMjY5OWZiICFpbXBvcnRhbnQ7Cn0KCi8qCk1PQklMRSBSRVNQT05TSVZFTkVTUyAKLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qLwoKQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiAxMzgwcHgpIHsKICBkaXYubWV0YS1jb250YWluZXIgaDEubWV0YS1mb3JtLXRpdGxlIHsKICAgIGZvbnQtc2l6ZTogMjJweDsKICB9Cn0KCkBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1heC13aWR0aDogNzY4cHgpIHsKICBkaXYubWV0YS1jb250YWluZXIgaDEubWV0YS1mb3JtLXRpdGxlIHsKICAgIGZvbnQtc2l6ZTogMjBweDsKICB9CgogIC5tZXRhLXVwbG9hZC1ib3ggLm1ldGEtbGFiZWwgewogICAgZm9udC1zaXplOiAxNXB4OwogIH0KCiAgZGl2Lm1ldGEtY29udGFpbmVyIC5tZXRhLW5vdGUgewogICAgZm9udC1zaXplOiAxNXB4OwogICAgdGV4dC1hbGlnbjogY2VudGVyOwogIH0KfQoKQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA2NTBweCkgewogIGRpdi5tZXRhLWNvbnRhaW5lciB7CiAgICBwYWRkaW5nOiA0MHB4IDMwcHg7CiAgfQoKICBkaXYubWV0YS1jb250YWluZXIgaDEubWV0YS1mb3JtLXRpdGxlIHsKICAgIGZvbnQtc2l6ZTogMThweDsKICAgIG1hcmdpbi1ib3R0b206IDMwcHg7CiAgfQp9CgpAbWVkaWEgb25seSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDQ4MHB4KSB7CiAgZGl2Lm1ldGEtY29udGFpbmVyIHsKICAgIHBhZGRpbmc6IDMwcHggMTVweDsKICB9CgogIGRpdi5tZXRhLWNvbnRhaW5lciBoMS5tZXRhLWZvcm0tdGl0bGUgewogICAgZm9udC1zaXplOiAxNnB4OwogIH0KCiAgZGl2Lm1ldGEtY29udGFpbmVyIGRpdi5idXR0b24tbGVmdC1yaWdodCAuYmFjay1idXR0b24gewogICAgYmFja2dyb3VuZC1jb2xvcjogIzA0OGNmZjsKICAgIGJvcmRlci1jb2xvcjogIzczYmVmYzsKICAgIHdpZHRoOiBhdXRvOwogICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7CiAgICBib3JkZXI6IG5vbmU7CiAgICBib3gtc2hhZG93OiBub25lOwogICAgY29sb3I6ICMyNjk5ZmI7CiAgICBtaW4td2lkdGg6IHVuc2V0OwogIH0KCiAgZGl2Lm1ldGEtY29udGFpbmVyIGRpdi5idXR0b24tbGVmdC1yaWdodCAubmV4dC1idXR0b24gewogICAgd2lkdGg6IGF1dG87CiAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDsKICAgIGJvcmRlcjogbm9uZTsKICAgIGJveC1zaGFkb3c6IG5vbmU7CiAgICBtaW4td2lkdGg6IHVuc2V0OwogICAgY29sb3I6ICMyNjk5ZmI7CiAgfQoKICBkaXYubWV0YS1jb250YWluZXIgLm1ldGEtbm90ZSB7CiAgICBmb250LXNpemU6IDE0cHg7CiAgfQp9Cg=="},{"version":3,"sources":["BusinessUploadStep.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"BusinessUploadStep.vue","sourceRoot":"src/components/application","sourcesContent":["<template>\n  <div class=\"meta-container flex-center\">\n    <h1 class=\"meta-form-title\">Upload your Requirements</h1>\n    <div class=\"meta-note\">\n      Almost Done! Please upload your file. Only allowed format - jpg, jpeg, png\n      or pdf file.\n    </div>\n    <base-file-uploader\n      label=\"1. Proof of business registration, incorporation, or legal personality\"\n      description=\"{i.e. DTI / SEC (Including articles and by-laws)/Cooperative Development Authority (CDA).\"\n      name=\"businessregproof\"\n      type=\"business\"\n      fileLabel=\"business_registration_proof\"\n      :hasError=\"uploadErrors.business_registration_proof\"\n      :properties=\"getProperty('business_registration_proof')\"\n      uploadType=\"application/pdf\"\n    />\n    <base-file-uploader\n      label=\"2. For Franchisee, please upload a copy of Franchise Agreement\"\n      name=\"franchiseagreement\"\n      :properties=\"getProperty('franchise_agreement')\"\n      fileLabel=\"franchise_agreement\"\n      type=\"business\"\n    />\n    <base-file-uploader\n      label=\"3. Occupancy Permit\"\n      description=\"If required by national laws (e.g. Building Code) and local laws.\"\n      name=\"occupancypermit\"\n      :properties=\"getProperty('occupancy_permit')\"\n      :hasError=\"uploadErrors.occupancy_permit\"\n      fileLabel=\"occupancy_permit\"\n      type=\"business\"\n    />\n    <base-file-uploader\n      label=\"4. Contract of Lease (if Lessee)\"\n      name=\"contractoflease\"\n      :properties=\"getProperty('contract_of_lease')\"\n      fileLabel=\"contract_of_lease\"\n      type=\"business\"\n      uploadType=\"application/pdf\"\n    />\n    <base-file-uploader\n      label=\"5. One Goverment issued ID\"\n      name=\"governmentid\"\n      :properties=\"getProperty('government_id')\"\n      fileLabel=\"government_id\"\n      type=\"business\"\n      :hasError=\"uploadErrors.government_id\"\n    />\n    <div class=\"meta-form-group button-left-right\">\n      <button-block\n        type=\"back\"\n        class=\"back-button\"\n        @click.native=\"previousStep()\"\n        >BACK</button-block\n      >\n      <button-block class=\"next-button\" @click.native=\"nextStep()\"\n        >NEXT</button-block\n      >\n    </div>\n  </div>\n</template>\n\n<script>\nimport ButtonBlock from \"@/components/ButtonBlock\";\nimport BaseFileUploader from \"@/components/forms/BaseFileUploader\";\nimport { mapGetters } from \"vuex\";\nexport default {\n  name: \"BusinessUploadStep\",\n  components: {\n    ButtonBlock,\n    BaseFileUploader,\n  },\n  data() {\n    return {\n      business_registration_proof: {},\n      franchise_agreement: {},\n      occupancy_permit: {},\n      contract_of_lease: {},\n      government_id: {},\n      required: [\"business_registration_proof\", \"occupancy_permit\"],\n      uploadErrors: {\n        business_registration_proof: false,\n        occupancy_permit: false,\n      },\n    };\n  },\n  computed: {\n    ...mapGetters([\n      \"applicationRequirements\",\n      \"requirements\",\n      \"draftBusiness\",\n      \"businessApplication\",\n    ]),\n  },\n  mounted() {\n    this.scrollToTop();\n    this.getRequirements();\n  },\n  methods: {\n    scrollToTop() {\n      window.scrollTo(0, 0);\n    },\n    validateRequiredFields() {\n      let validated = [];\n      if (this.requirements) {\n        if (this.requirements.requirements) {\n          if (this.requirements.requirements.length > 0) {\n            this.requirements.requirements.map((item) => {\n              if (!validated.includes(item.requirements_label)) {\n                if (this.required.includes(item.requirements_label)) {\n                  validated.push(item.requirements_label);\n                }\n              }\n            });\n          } else {\n            this.required.forEach((element) => {\n              this.uploadErrors[`${element}`] = true;\n            });\n          }\n          this.required.forEach((element) => {\n            if (!validated.includes(element)) {\n              this.uploadErrors[`${element}`] = true;\n            }\n          });\n          if (validated.length === this.required.length) {\n            return true;\n          } else {\n            return false;\n          }\n        } else {\n          this.required.forEach((element) => {\n            this.uploadErrors[`${element}`] = true;\n          });\n          return false;\n        }\n      }\n    },\n    previousStep() {\n      this.$store.commit(\"setCurrentApplicationStep\", \"2\");\n    },\n    async nextStep() {\n      if (!this.draftBusiness) {\n        let isValidated = this.validateRequiredFields();\n        if (isValidated) {\n          let application_status;\n          this.businessApplication.application_status == 1\n            ? (application_status = 0)\n            : this.businessApplication.application_status == 3\n            ? (application_status = 2)\n            : (application_status = 0);\n          let payload = {\n            is_draft: false,\n            application_status: application_status,\n            last_submitted: new Date(Date.now()),\n            is_disapprove: false,\n          };\n          await this.$store.dispatch(\"updateBusinessApplication\", payload);\n          this.$store.commit(\"setCurrentApplicationStep\", \"4\");\n        } else {\n          this.$swal({\n            title: \"Failed!\",\n            text:\n              \"Please upload the remaining requirements before you submit the application.\",\n            icon: \"error\",\n          });\n        }\n      }\n    },\n    async getRequirements() {\n      if (this.applicationRequirements.id) {\n        await this.$store.dispatch(\"getApplicationRequirements\");\n      }\n    },\n    getProperty(key) {\n      if (this.requirements.id) {\n        if (this.requirements.requirements.length > 0) {\n          let property = {};\n          property = this.requirements.requirements.find((element) => {\n            if (element.requirements_label === key) {\n              return element;\n            }\n          });\n          return property;\n        }\n      }\n    },\n  },\n  watch: {\n    draftBusiness: {\n      deep: true,\n      handler(status) {\n        if (status) {\n          this.$swal({\n            title: \"Success!\",\n            text: \"data successfully saved as draft.\",\n            icon: \"success\",\n          }).then((value) => {\n            this.$store.commit(\"setDraftBusiness\", false);\n            this.$router.push({ name: \"Profile\" });\n          });\n        }\n      },\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\ndiv.meta-container {\n  width: 100%;\n  padding: 50px;\n  background-color: #eaf6ff;\n  border-radius: 20px;\n  h1.meta-form-title {\n    margin-bottom: 40px;\n  }\n  .meta-note {\n    font-size: 16px;\n    color: #7ac0fa;\n    margin-bottom: 30px;\n  }\n  .meta-custom-upload {\n    display: flex;\n    flex-wrap: wrap;\n    align-items: center;\n    justify-content: center;\n    position: relative;\n    border: 3px dashed #bce0fd;\n    padding: 50px 30px;\n    margin-bottom: 30px;\n    transition: 0.4s;\n\n    input[type=\"file\"] {\n      position: absolute;\n      z-index: 2;\n      height: 100%;\n      width: 100%;\n      opacity: 0;\n      cursor: pointer;\n    }\n    .meta-text.big {\n      color: #64b4f9;\n      font-size: 30px;\n      font-weight: 700;\n      line-height: 1.6;\n      text-transform: uppercase;\n      width: 100%;\n      text-align: center;\n      transition: 0.4s;\n    }\n    .meta-note {\n      font-size: 16px;\n      color: #7ac0fa;\n      margin-bottom: 30px;\n      width: 100%;\n    }\n    .meta-text.small {\n      color: #64b4f9;\n      font-size: 18px;\n      font-weight: 700;\n      line-height: 1.6;\n      transition: 0.4s;\n    }\n  }\n  div.button-left-right {\n    width: 100%;\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: space-between;\n    .back-button {\n      background-color: #73befc;\n      border-color: #73befc;\n    }\n  }\n}\n\ndiv.meta-container .meta-custom-upload:hover {\n  border-color: #039be5;\n}\n\ndiv.meta-container .meta-custom-upload:hover div.meta-text {\n  color: #039be5;\n}\n\n.back-button:hover {\n  background-color: #2699fb !important;\n  color: #fff !important;\n  border-color: #2699fb !important;\n}\n\n/*\nMOBILE RESPONSIVENESS \n--------------------------------------------------------------*/\n\n@media only screen and (max-width: 1380px) {\n  div.meta-container h1.meta-form-title {\n    font-size: 22px;\n  }\n}\n\n@media only screen and (max-width: 768px) {\n  div.meta-container h1.meta-form-title {\n    font-size: 20px;\n  }\n\n  .meta-upload-box .meta-label {\n    font-size: 15px;\n  }\n\n  div.meta-container .meta-note {\n    font-size: 15px;\n    text-align: center;\n  }\n}\n\n@media only screen and (max-width: 650px) {\n  div.meta-container {\n    padding: 40px 30px;\n  }\n\n  div.meta-container h1.meta-form-title {\n    font-size: 18px;\n    margin-bottom: 30px;\n  }\n}\n\n@media only screen and (max-width: 480px) {\n  div.meta-container {\n    padding: 30px 15px;\n  }\n\n  div.meta-container h1.meta-form-title {\n    font-size: 16px;\n  }\n\n  div.meta-container div.button-left-right .back-button {\n    background-color: #048cff;\n    border-color: #73befc;\n    width: auto;\n    background: transparent;\n    border: none;\n    box-shadow: none;\n    color: #2699fb;\n    min-width: unset;\n  }\n\n  div.meta-container div.button-left-right .next-button {\n    width: auto;\n    background: transparent;\n    border: none;\n    box-shadow: none;\n    min-width: unset;\n    color: #2699fb;\n  }\n\n  div.meta-container .meta-note {\n    font-size: 14px;\n  }\n}\n</style>\n"]}]}