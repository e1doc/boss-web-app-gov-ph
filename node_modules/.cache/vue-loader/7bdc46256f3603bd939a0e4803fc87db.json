{"remainingRequest":"/var/www/html/boss-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/html/boss-web/src/components/forms/AppointmentLimitForm.vue?vue&type=style&index=0&id=5b169a50&scoped=true&lang=css&","dependencies":[{"path":"/var/www/html/boss-web/src/components/forms/AppointmentLimitForm.vue","mtime":1605179000987},{"path":"/var/www/html/boss-web/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/boss-web/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/var/www/html/boss-web/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/var/www/html/boss-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/boss-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmZvcm0tc2VjdGlvbiB7CiAgcGFkZGluZzogMTVweDsKfQo="},{"version":3,"sources":["AppointmentLimitForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4GA;AACA;AACA","file":"AppointmentLimitForm.vue","sourceRoot":"src/components/forms","sourcesContent":["<template>\n  <div class=\"container form-section\">\n    <div class=\"flex-column\">\n      <div class=\"meta-input-label mt10 mb10\">\n        From:\n      </div>\n      <base-date-picker class=\"mb15\" v-model=\"start_date\" />\n      <div class=\"meta-input-label mt10 mb10\">\n        To:\n      </div>\n      <base-date-picker class=\"mb25\" v-model=\"end_date\" />\n      <base-input\n        label=\"Batch 1 Slots Per Day:\"\n        name=\"slots\"\n        refs=\"appointment_slot1\"\n        type=\"number\"\n        class=\"mt40\"\n        v-model=\"batch1_count\"\n      />\n      <base-input\n        label=\"Batch 2 Slots Per Day:\"\n        name=\"slots\"\n        refs=\"appointment_slot2\"\n        type=\"number\"\n        class=\"mt40\"\n        v-model=\"batch2_count\"\n      />\n      <button-block @click.native=\"setAppointmentLimit()\">Submit</button-block>\n    </div>\n  </div>\n</template>\n\n<script>\nimport ButtonBlock from \"@/components/ButtonBlock\";\nimport BaseSelect from \"@/components/forms/BaseSelect\";\nimport BaseDatePicker from \"@/components/forms/BaseDatePicker\";\nimport BaseInput from \"@/components/forms/BaseInput\";\nimport { mapGetters } from \"vuex\";\nexport default {\n  name: \"AppointmentForm\",\n  components: {\n    BaseSelect,\n    ButtonBlock,\n    BaseDatePicker,\n    BaseInput,\n  },\n  computed: {\n    ...mapGetters([\"currentDate\", \"isAppointmentSuccess\", \"appointmentError\"]),\n  },\n  data() {\n    return {\n      start_date: \"\",\n      end_date: \"\",\n      batch1_count: 0,\n      batch2_count: 0,\n    };\n  },\n  methods: {\n    async setAppointmentLimit() {\n      this.$store.commit('setIsAppointmentSuccess', false)\n      await this.$store.commit(\"setLoading\", true);\n      // let payload = {\n      //   start_date: this.start_date,\n      //   end_date: this.end_date,\n      //   count: this.count,\n      // };\n      let payload = {\n        limit_set: [\n          {\n            start_date: this.start_date,\n            end_date: this.end_date,\n            batch: \"batch_1\",\n            batch1_count: this.batch1_count,\n            count: this.batch1_count,\n          },\n          {\n            start_date: this.start_date,\n            end_date: this.end_date,\n            batch: \"batch_2\",\n            count: this.batch2_count,\n          },\n        ],\n      };\n      await this.$store.dispatch(\"addAppointmentLimit\", payload);\n      if (this.isAppointmentSuccess) {\n        await this.$store.commit(\"setLoading\", false);\n        this.$modal.hide(\"appointmentLimitModal\");\n        this.$swal({\n          title: \"Success!\",\n          text: \"Appointment slot settings was submitted successfully.\",\n          icon: \"success\",\n        });\n        this.$store.dispatch(\"appointmentLimits\");\n      } else {\n        await this.$store.commit(\"setLoading\", false);\n        this.$modal.hide(\"appointmentLimitModal\");\n        this.$swal({\n          title: \"Failed!\",\n          text: this.appointmentError,\n          icon: \"error\",\n        });\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.form-section {\n  padding: 15px;\n}\n</style>\n"]}]}