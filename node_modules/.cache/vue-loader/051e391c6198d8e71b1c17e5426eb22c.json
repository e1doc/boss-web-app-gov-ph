{"remainingRequest":"/var/www/html/boss-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/html/boss-web/src/components/payment/LandbankDetailsModal.vue?vue&type=script&lang=js&","dependencies":[{"path":"/var/www/html/boss-web/src/components/payment/LandbankDetailsModal.vue","mtime":1628530020325},{"path":"/var/www/html/boss-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/boss-web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/var/www/html/boss-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/boss-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IEFwcExpbmsgZnJvbSAiQC9jb21wb25lbnRzL0FwcExpbmsiOwppbXBvcnQgQmFzZUZpbGVVcGxvYWRlciBmcm9tICJAL2NvbXBvbmVudHMvZm9ybXMvQmFzZUZpbGVVcGxvYWRlciI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTGFuZEJhbmtEZXRhaWxzTW9kYWwiLAogIGNvbXBvbmVudHM6IHsKICAgIEFwcExpbmssCiAgICBCYXNlRmlsZVVwbG9hZGVyLAogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcEdldHRlcnMoWwogICAgICAiY3VycmVudExhbmRCYW5rVHJhbnNhY3Rpb24iLAogICAgICAiY3VycmVudFR5cGUiLAogICAgICAicGF5bWVudERldGFpbHMiLAogICAgICAiaXNGaWxlVXBsb2FkZWQiLAogICAgICAiaXNBZG1pbkF1dGhlbnRpY2F0ZWQiLAogICAgXSksCiAgfSwKICBwcm9wczogewogICAgaXNBZG1pbjogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiB0cnVlLAogICAgfSwKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1cGxvYWRIYXNFcnJvcjogZmFsc2UsCiAgICAgIGxhbmRiYW5rX3N0YXR1czogWwogICAgICAgIHsgbGFiZWw6ICIwMCIsIHZhbHVlOiAiU3VjY2Vzc2Z1bCIgfSwKICAgICAgICB7IGxhYmVsOiAiMDEiLCB2YWx1ZTogIkludmFsaWQgbWVyY2hhbnQgY29kZSIgfSwKICAgICAgICB7IGxhYmVsOiAiMDIiLCB2YWx1ZTogIkludmFsaWQgbWVyY2hhbnQgcmVmZXJlbmNlIG51bWJlciIgfSwKICAgICAgICB7IGxhYmVsOiAiMDMiLCB2YWx1ZTogIjAgb3IgbmVnYXRpdmUgYW1vdW50IiB9LAogICAgICAgIHsgbGFiZWw6ICIwNCIsIHZhbHVlOiAiTnVsbCBwYXlvcnMgbmFtZSIgfSwKICAgICAgICB7IGxhYmVsOiAiMDUiLCB2YWx1ZTogIk51bGwgcmV0dXJuVVJMb2siIH0sCiAgICAgICAgeyBsYWJlbDogIjA2IiwgdmFsdWU6ICJOdWxsIHJldHVyblVSTGVycm9yIiB9LAogICAgICAgIHsgbGFiZWw6ICIwNyIsIHZhbHVlOiAiSW52YWxpZCBoYXNoIiB9LAogICAgICAgIHsgbGFiZWw6ICIwOCIsIHZhbHVlOiAiU2VydmljZSB1bmF2YWlsYWJsZSIgfSwKICAgICAgICB7IGxhYmVsOiAiMDkiLCB2YWx1ZTogIlRyYW5zYWN0aW9uIGluIHByb2Nlc3MiIH0sCiAgICAgICAgeyBsYWJlbDogIjEwIiwgdmFsdWU6ICJDYW5jZWxsZWQgdHJhbnNhY3Rpb24iIH0sCiAgICAgICAgeyBsYWJlbDogIjExIiwgdmFsdWU6ICJFUFAgb2ZmbGluZSIgfSwKICAgICAgICB7IGxhYmVsOiAiMTIiLCB2YWx1ZTogIkludmFsaWQgdHJhbnNhY3Rpb24gdHlwZSIgfSwKICAgICAgICB7IGxhYmVsOiAiMTMiLCB2YWx1ZTogIkludmFsaWQgcGFydGljdWxhcnMiIH0sCiAgICAgICAgeyBsYWJlbDogIjE0IiwgdmFsdWU6ICJEdXBsaWNhdGUgdHJhbnNhY3Rpb24iIH0sCiAgICAgIF0sCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0U3RhdHVzKHN0YXR1cykgewogICAgICBsZXQgaXRlbSA9IHRoaXMubGFuZGJhbmtfc3RhdHVzLmZpbmQoKGl0ZW0pID0+IGl0ZW0ubGFiZWwgPT0gc3RhdHVzKTsKICAgICAgcmV0dXJuIGl0ZW0udmFsdWU7CiAgICB9LAogICAgcGFyc2VQYXJ0aWN1bGFycygpIHsKICAgICAgY29uc3QgcGFydGljdWxhcnMgPSB0aGlzLmN1cnJlbnRMYW5kQmFua1RyYW5zYWN0aW9uLnBhcnRpY3VsYXJzOwogICAgICBjb25zdCBwYXJ0aWN1bGFyc0hvbGRlciA9IHBhcnRpY3VsYXJzLnNwbGl0KCI7Iik7CgogICAgICBjb25zdCBmb3JtYXR0ZWRQYXJ0aWN1bGFycyA9IHt9OwoKICAgICAgcGFydGljdWxhcnNIb2xkZXIuZm9yRWFjaCgoaXRlbSkgPT4gewogICAgICAgIGNvbnN0IHBhcnRpY3VsYXJJdGVtID0gaXRlbS5zcGxpdCgiPSIpOwogICAgICAgIGZvcm1hdHRlZFBhcnRpY3VsYXJzW2Ake3BhcnRpY3VsYXJJdGVtWzBdfWBdID0gcGFydGljdWxhckl0ZW1bMV07CiAgICAgIH0pOwogICAgICByZXR1cm4gZm9ybWF0dGVkUGFydGljdWxhcnM7CiAgICB9LAogICAgcmVwbGFjZVVybCh1cmwpIHsKICAgICAgcmV0dXJuIHVybC5yZXBsYWNlKCIvYmFjb29yLyIsICIvIik7CiAgICB9LAogICAgYXN5bmMgb25DbGlja0NhbGxiYWNrKHN0YXR1cykgewogICAgICBpZiAoc3RhdHVzKSB7CiAgICAgICAgaWYgKHRoaXMuaXNGaWxlVXBsb2FkZWQpIHsKICAgICAgICAgIHRoaXMuJG1vZGFsLmhpZGUoInBheW1lbnRWaWV3RGV0YWlsc01vZGFsIik7CiAgICAgICAgICBsZXQgcGF5bG9hZCA9IHRoaXMucGF5bWVudERldGFpbHM7CiAgICAgICAgICBwYXlsb2FkLmFwcGVuZCgiaWQiLCB0aGlzLmN1cnJlbnRMYW5kQmFua1RyYW5zYWN0aW9uLmlkKTsKICAgICAgICAgIGF3YWl0IHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJ2ZXJpZnlCYW5rVHJhbnNhY3Rpb24iLCBwYXlsb2FkKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy4kc3dhbCh7CiAgICAgICAgICAgIHRpdGxlOiAiRmFpbGVkISIsCiAgICAgICAgICAgIHRleHQ6ICJQbGVhc2UgZml4IHRoZSB2YWxpZGF0aW9uIGVycm9ycy4iLAogICAgICAgICAgICBpY29uOiAiZXJyb3IiLAogICAgICAgICAgfSk7CiAgICAgICAgICB0aGlzLnVwbG9hZEhhc0Vycm9yID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kbW9kYWwuaGlkZSgicGF5bWVudFZpZXdEZXRhaWxzTW9kYWwiKTsKICAgICAgfQogICAgfSwKICAgIGZvcm1hdEN1cnJlbmN5KHN0cikgewogICAgICB2YXIgcGFydHMgPSBzdHIudG9TdHJpbmcoKS5zcGxpdCgiLiIpOwogICAgICBwYXJ0c1swXSA9IHBhcnRzWzBdLnJlcGxhY2UoL1xCKD89KFxkezN9KSsoPyFcZCkpL2csICIsIik7CiAgICAgIGlmIChwYXJ0cy5sZW5ndGggPCAyKSB7CiAgICAgICAgcGFydHMucHVzaCgiMDAiKTsKICAgICAgfQogICAgICByZXR1cm4gcGFydHMuam9pbigiLiIpOwogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["LandbankDetailsModal.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"LandbankDetailsModal.vue","sourceRoot":"src/components/payment","sourcesContent":["<template>\n  <div class=\"modal flex-center\">\n    <div class=\"meta-modal\">\n      <div class=\"meta-wrap\">\n        <div class=\"meta-modal-body flex-wrap\">\n          <h3 class=\"mb20 modal-title\">Payment Details</h3>\n          <div class=\"meta-body-items\">\n            <div class=\"meta-input-group\">\n              <div class=\"meta-input-label\">Payor's Name</div>\n              <div class=\"meta-input-value\">\n                <span class=\"separator\">:</span>\n                {{ currentLandBankTransaction.merchant_ref_no.user.first_name }}\n                {{\n                  currentLandBankTransaction.merchant_ref_no.user.middle_name\n                }}\n                {{ currentLandBankTransaction.merchant_ref_no.user.last_name }}\n              </div>\n            </div>\n            <div class=\"meta-input-group\">\n              <div class=\"meta-input-label\">Payor's Email</div>\n              <div class=\"meta-input-value\">\n                <span class=\"separator\">:</span>\n                {{ currentLandBankTransaction.payor_email }}\n              </div>\n            </div>\n            <div class=\"meta-input-group\">\n              <div class=\"meta-input-label\">Total Amount Paid</div>\n              <div class=\"meta-input-value\">\n                <span class=\"separator\">:</span>\n                PHP\n                {{\n                  formatCurrency(\n                    parseFloat(currentLandBankTransaction.amount).toFixed(2)\n                  )\n                }}\n              </div>\n            </div>\n            <div class=\"meta-input-group\">\n              <div class=\"meta-input-label\">EPP Reference No.</div>\n              <div class=\"meta-input-value\">\n                <span class=\"separator\">:</span>\n                {{ currentLandBankTransaction.epp_ref_no }}\n              </div>\n            </div>\n            <div class=\"meta-input-group\">\n              <div class=\"meta-input-label\">SOA</div>\n              <div class=\"meta-input-value\">\n                <span class=\"separator\">:</span>\n                {{\n                  currentLandBankTransaction.merchant_ref_no.reference_number\n                }}\n              </div>\n            </div>\n            <div class=\"meta-input-group\" v-if=\"currentType === 'business'\">\n              <div class=\"meta-input-label\">ACCOUNT #</div>\n              <div class=\"meta-input-value\">\n                <span class=\"separator\">:</span>\n                {{\n                  currentLandBankTransaction.merchant_ref_no\n                    .business_application.account_number\n                }}\n              </div>\n            </div>\n            <div class=\"meta-input-group\" v-if=\"currentType !== 'business'\">\n              <div class=\"meta-input-label\">TD#</div>\n              <div class=\"meta-input-value\">\n                <span class=\"separator\">:</span>\n                {{\n                  currentLandBankTransaction.merchant_ref_no\n                    .building_application.buildingdetails.tax_dec_no\n                }}\n              </div>\n            </div>\n            <div class=\"meta-input-group\">\n              <div class=\"meta-input-label\">STATUS</div>\n              <div class=\"meta-input-value\">\n                <span class=\"separator\">:</span>\n                {{ getStatus(currentLandBankTransaction.status) }}\n              </div>\n            </div>\n          </div>\n          <h3 class=\"mb20 modal-title mt30\">Particulars</h3>\n          <div class=\"meta-body-items\">\n            <div\n              class=\"meta-input-group\"\n              v-for=\"(value, property) in parseParticulars()\"\n              :key=\"property\"\n            >\n              <div class=\"meta-input-label\">{{ property }}</div>\n              <div class=\"meta-input-value\">\n                <span class=\"separator\">:</span>\n                {{ value }}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from \"vuex\";\nimport AppLink from \"@/components/AppLink\";\nimport BaseFileUploader from \"@/components/forms/BaseFileUploader\";\nexport default {\n  name: \"LandBankDetailsModal\",\n  components: {\n    AppLink,\n    BaseFileUploader,\n  },\n  computed: {\n    ...mapGetters([\n      \"currentLandBankTransaction\",\n      \"currentType\",\n      \"paymentDetails\",\n      \"isFileUploaded\",\n      \"isAdminAuthenticated\",\n    ]),\n  },\n  props: {\n    isAdmin: {\n      type: Boolean,\n      default: true,\n    },\n  },\n  data() {\n    return {\n      uploadHasError: false,\n      landbank_status: [\n        { label: \"00\", value: \"Successful\" },\n        { label: \"01\", value: \"Invalid merchant code\" },\n        { label: \"02\", value: \"Invalid merchant reference number\" },\n        { label: \"03\", value: \"0 or negative amount\" },\n        { label: \"04\", value: \"Null payors name\" },\n        { label: \"05\", value: \"Null returnURLok\" },\n        { label: \"06\", value: \"Null returnURLerror\" },\n        { label: \"07\", value: \"Invalid hash\" },\n        { label: \"08\", value: \"Service unavailable\" },\n        { label: \"09\", value: \"Transaction in process\" },\n        { label: \"10\", value: \"Cancelled transaction\" },\n        { label: \"11\", value: \"EPP offline\" },\n        { label: \"12\", value: \"Invalid transaction type\" },\n        { label: \"13\", value: \"Invalid particulars\" },\n        { label: \"14\", value: \"Duplicate transaction\" },\n      ],\n    };\n  },\n  methods: {\n    getStatus(status) {\n      let item = this.landbank_status.find((item) => item.label == status);\n      return item.value;\n    },\n    parseParticulars() {\n      const particulars = this.currentLandBankTransaction.particulars;\n      const particularsHolder = particulars.split(\";\");\n\n      const formattedParticulars = {};\n\n      particularsHolder.forEach((item) => {\n        const particularItem = item.split(\"=\");\n        formattedParticulars[`${particularItem[0]}`] = particularItem[1];\n      });\n      return formattedParticulars;\n    },\n    replaceUrl(url) {\n      return url.replace(\"/bacoor/\", \"/\");\n    },\n    async onClickCallback(status) {\n      if (status) {\n        if (this.isFileUploaded) {\n          this.$modal.hide(\"paymentViewDetailsModal\");\n          let payload = this.paymentDetails;\n          payload.append(\"id\", this.currentLandBankTransaction.id);\n          await this.$store.dispatch(\"verifyBankTransaction\", payload);\n        } else {\n          this.$swal({\n            title: \"Failed!\",\n            text: \"Please fix the validation errors.\",\n            icon: \"error\",\n          });\n          this.uploadHasError = true;\n        }\n      } else {\n        this.$modal.hide(\"paymentViewDetailsModal\");\n      }\n    },\n    formatCurrency(str) {\n      var parts = str.toString().split(\".\");\n      parts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n      if (parts.length < 2) {\n        parts.push(\"00\");\n      }\n      return parts.join(\".\");\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.modal {\n  min-height: calc(100vh - 60px);\n  overflow-y: auto;\n  padding: 30px 0;\n\n  .meta-modal {\n    width: 100%;\n    max-width: 500px;\n    margin: 0 auto;\n    box-shadow: 0px 7px 20px rgba(0, 0, 0, 0.1);\n    border-radius: 15px;\n    background: #ffffff;\n    .meta-modal-body {\n      font-size: 18px;\n      font-family: Proxima Nova Rg;\n      line-height: 1.4;\n      padding: 50px 30px 40px;\n      .meta-body-items {\n        width: 100%;\n      }\n      .modal-title {\n        width: 100%;\n        text-align: left;\n        padding-left: 10px;\n        margin-bottom: 30px;\n        text-transform: uppercase;\n      }\n      .meta-input-group {\n        width: calc(100% - 20px);\n        padding: 0 10px;\n        align-items: center;\n        display: flex;\n        margin-bottom: 20px;\n        .input-field {\n          width: 100%;\n        }\n        .meta-input-label {\n          width: 40%;\n          float: left;\n\n          font-size: 16px;\n          font-family: Proxima Nova Rg;\n          line-height: 1.4;\n          margin-bottom: 0;\n        }\n        .meta-input-value {\n          width: 60%;\n          float: left;\n          font-size: 16px;\n          font-family: Proxima Nova Rg;\n          line-height: 1.4;\n\n          span.separator {\n            margin-right: 20px;\n          }\n        }\n        .meta-link {\n          cursor: pointer;\n          transition: 0.4s;\n          a {\n            color: #2699fb;\n            font-size: 16px;\n          }\n        }\n        .meta-link:hover {\n          color: #4791db;\n        }\n      }\n      .meta-upload-div {\n        width: 100%;\n        padding: 0 10px;\n      }\n    }\n    .meta-buttons {\n      width: 100%;\n      button {\n        width: 50%;\n        float: left;\n        background-color: transparent;\n        border: 0;\n        padding: 20px 10px;\n        border-top: 1px solid #eee;\n        font-size: 15px;\n        font-weight: bold;\n        font-family: Proxima Nova Rg;\n        transition: 0.2s;\n        cursor: pointer;\n      }\n      button:focus {\n        outline: 0;\n      }\n      button.agree {\n        border-right: 1px solid #eee;\n        border-bottom-left-radius: 15px;\n      }\n      button.cancel {\n        border-bottom-right-radius: 15px;\n      }\n      button.agree:hover {\n        color: #fff;\n        background-color: #4791db;\n      }\n      button.cancel:hover {\n        color: #fff;\n        background-color: #f44336;\n      }\n    }\n  }\n}\n</style>"]}]}