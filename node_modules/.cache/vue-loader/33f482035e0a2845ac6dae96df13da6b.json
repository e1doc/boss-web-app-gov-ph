{"remainingRequest":"/var/www/html/boss-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/html/boss-web/src/components/forms/AppointmentLimitForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/var/www/html/boss-web/src/components/forms/AppointmentLimitForm.vue","mtime":1605179000987},{"path":"/var/www/html/boss-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/boss-web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/var/www/html/boss-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/boss-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBCdXR0b25CbG9jayBmcm9tICJAL2NvbXBvbmVudHMvQnV0dG9uQmxvY2siOwppbXBvcnQgQmFzZVNlbGVjdCBmcm9tICJAL2NvbXBvbmVudHMvZm9ybXMvQmFzZVNlbGVjdCI7CmltcG9ydCBCYXNlRGF0ZVBpY2tlciBmcm9tICJAL2NvbXBvbmVudHMvZm9ybXMvQmFzZURhdGVQaWNrZXIiOwppbXBvcnQgQmFzZUlucHV0IGZyb20gIkAvY29tcG9uZW50cy9mb3Jtcy9CYXNlSW5wdXQiOwppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAidnVleCI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQXBwb2ludG1lbnRGb3JtIiwKICBjb21wb25lbnRzOiB7CiAgICBCYXNlU2VsZWN0LAogICAgQnV0dG9uQmxvY2ssCiAgICBCYXNlRGF0ZVBpY2tlciwKICAgIEJhc2VJbnB1dCwKICB9LAogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBHZXR0ZXJzKFsiY3VycmVudERhdGUiLCAiaXNBcHBvaW50bWVudFN1Y2Nlc3MiLCAiYXBwb2ludG1lbnRFcnJvciJdKSwKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzdGFydF9kYXRlOiAiIiwKICAgICAgZW5kX2RhdGU6ICIiLAogICAgICBiYXRjaDFfY291bnQ6IDAsCiAgICAgIGJhdGNoMl9jb3VudDogMCwKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBhc3luYyBzZXRBcHBvaW50bWVudExpbWl0KCkgewogICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3NldElzQXBwb2ludG1lbnRTdWNjZXNzJywgZmFsc2UpCiAgICAgIGF3YWl0IHRoaXMuJHN0b3JlLmNvbW1pdCgic2V0TG9hZGluZyIsIHRydWUpOwogICAgICAvLyBsZXQgcGF5bG9hZCA9IHsKICAgICAgLy8gICBzdGFydF9kYXRlOiB0aGlzLnN0YXJ0X2RhdGUsCiAgICAgIC8vICAgZW5kX2RhdGU6IHRoaXMuZW5kX2RhdGUsCiAgICAgIC8vICAgY291bnQ6IHRoaXMuY291bnQsCiAgICAgIC8vIH07CiAgICAgIGxldCBwYXlsb2FkID0gewogICAgICAgIGxpbWl0X3NldDogWwogICAgICAgICAgewogICAgICAgICAgICBzdGFydF9kYXRlOiB0aGlzLnN0YXJ0X2RhdGUsCiAgICAgICAgICAgIGVuZF9kYXRlOiB0aGlzLmVuZF9kYXRlLAogICAgICAgICAgICBiYXRjaDogImJhdGNoXzEiLAogICAgICAgICAgICBiYXRjaDFfY291bnQ6IHRoaXMuYmF0Y2gxX2NvdW50LAogICAgICAgICAgICBjb3VudDogdGhpcy5iYXRjaDFfY291bnQsCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBzdGFydF9kYXRlOiB0aGlzLnN0YXJ0X2RhdGUsCiAgICAgICAgICAgIGVuZF9kYXRlOiB0aGlzLmVuZF9kYXRlLAogICAgICAgICAgICBiYXRjaDogImJhdGNoXzIiLAogICAgICAgICAgICBjb3VudDogdGhpcy5iYXRjaDJfY291bnQsCiAgICAgICAgICB9LAogICAgICAgIF0sCiAgICAgIH07CiAgICAgIGF3YWl0IHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJhZGRBcHBvaW50bWVudExpbWl0IiwgcGF5bG9hZCk7CiAgICAgIGlmICh0aGlzLmlzQXBwb2ludG1lbnRTdWNjZXNzKSB7CiAgICAgICAgYXdhaXQgdGhpcy4kc3RvcmUuY29tbWl0KCJzZXRMb2FkaW5nIiwgZmFsc2UpOwogICAgICAgIHRoaXMuJG1vZGFsLmhpZGUoImFwcG9pbnRtZW50TGltaXRNb2RhbCIpOwogICAgICAgIHRoaXMuJHN3YWwoewogICAgICAgICAgdGl0bGU6ICJTdWNjZXNzISIsCiAgICAgICAgICB0ZXh0OiAiQXBwb2ludG1lbnQgc2xvdCBzZXR0aW5ncyB3YXMgc3VibWl0dGVkIHN1Y2Nlc3NmdWxseS4iLAogICAgICAgICAgaWNvbjogInN1Y2Nlc3MiLAogICAgICAgIH0pOwogICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJhcHBvaW50bWVudExpbWl0cyIpOwogICAgICB9IGVsc2UgewogICAgICAgIGF3YWl0IHRoaXMuJHN0b3JlLmNvbW1pdCgic2V0TG9hZGluZyIsIGZhbHNlKTsKICAgICAgICB0aGlzLiRtb2RhbC5oaWRlKCJhcHBvaW50bWVudExpbWl0TW9kYWwiKTsKICAgICAgICB0aGlzLiRzd2FsKHsKICAgICAgICAgIHRpdGxlOiAiRmFpbGVkISIsCiAgICAgICAgICB0ZXh0OiB0aGlzLmFwcG9pbnRtZW50RXJyb3IsCiAgICAgICAgICBpY29uOiAiZXJyb3IiLAogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["AppointmentLimitForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AppointmentLimitForm.vue","sourceRoot":"src/components/forms","sourcesContent":["<template>\n  <div class=\"container form-section\">\n    <div class=\"flex-column\">\n      <div class=\"meta-input-label mt10 mb10\">\n        From:\n      </div>\n      <base-date-picker class=\"mb15\" v-model=\"start_date\" />\n      <div class=\"meta-input-label mt10 mb10\">\n        To:\n      </div>\n      <base-date-picker class=\"mb25\" v-model=\"end_date\" />\n      <base-input\n        label=\"Batch 1 Slots Per Day:\"\n        name=\"slots\"\n        refs=\"appointment_slot1\"\n        type=\"number\"\n        class=\"mt40\"\n        v-model=\"batch1_count\"\n      />\n      <base-input\n        label=\"Batch 2 Slots Per Day:\"\n        name=\"slots\"\n        refs=\"appointment_slot2\"\n        type=\"number\"\n        class=\"mt40\"\n        v-model=\"batch2_count\"\n      />\n      <button-block @click.native=\"setAppointmentLimit()\">Submit</button-block>\n    </div>\n  </div>\n</template>\n\n<script>\nimport ButtonBlock from \"@/components/ButtonBlock\";\nimport BaseSelect from \"@/components/forms/BaseSelect\";\nimport BaseDatePicker from \"@/components/forms/BaseDatePicker\";\nimport BaseInput from \"@/components/forms/BaseInput\";\nimport { mapGetters } from \"vuex\";\nexport default {\n  name: \"AppointmentForm\",\n  components: {\n    BaseSelect,\n    ButtonBlock,\n    BaseDatePicker,\n    BaseInput,\n  },\n  computed: {\n    ...mapGetters([\"currentDate\", \"isAppointmentSuccess\", \"appointmentError\"]),\n  },\n  data() {\n    return {\n      start_date: \"\",\n      end_date: \"\",\n      batch1_count: 0,\n      batch2_count: 0,\n    };\n  },\n  methods: {\n    async setAppointmentLimit() {\n      this.$store.commit('setIsAppointmentSuccess', false)\n      await this.$store.commit(\"setLoading\", true);\n      // let payload = {\n      //   start_date: this.start_date,\n      //   end_date: this.end_date,\n      //   count: this.count,\n      // };\n      let payload = {\n        limit_set: [\n          {\n            start_date: this.start_date,\n            end_date: this.end_date,\n            batch: \"batch_1\",\n            batch1_count: this.batch1_count,\n            count: this.batch1_count,\n          },\n          {\n            start_date: this.start_date,\n            end_date: this.end_date,\n            batch: \"batch_2\",\n            count: this.batch2_count,\n          },\n        ],\n      };\n      await this.$store.dispatch(\"addAppointmentLimit\", payload);\n      if (this.isAppointmentSuccess) {\n        await this.$store.commit(\"setLoading\", false);\n        this.$modal.hide(\"appointmentLimitModal\");\n        this.$swal({\n          title: \"Success!\",\n          text: \"Appointment slot settings was submitted successfully.\",\n          icon: \"success\",\n        });\n        this.$store.dispatch(\"appointmentLimits\");\n      } else {\n        await this.$store.commit(\"setLoading\", false);\n        this.$modal.hide(\"appointmentLimitModal\");\n        this.$swal({\n          title: \"Failed!\",\n          text: this.appointmentError,\n          icon: \"error\",\n        });\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.form-section {\n  padding: 15px;\n}\n</style>\n"]}]}