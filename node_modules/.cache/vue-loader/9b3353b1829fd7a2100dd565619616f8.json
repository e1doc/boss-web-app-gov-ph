{"remainingRequest":"/var/www/html/boss-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/html/boss-web/src/components/application/BusinessUploadStep.vue?vue&type=script&lang=js&","dependencies":[{"path":"/var/www/html/boss-web/src/components/application/BusinessUploadStep.vue","mtime":1633174163400},{"path":"/var/www/html/boss-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/boss-web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/var/www/html/boss-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/boss-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBCdXR0b25CbG9jayBmcm9tICJAL2NvbXBvbmVudHMvQnV0dG9uQmxvY2siOwppbXBvcnQgQmFzZUZpbGVVcGxvYWRlciBmcm9tICJAL2NvbXBvbmVudHMvZm9ybXMvQmFzZUZpbGVVcGxvYWRlciI7CmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICJ2dWV4IjsKY29uc3Qgb25lRG9jVG9rZW4gPSBwcm9jZXNzLmVudi5WVUVfQVBQX09ORV9ET0NfVE9LRU47CmNvbnN0IGxndUxvY2FsRW5kcG9pbnQgPSBwcm9jZXNzLmVudi5WVUVfQVBQX0xHVV9MT0NBTF9FTkRQT0lOVDsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IG1vbWVudCBmcm9tICJtb21lbnQtdGltZXpvbmUiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkJ1c2luZXNzVXBsb2FkU3RlcCIsCiAgY29tcG9uZW50czogewogICAgQnV0dG9uQmxvY2ssCiAgICBCYXNlRmlsZVVwbG9hZGVyLAogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGJ1c2luZXNzX3JlZ2lzdHJhdGlvbl9wcm9vZjoge30sCiAgICAgIGZyYW5jaGlzZV9hZ3JlZW1lbnQ6IHt9LAogICAgICBvY2N1cGFuY3lfcGVybWl0OiB7fSwKICAgICAgY29udHJhY3Rfb2ZfbGVhc2U6IHt9LAogICAgICBnb3Zlcm5tZW50X2lkOiB7fSwKICAgICAgcmVxdWlyZWQ6IFsiYnVzaW5lc3NfcmVnaXN0cmF0aW9uX3Byb29mIiwgIm9jY3VwYW5jeV9wZXJtaXQiXSwKICAgICAgdXBsb2FkRXJyb3JzOiB7CiAgICAgICAgYnVzaW5lc3NfcmVnaXN0cmF0aW9uX3Byb29mOiBmYWxzZSwKICAgICAgICBvY2N1cGFuY3lfcGVybWl0OiBmYWxzZSwKICAgICAgfSwKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgLi4ubWFwR2V0dGVycyhbCiAgICAgICJhcHBsaWNhdGlvblJlcXVpcmVtZW50cyIsCiAgICAgICJyZXF1aXJlbWVudHMiLAogICAgICAiZHJhZnRCdXNpbmVzcyIsCiAgICAgICJidXNpbmVzc0FwcGxpY2F0aW9uIiwKICAgICAgImJ1c2luZXNzQmFzaWNJbmZvcm1hdGlvbiIsCiAgICAgICJidXNpbmVzc0RldGFpbHMiLAogICAgICAibGVzc29yRGV0YWlscyIsCiAgICAgICJidXNpbmVzc0FjdGl2aXRpZXMiLAogICAgXSksCiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5zY3JvbGxUb1RvcCgpOwogICAgdGhpcy5nZXRSZXF1aXJlbWVudHMoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHNjcm9sbFRvVG9wKCkgewogICAgICB3aW5kb3cuc2Nyb2xsVG8oMCwgMCk7CiAgICB9LAogICAgdmFsaWRhdGVSZXF1aXJlZEZpZWxkcygpIHsKICAgICAgbGV0IHZhbGlkYXRlZCA9IFtdOwogICAgICBpZiAodGhpcy5yZXF1aXJlbWVudHMpIHsKICAgICAgICBpZiAodGhpcy5yZXF1aXJlbWVudHMucmVxdWlyZW1lbnRzKSB7CiAgICAgICAgICBpZiAodGhpcy5yZXF1aXJlbWVudHMucmVxdWlyZW1lbnRzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgdGhpcy5yZXF1aXJlbWVudHMucmVxdWlyZW1lbnRzLm1hcCgoaXRlbSkgPT4gewogICAgICAgICAgICAgIGlmICghdmFsaWRhdGVkLmluY2x1ZGVzKGl0ZW0ucmVxdWlyZW1lbnRzX2xhYmVsKSkgewogICAgICAgICAgICAgICAgaWYgKHRoaXMucmVxdWlyZWQuaW5jbHVkZXMoaXRlbS5yZXF1aXJlbWVudHNfbGFiZWwpKSB7CiAgICAgICAgICAgICAgICAgIHZhbGlkYXRlZC5wdXNoKGl0ZW0ucmVxdWlyZW1lbnRzX2xhYmVsKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy5yZXF1aXJlZC5mb3JFYWNoKChlbGVtZW50KSA9PiB7CiAgICAgICAgICAgICAgdGhpcy51cGxvYWRFcnJvcnNbYCR7ZWxlbWVudH1gXSA9IHRydWU7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgICAgdGhpcy5yZXF1aXJlZC5mb3JFYWNoKChlbGVtZW50KSA9PiB7CiAgICAgICAgICAgIGlmICghdmFsaWRhdGVkLmluY2x1ZGVzKGVsZW1lbnQpKSB7CiAgICAgICAgICAgICAgdGhpcy51cGxvYWRFcnJvcnNbYCR7ZWxlbWVudH1gXSA9IHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgICAgaWYgKHZhbGlkYXRlZC5sZW5ndGggPT09IHRoaXMucmVxdWlyZWQubGVuZ3RoKSB7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLnJlcXVpcmVkLmZvckVhY2goKGVsZW1lbnQpID0+IHsKICAgICAgICAgICAgdGhpcy51cGxvYWRFcnJvcnNbYCR7ZWxlbWVudH1gXSA9IHRydWU7CiAgICAgICAgICB9KTsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBwcmV2aW91c1N0ZXAoKSB7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgic2V0Q3VycmVudEFwcGxpY2F0aW9uU3RlcCIsICIyIik7CiAgICB9LAogICAgYXN5bmMgbmV4dFN0ZXAoKSB7CiAgICAgIGlmICghdGhpcy5kcmFmdEJ1c2luZXNzKSB7CiAgICAgICAgbGV0IGlzVmFsaWRhdGVkID0gdGhpcy52YWxpZGF0ZVJlcXVpcmVkRmllbGRzKCk7CiAgICAgICAgaWYgKGlzVmFsaWRhdGVkKSB7CiAgICAgICAgICBsZXQgYXBwbGljYXRpb25fc3RhdHVzOwogICAgICAgICAgdGhpcy5idXNpbmVzc0FwcGxpY2F0aW9uLmFwcGxpY2F0aW9uX3N0YXR1cyA9PSAxCiAgICAgICAgICAgID8gKGFwcGxpY2F0aW9uX3N0YXR1cyA9IDApCiAgICAgICAgICAgIDogdGhpcy5idXNpbmVzc0FwcGxpY2F0aW9uLmFwcGxpY2F0aW9uX3N0YXR1cyA9PSAzCiAgICAgICAgICAgID8gKGFwcGxpY2F0aW9uX3N0YXR1cyA9IDIpCiAgICAgICAgICAgIDogKGFwcGxpY2F0aW9uX3N0YXR1cyA9IDApOwoKICAgICAgICAgIGxldCBwYXlsb2FkID0gewogICAgICAgICAgICBpc19kcmFmdDogZmFsc2UsCiAgICAgICAgICAgIGFwcGxpY2F0aW9uX3N0YXR1czogYXBwbGljYXRpb25fc3RhdHVzLAogICAgICAgICAgICBsYXN0X3N1Ym1pdHRlZDogbmV3IERhdGUoRGF0ZS5ub3coKSksCiAgICAgICAgICAgIGlzX2Rpc2FwcHJvdmU6IGZhbHNlLAogICAgICAgICAgfTsKCiAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLnNlbmREYXRhVG9Mb2NhbCgpOwogICAgICAgICAgaWYgKHJlc3VsdCkgewogICAgICAgICAgICBhd2FpdCB0aGlzLiRzdG9yZS5kaXNwYXRjaCgidXBkYXRlQnVzaW5lc3NBcHBsaWNhdGlvbiIsIHBheWxvYWQpOwogICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoInNldEN1cnJlbnRBcHBsaWNhdGlvblN0ZXAiLCAiNCIpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy4kc3dhbCh7CiAgICAgICAgICAgICAgdGl0bGU6ICJGYWlsZWQhIiwKICAgICAgICAgICAgICB0ZXh0OiAiU29tZXRoaW5nIHdlbnQgd3JvbmcuIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuIiwKICAgICAgICAgICAgICBpY29uOiAiZXJyb3IiLAogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy4kc3dhbCh7CiAgICAgICAgICAgIHRpdGxlOiAiRmFpbGVkISIsCiAgICAgICAgICAgIHRleHQ6ICJQbGVhc2UgdXBsb2FkIHRoZSByZW1haW5pbmcgcmVxdWlyZW1lbnRzIGJlZm9yZSB5b3Ugc3VibWl0IHRoZSBhcHBsaWNhdGlvbi4iLAogICAgICAgICAgICBpY29uOiAiZXJyb3IiLAogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgYXN5bmMgZ2V0UmVxdWlyZW1lbnRzKCkgewogICAgICBpZiAodGhpcy5hcHBsaWNhdGlvblJlcXVpcmVtZW50cy5pZCkgewogICAgICAgIGF3YWl0IHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJnZXRBcHBsaWNhdGlvblJlcXVpcmVtZW50cyIpOwogICAgICB9CiAgICB9LAogICAgZ2V0UHJvcGVydHkoa2V5KSB7CiAgICAgIGlmICh0aGlzLnJlcXVpcmVtZW50cy5pZCkgewogICAgICAgIGlmICh0aGlzLnJlcXVpcmVtZW50cy5yZXF1aXJlbWVudHMubGVuZ3RoID4gMCkgewogICAgICAgICAgbGV0IHByb3BlcnR5ID0ge307CiAgICAgICAgICBwcm9wZXJ0eSA9IHRoaXMucmVxdWlyZW1lbnRzLnJlcXVpcmVtZW50cy5maW5kKChlbGVtZW50KSA9PiB7CiAgICAgICAgICAgIGlmIChlbGVtZW50LnJlcXVpcmVtZW50c19sYWJlbCA9PT0ga2V5KSB7CiAgICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQ7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgICAgcmV0dXJuIHByb3BlcnR5OwogICAgICAgIH0KICAgICAgfQogICAgfSwKCiAgICBhc3luYyBzZW5kRGF0YVRvTG9jYWwoKSB7CiAgICAgIGNvbnN0IGNvbmZpZyA9IHsKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAiT25lRG9jLVRva2VuIjogb25lRG9jVG9rZW4sCiAgICAgICAgICAiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL2pzb24iLAogICAgICAgIH0sCiAgICAgIH07CiAgICAgIGNvbnN0IGFwcGxpY2F0aW9uX3BhcmFtcyA9IHsKICAgICAgICBvbmxpbmVyZWZubzogdGhpcy5idXNpbmVzc0Jhc2ljSW5mb3JtYXRpb24ucmVmZXJlbmNlX251bWJlciB8fCAiIiwKICAgICAgICBvcmd0eXBlOiB0aGlzLmJ1c2luZXNzQmFzaWNJbmZvcm1hdGlvbi50eXBlX29mX29yZ2FuaXphdGlvbiB8fCAiIiwKICAgICAgICBwYXltb2RlOiB0aGlzLmJ1c2luZXNzQmFzaWNJbmZvcm1hdGlvbi5tb2RlX29mX3BheW1lbnQgfHwgIiIsCiAgICAgICAgbGFzdG5hbWU6IHRoaXMuYnVzaW5lc3NCYXNpY0luZm9ybWF0aW9uLm93bmVyX2xhc3RfbmFtZSB8fCAiIiwKICAgICAgICBmaXJzdG5hbWU6IHRoaXMuYnVzaW5lc3NCYXNpY0luZm9ybWF0aW9uLm93bmVyX2ZpcnN0X25hbWUgfHwgIiIsCiAgICAgICAgbWlkZGxlbmFtZTogdGhpcy5idXNpbmVzc0Jhc2ljSW5mb3JtYXRpb24ub3duZXJfbWlkZGxlX25hbWUgfHwgIiIsCiAgICAgICAgb3duZXJhZGRyZXNzOgogICAgICAgICAgdGhpcy5idXNpbmVzc0Jhc2ljSW5mb3JtYXRpb24ub3duZXJfY29tcGxldGVfYWRkcmVzcyB8fCAiIiwKICAgICAgICB0ZWxubzogdGhpcy5idXNpbmVzc0Jhc2ljSW5mb3JtYXRpb24ub3duZXJfdGVsZXBob25lX251bWJlciB8fCAiIiwKICAgICAgICBlbWFpbDogdGhpcy5idXNpbmVzc0Jhc2ljSW5mb3JtYXRpb24uZW1haWxfYWRkcmVzcyB8fCAiIiwKICAgICAgICByZWdubzogdGhpcy5idXNpbmVzc0Jhc2ljSW5mb3JtYXRpb24uZHRpX3NlY19jZGFfcmVnX251bWJlciB8fCAiIiwKICAgICAgICByZWdkYXRlOiBtb21lbnQodGhpcy5kdGlfc2VjX2NkYV9yZWdfZGF0ZSkuZm9ybWF0KCJZWVlZLU1NLUREIiksCiAgICAgICAgY3Rjbm86IHRoaXMuYnVzaW5lc3NCYXNpY0luZm9ybWF0aW9uLmN0Y19ubyB8fCAiIiwKICAgICAgICB0aW46IHRoaXMuYnVzaW5lc3NCYXNpY0luZm9ybWF0aW9uLnRpbiB8fCAiIiwKICAgICAgICBpbmNlbnRpdmU6IHRoaXMuYnVzaW5lc3NCYXNpY0luZm9ybWF0aW9uLmhhc190YXhfaW5jZW50aXZlCiAgICAgICAgICA/ICJZZXMiCiAgICAgICAgICA6ICJObyIsCiAgICAgICAgaW5jZW50aXZlZW50aXR5OiB0aGlzLmJ1c2luZXNzQmFzaWNJbmZvcm1hdGlvbi5nb3Zlcm5tZW50X2VudGl0eSB8fCAiIiwKICAgICAgICB0bGFzdG5hbWU6IHRoaXMuYnVzaW5lc3NEZXRhaWxzLnByZXNpZGVudF9sYXN0X25hbWUgfHwgIiIsCiAgICAgICAgdGZpcnN0bmFtZTogdGhpcy5idXNpbmVzc0RldGFpbHMucHJlc2lkZW50X2ZpcnN0X25hbWUgfHwgIiIsCiAgICAgICAgdG1pZGRsZW5hbWU6IHRoaXMuYnVzaW5lc3NEZXRhaWxzLnByZXNpZGVudF9taWRkbGVfbmFtZSB8fCAiIiwKICAgICAgICBjb3JwbmFtZTogdGhpcy5idXNpbmVzc0RldGFpbHMubmFtZSB8fCAiIiwKICAgICAgICB0cmFkZW5hbWU6IHRoaXMuYnVzaW5lc3NEZXRhaWxzLnRyYWRlX25hbWUgfHwgIiIsCiAgICAgICAgYnVzaW5lc3NhZGRyZXNzOiB0aGlzLmJ1c2luZXNzRGV0YWlscy5jb21wbGV0ZV9idXNpbmVzc19hZGRyZXNzIHx8ICIiLAogICAgICAgIGJ1c2luZXNzYWRkcmVzc25vOiB0aGlzLmJ1c2luZXNzRGV0YWlscy5hZGRyZXNzX25vIHx8ICIiLAogICAgICAgIGJ1c2luZXNzYmxvY2tubzogdGhpcy5idXNpbmVzc0RldGFpbHMuYmxvY2tfbm8gfHwgIiIsCiAgICAgICAgYnVzaW5lc3Nsb3RubzogdGhpcy5idXNpbmVzc0RldGFpbHMubG90X25vIHx8ICIiLAogICAgICAgIGJ1c2luZXNzc3RyZWV0OiB0aGlzLmJ1c2luZXNzRGV0YWlscy5zdHJlZXQgfHwgIiIsCiAgICAgICAgYnVzaW5lc3NzdWJkaXZpc2lvbjogdGhpcy5idXNpbmVzc0RldGFpbHMuc3ViZGl2aXNpb24gfHwgIiIsCiAgICAgICAgYnVzaW5lc3NibGRnbm86IHRoaXMuYnVzaW5lc3NEZXRhaWxzLmJ1aWxkaW5nX25vIHx8ICIiLAogICAgICAgIGJ1c2luZXNzYmxkZ25hbWU6IHRoaXMuYnVzaW5lc3NEZXRhaWxzLmJ1aWxkaW5nX25hbWUgfHwgIiIsCiAgICAgICAgYnVzaW5lc3N1bml0bm86IHRoaXMuYnVzaW5lc3NEZXRhaWxzLnVuaXRfbm8gfHwgIiIsCiAgICAgICAgYnVzaW5lc3NmbG9vcm5vOiB0aGlzLmJ1c2luZXNzRGV0YWlscy5mbG9vcl9ubyB8fCAiIiwKICAgICAgICBidXNpbmVzc2JhcmFuZ2F5OiB0aGlzLmJ1c2luZXNzRGV0YWlscy5iYXJhbmdheSB8fCAiIiwKICAgICAgICBjaXR5OiB0aGlzLmJ1c2luZXNzRGV0YWlscy5jaXR5IHx8ICIiLAogICAgICAgIHByb3ZpbmNlOiAiQ2F2aXRlIiwKICAgICAgICBidXNpbmVzc3RlbG5vOiB0aGlzLmJ1c2luZXNzRGV0YWlscy50ZWxlcGhvbmVfbnVtYmVyIHx8ICIiLAogICAgICAgIGJ1c2luZXNzZW1haWw6IHRoaXMuYnVzaW5lc3NEZXRhaWxzLmVtYWlsX2FkZHJlc3MgfHwgIiIsCiAgICAgICAgcGluOiB0aGlzLmJ1c2luZXNzRGV0YWlscy5wcm9wZXJ0eV9pbmRleF9udW1iZXIgfHwgIiIsCiAgICAgICAgYnVzaW5lc3NhcmVhOiB0aGlzLmJ1c2luZXNzRGV0YWlscy5hcmVhLnRvU3RyaW5nKCkgfHwgIiIsCiAgICAgICAgZW1wY291bnQ6IHRoaXMuYnVzaW5lc3NEZXRhaWxzLnRvdGFsX2VtcGxveWVlcy50b1N0cmluZygpIHx8ICIiLAogICAgICAgIGVtcGxndWNvdW50OiB0aGlzLmJ1c2luZXNzRGV0YWlscy5yZXNpZGluZ19lbXBsb3llZXMudG9TdHJpbmcoKSB8fCAiIiwKICAgICAgICBsZXNzb3JsYXN0bmFtZTogdGhpcy5sZXNzb3JEZXRhaWxzLmxhc3RfbmFtZSB8fCAiIiwKICAgICAgICBsZXNzb3JmaXJzdG5hbWU6IHRoaXMubGVzc29yRGV0YWlscy5maXJzdF9uYW1lIHx8ICIiLAogICAgICAgIGxlc3Nvcm1pZGRsZW5hbWU6IHRoaXMubGVzc29yRGV0YWlscy5taWRkbGVfbmFtZSB8fCAiIiwKICAgICAgICBsZXNzb3JhZGRyZXNzOiB0aGlzLmxlc3NvckRldGFpbHMuY29tcGxldGVfYWRkcmVzcyB8fCAiIiwKICAgICAgICBtb250aGx5cmVudGFsOiB0aGlzLmxlc3NvckRldGFpbHMuZ3Jvc3NfbW9udGhseV9yZW50YWwKICAgICAgICAgID8gdGhpcy5sZXNzb3JEZXRhaWxzLmdyb3NzX21vbnRobHlfcmVudGFsLnRvU3RyaW5nKCkKICAgICAgICAgIDogIiIsCiAgICAgICAgbGVzc29ydGVsbm86IHRoaXMubGVzc29yRGV0YWlscy50ZWxlcGhvbmVfbnVtYmVyIHx8ICIiLAogICAgICAgIGxlc3NvcmVtYWlsOiB0aGlzLmxlc3NvckRldGFpbHMuZW1haWxfYWRkcmVzcyB8fCAiIiwKICAgICAgICBhcHB0eXBlOiAiTmV3IiB8fCAiIiwKICAgICAgICBhcHBkYXRlOiBtb21lbnQodGhpcy5idXNpbmVzc0FwcGxpY2F0aW9uLmNyZWF0ZWRfYXQpLmZvcm1hdCgKICAgICAgICAgICJZWVlZLU1NLUREIgogICAgICAgICksCiAgICAgICAgeWVhcjogbW9tZW50KHRoaXMuYnVzaW5lc3NBcHBsaWNhdGlvbi5jcmVhdGVkX2F0KS5mb3JtYXQoIllZWVkiKSwKICAgICAgICByZW1hcmtzOiAiIiwKICAgICAgfTsKICAgICAgY29uc29sZS5sb2coYXBwbGljYXRpb25fcGFyYW1zKTsKICAgICAgY29uc3QgYXBwbGljYXRpb25fcGF5bG9hZCA9IHsKICAgICAgICBuYW1lOiAiUE9TVEJ1c2luZXNzIiwKICAgICAgICBwYXJhbTogYXBwbGljYXRpb25fcGFyYW1zLAogICAgICB9OwoKICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5wb3N0KAogICAgICAgIGAke2xndUxvY2FsRW5kcG9pbnR9YCwKICAgICAgICBhcHBsaWNhdGlvbl9wYXlsb2FkLAogICAgICAgIGNvbmZpZwogICAgICApOwoKICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuUmVzdWx0KSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICB9LAogIH0sCiAgd2F0Y2g6IHsKICAgIGRyYWZ0QnVzaW5lc3M6IHsKICAgICAgZGVlcDogdHJ1ZSwKICAgICAgaGFuZGxlcihzdGF0dXMpIHsKICAgICAgICBpZiAoc3RhdHVzKSB7CiAgICAgICAgICB0aGlzLiRzd2FsKHsKICAgICAgICAgICAgdGl0bGU6ICJTdWNjZXNzISIsCiAgICAgICAgICAgIHRleHQ6ICJkYXRhIHN1Y2Nlc3NmdWxseSBzYXZlZCBhcyBkcmFmdC4iLAogICAgICAgICAgICBpY29uOiAic3VjY2VzcyIsCiAgICAgICAgICB9KS50aGVuKCh2YWx1ZSkgPT4gewogICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoInNldERyYWZ0QnVzaW5lc3MiLCBmYWxzZSk7CiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgbmFtZTogIlByb2ZpbGUiIH0pOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9LAogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["BusinessUploadStep.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"BusinessUploadStep.vue","sourceRoot":"src/components/application","sourcesContent":["<template>\n  <div class=\"meta-container flex-center\">\n    <h1 class=\"meta-form-title\">Upload your Requirements</h1>\n    <div class=\"meta-note\">\n      Almost Done! Please upload your file. Only allowed format - jpg, jpeg, png\n      or pdf file.\n    </div>\n    <base-file-uploader\n      label=\"1. Proof of business registration, incorporation, or legal personality\"\n      description=\"{i.e. DTI / SEC (Including articles and by-laws)/Cooperative Development Authority (CDA).\"\n      type=\"business\"\n      fileLabel=\"business_registration_proof\"\n      :hasError=\"uploadErrors.business_registration_proof\"\n      :properties=\"getProperty('business_registration_proof')\"\n      uploadType=\"application/pdf\"\n    />\n    <base-file-uploader\n      label=\"2. For Franchisee, please upload a copy of Franchise Agreement\"\n      :properties=\"getProperty('franchise_agreement')\"\n      fileLabel=\"franchise_agreement\"\n      type=\"business\"\n    />\n    <base-file-uploader\n      label=\"3. Occupancy Permit\"\n      description=\"If required by national laws (e.g. Building Code) and local laws.\"\n      :properties=\"getProperty('occupancy_permit')\"\n      :hasError=\"uploadErrors.occupancy_permit\"\n      fileLabel=\"occupancy_permit\"\n      type=\"business\"\n    />\n    <base-file-uploader\n      label=\"4. Contract of Lease (if Lessee)\"\n      :properties=\"getProperty('contract_of_lease')\"\n      fileLabel=\"contract_of_lease\"\n      type=\"business\"\n      uploadType=\"application/pdf\"\n    />\n    <base-file-uploader\n      label=\"5. One Goverment issued ID\"\n      :properties=\"getProperty('government_id')\"\n      fileLabel=\"government_id\"\n      type=\"business\"\n      :hasError=\"uploadErrors.government_id\"\n    />\n    <div class=\"meta-form-group button-left-right\">\n      <button-block\n        type=\"back\"\n        class=\"back-button\"\n        @click.native=\"previousStep()\"\n        >BACK</button-block\n      >\n      <button-block class=\"next-button\" @click.native=\"nextStep()\"\n        >NEXT</button-block\n      >\n    </div>\n  </div>\n</template>\n\n<script>\nimport ButtonBlock from \"@/components/ButtonBlock\";\nimport BaseFileUploader from \"@/components/forms/BaseFileUploader\";\nimport { mapGetters } from \"vuex\";\nconst oneDocToken = process.env.VUE_APP_ONE_DOC_TOKEN;\nconst lguLocalEndpoint = process.env.VUE_APP_LGU_LOCAL_ENDPOINT;\nimport axios from \"axios\";\nimport moment from \"moment-timezone\";\nexport default {\n  name: \"BusinessUploadStep\",\n  components: {\n    ButtonBlock,\n    BaseFileUploader,\n  },\n  data() {\n    return {\n      business_registration_proof: {},\n      franchise_agreement: {},\n      occupancy_permit: {},\n      contract_of_lease: {},\n      government_id: {},\n      required: [\"business_registration_proof\", \"occupancy_permit\"],\n      uploadErrors: {\n        business_registration_proof: false,\n        occupancy_permit: false,\n      },\n    };\n  },\n  computed: {\n    ...mapGetters([\n      \"applicationRequirements\",\n      \"requirements\",\n      \"draftBusiness\",\n      \"businessApplication\",\n      \"businessBasicInformation\",\n      \"businessDetails\",\n      \"lessorDetails\",\n      \"businessActivities\",\n    ]),\n  },\n  mounted() {\n    this.scrollToTop();\n    this.getRequirements();\n  },\n  methods: {\n    scrollToTop() {\n      window.scrollTo(0, 0);\n    },\n    validateRequiredFields() {\n      let validated = [];\n      if (this.requirements) {\n        if (this.requirements.requirements) {\n          if (this.requirements.requirements.length > 0) {\n            this.requirements.requirements.map((item) => {\n              if (!validated.includes(item.requirements_label)) {\n                if (this.required.includes(item.requirements_label)) {\n                  validated.push(item.requirements_label);\n                }\n              }\n            });\n          } else {\n            this.required.forEach((element) => {\n              this.uploadErrors[`${element}`] = true;\n            });\n          }\n          this.required.forEach((element) => {\n            if (!validated.includes(element)) {\n              this.uploadErrors[`${element}`] = true;\n            }\n          });\n          if (validated.length === this.required.length) {\n            return true;\n          } else {\n            return false;\n          }\n        } else {\n          this.required.forEach((element) => {\n            this.uploadErrors[`${element}`] = true;\n          });\n          return false;\n        }\n      }\n    },\n    previousStep() {\n      this.$store.commit(\"setCurrentApplicationStep\", \"2\");\n    },\n    async nextStep() {\n      if (!this.draftBusiness) {\n        let isValidated = this.validateRequiredFields();\n        if (isValidated) {\n          let application_status;\n          this.businessApplication.application_status == 1\n            ? (application_status = 0)\n            : this.businessApplication.application_status == 3\n            ? (application_status = 2)\n            : (application_status = 0);\n\n          let payload = {\n            is_draft: false,\n            application_status: application_status,\n            last_submitted: new Date(Date.now()),\n            is_disapprove: false,\n          };\n\n          const result = await this.sendDataToLocal();\n          if (result) {\n            await this.$store.dispatch(\"updateBusinessApplication\", payload);\n            this.$store.commit(\"setCurrentApplicationStep\", \"4\");\n          } else {\n            this.$swal({\n              title: \"Failed!\",\n              text: \"Something went wrong. Please try again later.\",\n              icon: \"error\",\n            });\n          }\n        } else {\n          this.$swal({\n            title: \"Failed!\",\n            text: \"Please upload the remaining requirements before you submit the application.\",\n            icon: \"error\",\n          });\n        }\n      }\n    },\n    async getRequirements() {\n      if (this.applicationRequirements.id) {\n        await this.$store.dispatch(\"getApplicationRequirements\");\n      }\n    },\n    getProperty(key) {\n      if (this.requirements.id) {\n        if (this.requirements.requirements.length > 0) {\n          let property = {};\n          property = this.requirements.requirements.find((element) => {\n            if (element.requirements_label === key) {\n              return element;\n            }\n          });\n          return property;\n        }\n      }\n    },\n\n    async sendDataToLocal() {\n      const config = {\n        headers: {\n          \"OneDoc-Token\": oneDocToken,\n          \"Content-Type\": \"application/json\",\n        },\n      };\n      const application_params = {\n        onlinerefno: this.businessBasicInformation.reference_number || \"\",\n        orgtype: this.businessBasicInformation.type_of_organization || \"\",\n        paymode: this.businessBasicInformation.mode_of_payment || \"\",\n        lastname: this.businessBasicInformation.owner_last_name || \"\",\n        firstname: this.businessBasicInformation.owner_first_name || \"\",\n        middlename: this.businessBasicInformation.owner_middle_name || \"\",\n        owneraddress:\n          this.businessBasicInformation.owner_complete_address || \"\",\n        telno: this.businessBasicInformation.owner_telephone_number || \"\",\n        email: this.businessBasicInformation.email_address || \"\",\n        regno: this.businessBasicInformation.dti_sec_cda_reg_number || \"\",\n        regdate: moment(this.dti_sec_cda_reg_date).format(\"YYYY-MM-DD\"),\n        ctcno: this.businessBasicInformation.ctc_no || \"\",\n        tin: this.businessBasicInformation.tin || \"\",\n        incentive: this.businessBasicInformation.has_tax_incentive\n          ? \"Yes\"\n          : \"No\",\n        incentiveentity: this.businessBasicInformation.government_entity || \"\",\n        tlastname: this.businessDetails.president_last_name || \"\",\n        tfirstname: this.businessDetails.president_first_name || \"\",\n        tmiddlename: this.businessDetails.president_middle_name || \"\",\n        corpname: this.businessDetails.name || \"\",\n        tradename: this.businessDetails.trade_name || \"\",\n        businessaddress: this.businessDetails.complete_business_address || \"\",\n        businessaddressno: this.businessDetails.address_no || \"\",\n        businessblockno: this.businessDetails.block_no || \"\",\n        businesslotno: this.businessDetails.lot_no || \"\",\n        businessstreet: this.businessDetails.street || \"\",\n        businesssubdivision: this.businessDetails.subdivision || \"\",\n        businessbldgno: this.businessDetails.building_no || \"\",\n        businessbldgname: this.businessDetails.building_name || \"\",\n        businessunitno: this.businessDetails.unit_no || \"\",\n        businessfloorno: this.businessDetails.floor_no || \"\",\n        businessbarangay: this.businessDetails.barangay || \"\",\n        city: this.businessDetails.city || \"\",\n        province: \"Cavite\",\n        businesstelno: this.businessDetails.telephone_number || \"\",\n        businessemail: this.businessDetails.email_address || \"\",\n        pin: this.businessDetails.property_index_number || \"\",\n        businessarea: this.businessDetails.area.toString() || \"\",\n        empcount: this.businessDetails.total_employees.toString() || \"\",\n        emplgucount: this.businessDetails.residing_employees.toString() || \"\",\n        lessorlastname: this.lessorDetails.last_name || \"\",\n        lessorfirstname: this.lessorDetails.first_name || \"\",\n        lessormiddlename: this.lessorDetails.middle_name || \"\",\n        lessoraddress: this.lessorDetails.complete_address || \"\",\n        monthlyrental: this.lessorDetails.gross_monthly_rental\n          ? this.lessorDetails.gross_monthly_rental.toString()\n          : \"\",\n        lessortelno: this.lessorDetails.telephone_number || \"\",\n        lessoremail: this.lessorDetails.email_address || \"\",\n        apptype: \"New\" || \"\",\n        appdate: moment(this.businessApplication.created_at).format(\n          \"YYYY-MM-DD\"\n        ),\n        year: moment(this.businessApplication.created_at).format(\"YYYY\"),\n        remarks: \"\",\n      };\n      console.log(application_params);\n      const application_payload = {\n        name: \"POSTBusiness\",\n        param: application_params,\n      };\n\n      const response = await axios.post(\n        `${lguLocalEndpoint}`,\n        application_payload,\n        config\n      );\n\n      if (response.data.Result) {\n        return true;\n      } else {\n        return false;\n      }\n    },\n  },\n  watch: {\n    draftBusiness: {\n      deep: true,\n      handler(status) {\n        if (status) {\n          this.$swal({\n            title: \"Success!\",\n            text: \"data successfully saved as draft.\",\n            icon: \"success\",\n          }).then((value) => {\n            this.$store.commit(\"setDraftBusiness\", false);\n            this.$router.push({ name: \"Profile\" });\n          });\n        }\n      },\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\ndiv.meta-container {\n  width: 100%;\n  padding: 50px;\n  background-color: #eaf6ff;\n  border-radius: 20px;\n  h1.meta-form-title {\n    margin-bottom: 40px;\n  }\n  .meta-note {\n    font-size: 16px;\n    color: #7ac0fa;\n    margin-bottom: 30px;\n  }\n  .meta-custom-upload {\n    display: flex;\n    flex-wrap: wrap;\n    align-items: center;\n    justify-content: center;\n    position: relative;\n    border: 3px dashed #bce0fd;\n    padding: 50px 30px;\n    margin-bottom: 30px;\n    transition: 0.4s;\n\n    input[type=\"file\"] {\n      position: absolute;\n      z-index: 2;\n      height: 100%;\n      width: 100%;\n      opacity: 0;\n      cursor: pointer;\n    }\n    .meta-text.big {\n      color: #64b4f9;\n      font-size: 30px;\n      font-weight: 700;\n      line-height: 1.6;\n      text-transform: uppercase;\n      width: 100%;\n      text-align: center;\n      transition: 0.4s;\n    }\n    .meta-note {\n      font-size: 16px;\n      color: #7ac0fa;\n      margin-bottom: 30px;\n      width: 100%;\n    }\n    .meta-text.small {\n      color: #64b4f9;\n      font-size: 18px;\n      font-weight: 700;\n      line-height: 1.6;\n      transition: 0.4s;\n    }\n  }\n  div.button-left-right {\n    width: 100%;\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: space-between;\n    .back-button {\n      background-color: #73befc;\n      border-color: #73befc;\n    }\n  }\n}\n\ndiv.meta-container .meta-custom-upload:hover {\n  border-color: #039be5;\n}\n\ndiv.meta-container .meta-custom-upload:hover div.meta-text {\n  color: #039be5;\n}\n\n.back-button:hover {\n  background-color: #2699fb !important;\n  color: #fff !important;\n  border-color: #2699fb !important;\n}\n\n/*\nMOBILE RESPONSIVENESS \n--------------------------------------------------------------*/\n\n@media only screen and (max-width: 1380px) {\n  div.meta-container h1.meta-form-title {\n    font-size: 22px;\n  }\n}\n\n@media only screen and (max-width: 768px) {\n  div.meta-container h1.meta-form-title {\n    font-size: 20px;\n  }\n\n  .meta-upload-box .meta-label {\n    font-size: 15px;\n  }\n\n  div.meta-container .meta-note {\n    font-size: 15px;\n    text-align: center;\n  }\n}\n\n@media only screen and (max-width: 650px) {\n  div.meta-container {\n    padding: 40px 30px;\n  }\n\n  div.meta-container h1.meta-form-title {\n    font-size: 18px;\n    margin-bottom: 30px;\n  }\n}\n\n@media only screen and (max-width: 480px) {\n  div.meta-container {\n    padding: 30px 15px;\n  }\n\n  div.meta-container h1.meta-form-title {\n    font-size: 16px;\n  }\n\n  div.meta-container div.button-left-right .back-button {\n    background-color: #048cff;\n    border-color: #73befc;\n    width: auto;\n    background: transparent;\n    border: none;\n    box-shadow: none;\n    color: #2699fb;\n    min-width: unset;\n  }\n\n  div.meta-container div.button-left-right .next-button {\n    width: auto;\n    background: transparent;\n    border: none;\n    box-shadow: none;\n    min-width: unset;\n    color: #2699fb;\n  }\n\n  div.meta-container .meta-note {\n    font-size: 14px;\n  }\n}\n</style>\n"]}]}