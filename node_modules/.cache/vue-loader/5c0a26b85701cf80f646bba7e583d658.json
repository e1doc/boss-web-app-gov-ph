{"remainingRequest":"/var/www/html/boss-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/html/boss-web/src/pages/admin/ReplyInquiry.vue?vue&type=script&lang=js&","dependencies":[{"path":"/var/www/html/boss-web/src/pages/admin/ReplyInquiry.vue","mtime":1611147621579},{"path":"/var/www/html/boss-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/boss-web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/var/www/html/boss-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/boss-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBJbnF1aXJ5VGFibGVNZW51IGZyb20gIkAvY29tcG9uZW50cy90YWJsZXMvSW5xdWlyeVRhYmxlTWVudSI7CmltcG9ydCBJbnF1aXJ5VGFibGUgZnJvbSAiQC9jb21wb25lbnRzL3RhYmxlcy9JbnF1aXJ5VGFibGUiOwppbXBvcnQgQnV0dG9uQmxvY2sgZnJvbSAiQC9jb21wb25lbnRzL0J1dHRvbkJsb2NrIjsKaW1wb3J0IEJhc2VGaWxlVXBsb2FkZXIgZnJvbSAiQC9jb21wb25lbnRzL2Zvcm1zL0Jhc2VGaWxlVXBsb2FkZXIiOwppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAidnVleCI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiUmVwbHlJbnF1aXJ5IiwKICBjb21wb25lbnRzOiB7CiAgICBJbnF1aXJ5VGFibGVNZW51LAogICAgSW5xdWlyeVRhYmxlLAogICAgQnV0dG9uQmxvY2ssCiAgICBCYXNlRmlsZVVwbG9hZGVyLAogIH0sCiAgcHJvcHM6IHsKICAgIHRocmVhZDogewogICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgIGRlZmF1bHQ6ICIiLAogICAgICB0eXBlOiBTdHJpbmcsCiAgICB9LAogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGJvZHk6ICIiLAogICAgICBtZXNzYWdlczogW10sCiAgICB9OwogIH0sCiAgYmVmb3JlUm91dGVMZWF2ZSh0bywgZnJvbSwgbmV4dCkgewogICAgdGhpcy4kc3RvcmUuY29tbWl0KCJzZXRDb250aW51ZUJ1aWxkaW5nVGhyZWFkIiwgZmFsc2UpOwogICAgdGhpcy4kc3RvcmUuY29tbWl0KCJzZXRDdXJyZW50QnVpbGRpbmdJZCIsIDApOwogICAgdGhpcy4kc3RvcmUuY29tbWl0KCJzZXRDb250aW51ZUJ1c2luZXNzVGhyZWFkIiwgZmFsc2UpOwogICAgdGhpcy4kc3RvcmUuY29tbWl0KCJzZXRDdXJyZW50QnVzaW5lc3NJZCIsIDApOwogICAgbmV4dCgpOwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcEdldHRlcnMoWwogICAgICAiY3VycmVudFRhYmxlIiwKICAgICAgImlucXVpcnkiLAogICAgICAiY3VycmVudElucXVpcnkiLAogICAgICAiY29udGludWVCdWlsZGluZ1RocmVhZCIsCiAgICAgICJjdXJyZW50QnVpbGRpbmdJZCIsCiAgICAgICJjb250aW51ZUJ1c2luZXNzVGhyZWFkIiwKICAgICAgImN1cnJlbnRCdXNpbmVzc0lkIiwKICAgICAgImJ1aWxkaW5nQXBwbGljYXRpb24iLAogICAgICAiYnVzaW5lc3NBcHBsaWNhdGlvbiIsCiAgICAgICJpc0J1aWxkaW5nQXNzZXNzbWVudCIsCiAgICAgICJpc0xhc3RCdWlsZGluZ0RlcHQiLAogICAgICAidXNlckRlcGFydG1lbnQiLAogICAgICAiaXNFdmFsdWF0aW9uIiwKICAgICAgImlzTGFzdEJ1c2luZXNzRGVwdCIsCiAgICAgICJpc0J1c2luZXNzQXNzZXNzbWVudCIsCiAgICAgICJhc3Nlc3NtZW50UGF5bG9hZCIsCiAgICAgICJidWlsZGluZ0Fzc2Vzc21lbnRQYXlsb2FkIiwKICAgIF0pLAogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0SW5xdWlyeSgpOwogIH0sCiAgbWV0aG9kczogewogICAgbGlua1Byb3BzKHVybCkgewogICAgICB1cmwgPSB1cmwucmVwbGFjZSgiL2JhY29vci8iLCAiLyIpOwogICAgICB3aW5kb3cub3Blbih1cmwsICJfYmxhbmsiKTsKICAgIH0sCiAgICBhc3luYyBnZXRJbnF1aXJ5KCkgewogICAgICBsZXQgaWQgPSB0aGlzLnRocmVhZCAhPSAiIiA/IHRoaXMudGhyZWFkIDogdGhpcy5jdXJyZW50SW5xdWlyeTsKICAgICAgY29uc29sZS5sb2coInRocmVhZCBpZCIsIGlkKTsKICAgICAgYXdhaXQgdGhpcy4kc3RvcmUuZGlzcGF0Y2goImdldElucXVpcnkiLCBpZCk7CiAgICAgIHRoaXMubWVzc2FnZXMgPSBhd2FpdCB0aGlzLmlucXVpcnkubWVzc2FnZXM7CiAgICAgIGNvbnNvbGUubG9nKCJtZXNzYWdlcyIsIHRoaXMubWVzc2FnZXMpOwogICAgfSwKICAgIGFzeW5jIHNlbmRSZXBseSgpIHsKICAgICAgaWYgKHRoaXMuY29udGludWVCdWlsZGluZ1RocmVhZCkgewogICAgICAgIGxldCBhcHBsaWNhdGlvbl9zdGF0dXMgPSAwOwogICAgICAgIGlmICh0aGlzLmlzQnVpbGRpbmdBc3Nlc3NtZW50KSB7CiAgICAgICAgICBhcHBsaWNhdGlvbl9zdGF0dXMgPSB0aGlzLmJ1aWxkaW5nQXBwbGljYXRpb24uYXBwbGljYXRpb25fc3RhdHVzOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmJ1aWxkaW5nQXBwbGljYXRpb24uYXBwbGljYXRpb25fc3RhdHVzID09PSAwCiAgICAgICAgICAgID8gKGFwcGxpY2F0aW9uX3N0YXR1cyA9IDEpCiAgICAgICAgICAgIDogdGhpcy5idWlsZGluZ0FwcGxpY2F0aW9uLmFwcGxpY2F0aW9uX3N0YXR1cyA9PT0gMwogICAgICAgICAgICA/IChhcHBsaWNhdGlvbl9zdGF0dXMgPSA0KQogICAgICAgICAgICA6IChhcHBsaWNhdGlvbl9zdGF0dXMgPSAwKTsKICAgICAgICAgIGxldCBwYXlsb2FkID0gewogICAgICAgICAgICBpZDogdGhpcy5jdXJyZW50QnVpbGRpbmdJZCwKICAgICAgICAgICAgc3RhdHVzOiBhcHBsaWNhdGlvbl9zdGF0dXMsCiAgICAgICAgICB9OwogICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goImFwcHJvdmVCdWlsZGluZ0FwcGxpY2F0aW9uIiwgcGF5bG9hZCk7CiAgICAgICAgfQogICAgICAgIGlmICghdGhpcy5pc0J1aWxkaW5nQXNzZXNzbWVudCkgewogICAgICAgICAgaWYgKHRoaXMuYnVpbGRpbmdBcHBsaWNhdGlvbi5hcHBsaWNhdGlvbl9zdGF0dXMgPT09IDMpIHsKICAgICAgICAgICAgbGV0IHJlc2V0QXNzZXNzbWVudFBheWxvYWQgPSB7CiAgICAgICAgICAgICAgYnVpbGRpbmdfYXBwbGljYXRpb246IHRoaXMuYnVpbGRpbmdBcHBsaWNhdGlvbi5pZCwKICAgICAgICAgICAgfTsKICAgICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goCiAgICAgICAgICAgICAgInJlc2V0QnVpbGRpbmdBc3Nlc3NtZW50IiwKICAgICAgICAgICAgICByZXNldEFzc2Vzc21lbnRQYXlsb2FkCiAgICAgICAgICAgICk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICAgIGlmICh0aGlzLmNvbnRpbnVlQnVzaW5lc3NUaHJlYWQpIHsKICAgICAgICBsZXQgYXBwbGljYXRpb25fc3RhdHVzID0gMDsKICAgICAgICBpZiAodGhpcy5pc0J1c2luZXNzQXNzZXNzbWVudCkgewogICAgICAgICAgYXBwbGljYXRpb25fc3RhdHVzID0gdGhpcy5idXNpbmVzc0FwcGxpY2F0aW9uLmFwcGxpY2F0aW9uX3N0YXR1czsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5idXNpbmVzc0FwcGxpY2F0aW9uLmFwcGxpY2F0aW9uX3N0YXR1cyA9PT0gMAogICAgICAgICAgICA/IChhcHBsaWNhdGlvbl9zdGF0dXMgPSAxKQogICAgICAgICAgICA6IHRoaXMuYnVzaW5lc3NBcHBsaWNhdGlvbi5hcHBsaWNhdGlvbl9zdGF0dXMgPT09IDIKICAgICAgICAgICAgPyAoYXBwbGljYXRpb25fc3RhdHVzID0gMykKICAgICAgICAgICAgOiAoYXBwbGljYXRpb25fc3RhdHVzID0gMCk7CiAgICAgICAgICBsZXQgcGF5bG9hZCA9IHsKICAgICAgICAgICAgaWQ6IHRoaXMuY3VycmVudEJ1c2luZXNzSWQsCiAgICAgICAgICAgIHN0YXR1czogYXBwbGljYXRpb25fc3RhdHVzLAogICAgICAgICAgICBhY2NvdW50X251bWJlcjogIiIsCiAgICAgICAgICB9OwogICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goImFwcHJvdmVCdXNpbmVzc0FwcGxpY2F0aW9uIiwgcGF5bG9hZCk7CiAgICAgICAgfQogICAgICAgIGlmICghdGhpcy5pc0J1c2luZXNzQXNzZXNzbWVudCkgewogICAgICAgICAgaWYgKHRoaXMuYnVzaW5lc3NBcHBsaWNhdGlvbi5hcHBsaWNhdGlvbl9zdGF0dXMgPT09IDIpIHsKICAgICAgICAgICAgbGV0IHJlc2V0QXNzZXNzbWVudFBheWxvYWQgPSB7CiAgICAgICAgICAgICAgYnVzaW5lc3NfYXBwbGljYXRpb246IHRoaXMuYnVzaW5lc3NBcHBsaWNhdGlvbi5pZCwKICAgICAgICAgICAgfTsKICAgICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goCiAgICAgICAgICAgICAgInJlc2V0QnVzaW5lc3NBc3Nlc3NtZW50IiwKICAgICAgICAgICAgICByZXNldEFzc2Vzc21lbnRQYXlsb2FkCiAgICAgICAgICAgICk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICAgIGF3YWl0IHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJhZG1pblJlc3BvbmQiLCB7CiAgICAgICAgaWQ6IHRoaXMuY3VycmVudElucXVpcnksCiAgICAgICAgaXNfcmVzcG9uZGVkOiB0cnVlLAogICAgICB9KTsKICAgICAgYXdhaXQgdGhpcy4kc3RvcmUuZGlzcGF0Y2goImFkZE1lc3NhZ2UiLCB7CiAgICAgICAgdGhyZWFkOiB0aGlzLmN1cnJlbnRJbnF1aXJ5LAogICAgICAgIGJvZHk6IHRoaXMuYm9keSwKICAgICAgfSk7CiAgICAgIHRoaXMubWVzc2FnZXMucHVzaCh7IGJvZHk6IHRoaXMuYm9keSwgc2VuZGVyOiB7IGlzX3N0YWZmOiB0cnVlIH0gfSk7CiAgICAgIHRoaXMuYm9keSA9ICIiOwoKICAgICAgaWYgKCF0aGlzLmlzTGFzdEJ1aWxkaW5nRGVwdCAmJiB0aGlzLmlzQnVpbGRpbmdBc3Nlc3NtZW50KSB7CiAgICAgICAgYXdhaXQgdGhpcy4kc3RvcmUuZGlzcGF0Y2goCiAgICAgICAgICAiYXNzZXNzQnVpbGRpbmdBcHBsaWNhdGlvbiIsCiAgICAgICAgICB0aGlzLmJ1aWxkaW5nQXNzZXNzbWVudFBheWxvYWQKICAgICAgICApOwogICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJjcmVhdGVQcm9tcHQiLCB7CiAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICB0aXRsZTogIlN1Y2Nlc3MhIiwKICAgICAgICAgIG1lc3NhZ2U6ICJBcHBsaWNhdGlvbiB3YXMgc3VjY2Vzc2Z1bGx5IGFzc2Vzc2VkISIsCiAgICAgICAgfSk7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lOiAiQXNzZXNzbWVudHMiIH0pOwogICAgICB9CgogICAgICBpZiAoIXRoaXMuaXNMYXN0QnVzaW5lc3NEZXB0ICYmIHRoaXMuaXNCdXNpbmVzc0Fzc2Vzc21lbnQpIHsKICAgICAgICBhd2FpdCB0aGlzLiRzdG9yZS5kaXNwYXRjaCgKICAgICAgICAgICJhc3Nlc3NCdXNpbmVzc0FwcGxpY2F0aW9uIiwKICAgICAgICAgIHRoaXMuYXNzZXNzbWVudFBheWxvYWQKICAgICAgICApOwogICAgICAgIGF3YWl0IHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJjcmVhdGVQcm9tcHQiLCB7CiAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICB0aXRsZTogIlN1Y2Nlc3MhIiwKICAgICAgICAgIG1lc3NhZ2U6ICJBcHBsaWNhdGlvbiB3YXMgc3VjY2Vzc2Z1bGx5IGFzc2Vzc2VkISIsCiAgICAgICAgfSk7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lOiAiQXNzZXNzbWVudHMiIH0pOwogICAgICB9CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["ReplyInquiry.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ReplyInquiry.vue","sourceRoot":"src/pages/admin","sourcesContent":["<template>\n  <div class=\"inquiry-box\">\n    <div class=\"inquiry-header\">\n      <div class=\"inquiry-subj\">\n        {{ inquiry.subject }}\n      </div>\n      <div class=\"inquiry-date\">\n        {{ inquiry.created_at | moment(\"MMMM DD YYYY\") }}\n      </div>\n      <div class=\"item-department\">\n        <span>Dept. Concern:</span>\n        {{ inquiry.department ? inquiry.department : \"N/A\" }}\n      </div>\n    </div>\n    <div class=\"inquiry-body\">\n      <!-- START OF THREAD -->\n      <div v-for=\"(message, index) in messages\" :key=\"index\">\n        <div class=\"item-row sender\" v-if=\"!message.sender.is_staff\">\n          <div class=\"item-name\">\n            {{\n              inquiry.is_remarks\n                ? inquiry.receiver.first_name\n                : inquiry.sender.first_name\n            }}\n            {{\n              inquiry.is_remarks\n                ? inquiry.receiver.last_name\n                : inquiry.sender.last_name\n            }}\n          </div>\n          <div class=\"item-content\">\n            {{ message.body }}\n          </div>\n          <div class=\"item-date\">\n            {{ message.created_at | moment(\"MMMM DD, YYYY HH:mm A\") }}\n          </div>\n        </div>\n        <div class=\"item-row me\" v-if=\"message.sender.is_staff\">\n          <div class=\"item-name\">\n            {{\n              message.sender.department\n                ? message.sender.department.name\n                : userDepartment\n            }}\n            Administrator\n          </div>\n          <div class=\"item-content flex-wrap\">\n            {{ message.body }}\n            <div v-if=\"message.messageattachments\">\n              <div\n                class=\"item-attachment\"\n                v-if=\"message.messageattachments.length > 0\"\n                @click=\"linkProps(message.messageattachments[0].file)\"\n              >\n                <font-awesome-icon icon=\"paperclip\" class=\"admin-icon\" /> See\n                Attachment\n              </div>\n            </div>\n          </div>\n          <div class=\"item-date\">\n            {{ message.created_at | moment(\"MMMM DD, YYYY HH:mm A\") }}\n          </div>\n        </div>\n      </div>\n      <!-- REPLY SECTION -->\n      <div class=\"inquiry-footer\" v-if=\"!inquiry.is_resolved\">\n        <div class=\"inquiry-footer-text\">\n          <font-awesome-icon icon=\"reply\" class=\"admin-icon\" />REPLY\n        </div>\n        <textarea\n          name=\"reply\"\n          id=\"reply\"\n          rows=\"4\"\n          placeholder=\"Type your text here\"\n          v-model=\"body\"\n        ></textarea>\n        <!-- ATTACH FILE -->\n        <base-file-uploader\n          name=\"inquiryattachment\"\n          fileLabel=\"inquiry_attachment\"\n          uploadType=\"application/pdf\"\n          class=\"upload-attachment\"\n          v-if=\"isLastBuildingDept && isEvaluation\"\n          :isEvaluation=\"true\"\n        />\n        <div class=\"inquiry-button\">\n          <button-block\n            :disabled=\"body === '' ? true : false\"\n            type=\"send\"\n            @click.native=\"sendReply\"\n            >SEND</button-block\n          >\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport InquiryTableMenu from \"@/components/tables/InquiryTableMenu\";\nimport InquiryTable from \"@/components/tables/InquiryTable\";\nimport ButtonBlock from \"@/components/ButtonBlock\";\nimport BaseFileUploader from \"@/components/forms/BaseFileUploader\";\nimport { mapGetters } from \"vuex\";\nexport default {\n  name: \"ReplyInquiry\",\n  components: {\n    InquiryTableMenu,\n    InquiryTable,\n    ButtonBlock,\n    BaseFileUploader,\n  },\n  props: {\n    thread: {\n      required: false,\n      default: \"\",\n      type: String,\n    },\n  },\n  data() {\n    return {\n      body: \"\",\n      messages: [],\n    };\n  },\n  beforeRouteLeave(to, from, next) {\n    this.$store.commit(\"setContinueBuildingThread\", false);\n    this.$store.commit(\"setCurrentBuildingId\", 0);\n    this.$store.commit(\"setContinueBusinessThread\", false);\n    this.$store.commit(\"setCurrentBusinessId\", 0);\n    next();\n  },\n  computed: {\n    ...mapGetters([\n      \"currentTable\",\n      \"inquiry\",\n      \"currentInquiry\",\n      \"continueBuildingThread\",\n      \"currentBuildingId\",\n      \"continueBusinessThread\",\n      \"currentBusinessId\",\n      \"buildingApplication\",\n      \"businessApplication\",\n      \"isBuildingAssessment\",\n      \"isLastBuildingDept\",\n      \"userDepartment\",\n      \"isEvaluation\",\n      \"isLastBusinessDept\",\n      \"isBusinessAssessment\",\n      \"assessmentPayload\",\n      \"buildingAssessmentPayload\",\n    ]),\n  },\n  mounted() {\n    this.getInquiry();\n  },\n  methods: {\n    linkProps(url) {\n      url = url.replace(\"/bacoor/\", \"/\");\n      window.open(url, \"_blank\");\n    },\n    async getInquiry() {\n      let id = this.thread != \"\" ? this.thread : this.currentInquiry;\n      console.log(\"thread id\", id);\n      await this.$store.dispatch(\"getInquiry\", id);\n      this.messages = await this.inquiry.messages;\n      console.log(\"messages\", this.messages);\n    },\n    async sendReply() {\n      if (this.continueBuildingThread) {\n        let application_status = 0;\n        if (this.isBuildingAssessment) {\n          application_status = this.buildingApplication.application_status;\n        } else {\n          this.buildingApplication.application_status === 0\n            ? (application_status = 1)\n            : this.buildingApplication.application_status === 3\n            ? (application_status = 4)\n            : (application_status = 0);\n          let payload = {\n            id: this.currentBuildingId,\n            status: application_status,\n          };\n          this.$store.dispatch(\"approveBuildingApplication\", payload);\n        }\n        if (!this.isBuildingAssessment) {\n          if (this.buildingApplication.application_status === 3) {\n            let resetAssessmentPayload = {\n              building_application: this.buildingApplication.id,\n            };\n            this.$store.dispatch(\n              \"resetBuildingAssessment\",\n              resetAssessmentPayload\n            );\n          }\n        }\n      }\n      if (this.continueBusinessThread) {\n        let application_status = 0;\n        if (this.isBusinessAssessment) {\n          application_status = this.businessApplication.application_status;\n        } else {\n          this.businessApplication.application_status === 0\n            ? (application_status = 1)\n            : this.businessApplication.application_status === 2\n            ? (application_status = 3)\n            : (application_status = 0);\n          let payload = {\n            id: this.currentBusinessId,\n            status: application_status,\n            account_number: \"\",\n          };\n          this.$store.dispatch(\"approveBusinessApplication\", payload);\n        }\n        if (!this.isBusinessAssessment) {\n          if (this.businessApplication.application_status === 2) {\n            let resetAssessmentPayload = {\n              business_application: this.businessApplication.id,\n            };\n            this.$store.dispatch(\n              \"resetBusinessAssessment\",\n              resetAssessmentPayload\n            );\n          }\n        }\n      }\n      await this.$store.dispatch(\"adminRespond\", {\n        id: this.currentInquiry,\n        is_responded: true,\n      });\n      await this.$store.dispatch(\"addMessage\", {\n        thread: this.currentInquiry,\n        body: this.body,\n      });\n      this.messages.push({ body: this.body, sender: { is_staff: true } });\n      this.body = \"\";\n\n      if (!this.isLastBuildingDept && this.isBuildingAssessment) {\n        await this.$store.dispatch(\n          \"assessBuildingApplication\",\n          this.buildingAssessmentPayload\n        );\n        this.$store.dispatch(\"createPrompt\", {\n          type: \"success\",\n          title: \"Success!\",\n          message: \"Application was successfully assessed!\",\n        });\n        this.$router.push({ name: \"Assessments\" });\n      }\n\n      if (!this.isLastBusinessDept && this.isBusinessAssessment) {\n        await this.$store.dispatch(\n          \"assessBusinessApplication\",\n          this.assessmentPayload\n        );\n        await this.$store.dispatch(\"createPrompt\", {\n          type: \"success\",\n          title: \"Success!\",\n          message: \"Application was successfully assessed!\",\n        });\n        this.$router.push({ name: \"Assessments\" });\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\ndiv.inquiry-box {\n  width: 100%;\n  max-width: 1050px;\n  margin: 0 auto;\n  background-color: #fff;\n  box-shadow: 0px 10px 20px #0000000d;\n  border-radius: 20px;\n  margin-top: 30px;\n  div.inquiry-header {\n    background-color: #1492e6;\n    padding: 20px 40px;\n    border-top-left-radius: 20px;\n    border-top-right-radius: 20px;\n    div.inquiry-subj {\n      color: #fafafa;\n      font-size: 20px;\n      font-weight: bold;\n      line-height: 1.6;\n      letter-spacing: 1.06px;\n      margin-bottom: 5px;\n    }\n    div.inquiry-date {\n      color: #e6e6e6;\n      font-size: 16px;\n      line-height: 1.4;\n      letter-spacing: 0.8px;\n    }\n  }\n  div.inquiry-body {\n    padding: 35px 48px;\n    max-height: 600px;\n    overflow-y: scroll;\n    .item-row {\n      margin-bottom: 10px;\n    }\n\n    .item-row.sender {\n      .item-content {\n        background-color: #e6e6e650;\n      }\n    }\n\n    .item-row.me {\n      .item-name {\n        text-align: right;\n      }\n      .item-content {\n        background-color: #eaf6ff90;\n      }\n    }\n\n    .item-name {\n      color: #1792e6;\n      font-size: 16px;\n      font-weight: bold;\n      line-height: 29px;\n      letter-spacing: 0.32px;\n      margin-bottom: 6px;\n    }\n\n    .item-content {\n      color: #000000c1;\n      font-size: 14px;\n      line-height: 28px;\n      padding: 35px 32px;\n      border-radius: 12px;\n    }\n\n    .item-date {\n      color: #b3d7fe;\n      font-size: 12px;\n      line-height: 1.6;\n      letter-spacing: 0.24px;\n      text-align: right;\n    }\n    div.inquiry-footer {\n      margin-top: 25px;\n      padding-top: 25px;\n      border-top: 1px solid #d0e9fa;\n      div.inquiry-footer-text {\n        color: #9fa6ab;\n        font-size: 16px;\n        font-weight: bold;\n        line-height: 29px;\n        margin-bottom: 10px;\n        .admin-icon {\n          font-size: 21px;\n          margin-right: 14px;\n        }\n      }\n      textarea {\n        color: #2b2b2b;\n        border-color: #d0e9fa;\n        font-size: 14px;\n        font-family: Raleway;\n        line-height: 28px;\n        width: calc(100% - 60px);\n        max-height: 150px;\n        padding: 25px 30px;\n        margin-bottom: 15px;\n        border-radius: 12px;\n      }\n      textarea:focus {\n        outline: 0;\n        border-color: #027ab5;\n        background-color: #f8fcff;\n      }\n      .inquiry-button {\n        text-align: right;\n        width: 100%;\n        justify-content: flex-end;\n      }\n    }\n    .inquiry-button {\n      text-align: right;\n      width: 100%;\n      justify-content: flex-end;\n    }\n  }\n}\n\n.item-attachment {\n  font-size: 13px;\n  width: 100%;\n  float: left;\n  padding: 5px 0;\n  color: #1492e6;\n  text-decoration: underline;\n  cursor: pointer;\n}\n\n.item-department {\n  color: #fff;\n  font-family: \"Proxima Nova Rg\";\n  font-size: 16px;\n  margin-top: 5px;\n  span {\n    font-weight: bold;\n  }\n}\n</style>\n"]}]}