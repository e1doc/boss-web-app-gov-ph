{"remainingRequest":"/var/www/html/boss-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/html/boss-web/src/components/application/BusinessUploadStep.vue?vue&type=style&index=0&id=b188d4be&lang=scss&scoped=true&","dependencies":[{"path":"/var/www/html/boss-web/src/components/application/BusinessUploadStep.vue","mtime":1605179000987},{"path":"/var/www/html/boss-web/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/boss-web/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/var/www/html/boss-web/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/var/www/html/boss-web/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/boss-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/boss-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCmRpdi5tZXRhLWNvbnRhaW5lciB7CiAgd2lkdGg6IDEwMCU7CiAgcGFkZGluZzogNTBweDsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWFmNmZmOwogIGJvcmRlci1yYWRpdXM6IDIwcHg7CiAgaDEubWV0YS1mb3JtLXRpdGxlIHsKICAgIG1hcmdpbi1ib3R0b206IDQwcHg7CiAgfQogIC5tZXRhLW5vdGUgewogICAgZm9udC1zaXplOiAxNnB4OwogICAgY29sb3I6ICM3YWMwZmE7CiAgICBtYXJnaW4tYm90dG9tOiAzMHB4OwogIH0KICAubWV0YS1jdXN0b20tdXBsb2FkIHsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBmbGV4LXdyYXA6IHdyYXA7CiAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICBib3JkZXI6IDNweCBkYXNoZWQgI2JjZTBmZDsKICAgIHBhZGRpbmc6IDUwcHggMzBweDsKICAgIG1hcmdpbi1ib3R0b206IDMwcHg7CiAgICB0cmFuc2l0aW9uOiAwLjRzOwoKICAgIGlucHV0W3R5cGU9ImZpbGUiXSB7CiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgei1pbmRleDogMjsKICAgICAgaGVpZ2h0OiAxMDAlOwogICAgICB3aWR0aDogMTAwJTsKICAgICAgb3BhY2l0eTogMDsKICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgfQogICAgLm1ldGEtdGV4dC5iaWcgewogICAgICBjb2xvcjogIzY0YjRmOTsKICAgICAgZm9udC1zaXplOiAzMHB4OwogICAgICBmb250LXdlaWdodDogNzAwOwogICAgICBsaW5lLWhlaWdodDogMS42OwogICAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlOwogICAgICB3aWR0aDogMTAwJTsKICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICB0cmFuc2l0aW9uOiAwLjRzOwogICAgfQogICAgLm1ldGEtbm90ZSB7CiAgICAgIGZvbnQtc2l6ZTogMTZweDsKICAgICAgY29sb3I6ICM3YWMwZmE7CiAgICAgIG1hcmdpbi1ib3R0b206IDMwcHg7CiAgICAgIHdpZHRoOiAxMDAlOwogICAgfQogICAgLm1ldGEtdGV4dC5zbWFsbCB7CiAgICAgIGNvbG9yOiAjNjRiNGY5OwogICAgICBmb250LXNpemU6IDE4cHg7CiAgICAgIGZvbnQtd2VpZ2h0OiA3MDA7CiAgICAgIGxpbmUtaGVpZ2h0OiAxLjY7CiAgICAgIHRyYW5zaXRpb246IDAuNHM7CiAgICB9CiAgfQogIGRpdi5idXR0b24tbGVmdC1yaWdodCB7CiAgICB3aWR0aDogMTAwJTsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBmbGV4LXdyYXA6IHdyYXA7CiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47CiAgICAuYmFjay1idXR0b24gewogICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNzNiZWZjOwogICAgICBib3JkZXItY29sb3I6ICM3M2JlZmM7CiAgICB9CiAgfQp9CgpkaXYubWV0YS1jb250YWluZXIgLm1ldGEtY3VzdG9tLXVwbG9hZDpob3ZlciB7CiAgYm9yZGVyLWNvbG9yOiAjMDM5YmU1Owp9CgpkaXYubWV0YS1jb250YWluZXIgLm1ldGEtY3VzdG9tLXVwbG9hZDpob3ZlciBkaXYubWV0YS10ZXh0IHsKICBjb2xvcjogIzAzOWJlNTsKfQoKLmJhY2stYnV0dG9uOmhvdmVyIHsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjY5OWZiICFpbXBvcnRhbnQ7CiAgY29sb3I6ICNmZmYgIWltcG9ydGFudDsKICBib3JkZXItY29sb3I6ICMyNjk5ZmIgIWltcG9ydGFudDsKfQoKLyoKTU9CSUxFIFJFU1BPTlNJVkVORVNTIAotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovCgpAbWVkaWEgb25seSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDEzODBweCkgewogIGRpdi5tZXRhLWNvbnRhaW5lciBoMS5tZXRhLWZvcm0tdGl0bGUgewogICAgZm9udC1zaXplOiAyMnB4OwogIH0KfQoKQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA3NjhweCkgewogIGRpdi5tZXRhLWNvbnRhaW5lciBoMS5tZXRhLWZvcm0tdGl0bGUgewogICAgZm9udC1zaXplOiAyMHB4OwogIH0KCiAgLm1ldGEtdXBsb2FkLWJveCAubWV0YS1sYWJlbCB7CiAgICBmb250LXNpemU6IDE1cHg7CiAgfQoKICBkaXYubWV0YS1jb250YWluZXIgLm1ldGEtbm90ZSB7CiAgICBmb250LXNpemU6IDE1cHg7CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgfQp9CgpAbWVkaWEgb25seSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDY1MHB4KSB7CiAgZGl2Lm1ldGEtY29udGFpbmVyIHsKICAgIHBhZGRpbmc6IDQwcHggMzBweDsKICB9CgogIGRpdi5tZXRhLWNvbnRhaW5lciBoMS5tZXRhLWZvcm0tdGl0bGUgewogICAgZm9udC1zaXplOiAxOHB4OwogICAgbWFyZ2luLWJvdHRvbTogMzBweDsKICB9Cn0KCkBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1heC13aWR0aDogNDgwcHgpIHsKICBkaXYubWV0YS1jb250YWluZXIgewogICAgcGFkZGluZzogMzBweCAxNXB4OwogIH0KCiAgZGl2Lm1ldGEtY29udGFpbmVyIGgxLm1ldGEtZm9ybS10aXRsZSB7CiAgICBmb250LXNpemU6IDE2cHg7CiAgfQoKICBkaXYubWV0YS1jb250YWluZXIgZGl2LmJ1dHRvbi1sZWZ0LXJpZ2h0IC5iYWNrLWJ1dHRvbiB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDQ4Y2ZmOwogICAgYm9yZGVyLWNvbG9yOiAjNzNiZWZjOwogICAgd2lkdGg6IGF1dG87CiAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDsKICAgIGJvcmRlcjogbm9uZTsKICAgIGJveC1zaGFkb3c6IG5vbmU7CiAgICBjb2xvcjogIzI2OTlmYjsKICAgIG1pbi13aWR0aDogdW5zZXQ7CiAgfQoKICBkaXYubWV0YS1jb250YWluZXIgZGl2LmJ1dHRvbi1sZWZ0LXJpZ2h0IC5uZXh0LWJ1dHRvbiB7CiAgICB3aWR0aDogYXV0bzsKICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50OwogICAgYm9yZGVyOiBub25lOwogICAgYm94LXNoYWRvdzogbm9uZTsKICAgIG1pbi13aWR0aDogdW5zZXQ7CiAgICBjb2xvcjogIzI2OTlmYjsKICB9CgogIGRpdi5tZXRhLWNvbnRhaW5lciAubWV0YS1ub3RlIHsKICAgIGZvbnQtc2l6ZTogMTRweDsKICB9Cn0K"},{"version":3,"sources":["BusinessUploadStep.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6MA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"BusinessUploadStep.vue","sourceRoot":"src/components/application","sourcesContent":["<template>\n  <div class=\"meta-container flex-center\">\n    <h1 class=\"meta-form-title\">Upload your Requirements</h1>\n    <div class=\"meta-note\">\n      Almost Done! Please upload your file. Only allowed format - jpg, jpeg, png\n      or pdf file.\n    </div>\n    <base-file-uploader\n      label=\"1. Proof of business registration, incorporation, or legal personality\"\n      description=\"{i.e. DTI / SEC (Including articles and by-laws)/Cooperative Development Authority (CDA).\"\n      name=\"businessregproof\"\n      type=\"business\"\n      fileLabel=\"business_registration_proof\"\n      :hasError=\"uploadErrors.business_registration_proof\"\n      :properties=\"getProperty('business_registration_proof')\"\n      uploadType=\"application/pdf\"\n    />\n    <base-file-uploader\n      label=\"2. For Franchisee, please upload a copy of Franchise Agreement\"\n      name=\"franchiseagreement\"\n      :properties=\"getProperty('franchise_agreement')\"\n      fileLabel=\"franchise_agreement\"\n      type=\"business\"\n      uploadType=\"application/pdf\"\n    />\n    <base-file-uploader\n      label=\"3. Occupancy Permit\"\n      description=\"If required by national laws (e.g. Building Code) and local laws. Note For those without Occupancy Permit, sketch of business location including front full view picture of establishment.\"\n      name=\"occupancypermit\"\n      :properties=\"getProperty('occupancy_permit')\"\n      :hasError=\"uploadErrors.business_registration_proof\"\n      fileLabel=\"occupancy_permit\"\n      type=\"business\"\n      uploadType=\"application/pdf\"\n    />\n    <base-file-uploader\n      label=\"4. Contract of Lease (if Lessee)\"\n      name=\"contractoflease\"\n      :properties=\"getProperty('contract_of_lease')\"\n      fileLabel=\"contract_of_lease\"\n      type=\"business\"\n      uploadType=\"application/pdf\"\n    />\n    <base-file-uploader\n      label=\"5. One Goverment issued ID\"\n      name=\"governmentid\"\n      :properties=\"getProperty('government_id')\"\n      fileLabel=\"government_id\"\n      type=\"business\"\n      :hasError=\"uploadErrors.government_id\"\n      uploadType=\"application/pdf\"\n    />\n    <div class=\"meta-form-group button-left-right\">\n      <button-block\n        type=\"back\"\n        class=\"back-button\"\n        @click.native=\"previousStep()\"\n        >BACK</button-block\n      >\n      <button-block class=\"next-button\" @click.native=\"nextStep()\"\n        >NEXT</button-block\n      >\n    </div>\n  </div>\n</template>\n\n<script>\nimport ButtonBlock from \"@/components/ButtonBlock\";\nimport BaseFileUploader from \"@/components/forms/BaseFileUploader\";\nimport { mapGetters } from \"vuex\";\nexport default {\n  name: \"BusinessUploadStep\",\n  components: {\n    ButtonBlock,\n    BaseFileUploader,\n  },\n  data() {\n    return {\n      business_registration_proof: {},\n      franchise_agreement: {},\n      occupancy_permit: {},\n      contract_of_lease: {},\n      government_id: {},\n      required: [\"business_registration_proof\", \"occupancy_permit\"],\n      uploadErrors: {\n        business_registration_proof: false,\n        occupancy_permit: false\n      },\n    };\n  },\n  computed: {\n    ...mapGetters([\"applicationRequirements\", \"requirements\", \"draftBusiness\", \"businessApplication\"]),\n  },\n  mounted() {\n    this.getRequirements();\n  },\n  methods: {\n    validateRequiredFields() {\n      let validated = [];\n      if (this.requirements) {\n        if (this.requirements.requirements) {\n          if (this.requirements.requirements.length > 0) {\n            this.requirements.requirements.map((item) => {\n              if(!validated.includes(item.requirements_label)){\n                if (this.required.includes(item.requirements_label)) {\n                validated.push(item.requirements_label);\n              }\n              }\n            });\n          }else{\n            this.required.forEach((element) => {\n              this.uploadErrors[`${element}`] = true;\n          });\n          }\n          this.required.forEach((element) => {\n            if (!validated.includes(element)) {\n              this.uploadErrors[`${element}`] = true;\n            }\n          });\n          if (validated.length === this.required.length) {\n            return true;\n          } else {\n            console.log(validated, this.required)\n            return false;\n          }\n        } else {\n         this.required.forEach((element) => {\n              this.uploadErrors[`${element}`] = true;\n          });\n          return false;\n        }\n      }\n    },\n    previousStep() {\n      this.$store.commit(\"setCurrentApplicationStep\", \"2\");\n    },\n    async nextStep() {\n      if (!this.draftBusiness) {\n        let isValidated = this.validateRequiredFields();\n        console.log('is validated', isValidated)\n        if (isValidated) {\n          let application_status\n          this.businessApplication.application_status == 1\n          ? application_status = 0\n          : this.businessApplication.application_status == 3\n          ? application_status = 2\n          : application_status = 0\n          let payload = {\n            is_draft: false,\n            application_status: application_status,\n            last_submitted: new Date(Date.now()),\n            is_disapprove: false\n          };\n          await this.$store.dispatch(\"updateBusinessApplication\", payload);\n          this.$store.commit(\"setCurrentApplicationStep\", \"4\");\n        } else {\n          this.$swal({\n            title: \"Failed!\",\n            text:\n              \"Please upload the remaining requirements before you submit the application.\",\n            icon: \"error\",\n          });\n        }\n      }\n    },\n    async getRequirements() {\n      if (this.applicationRequirements.id) {\n        await this.$store.dispatch(\"getApplicationRequirements\");\n      }\n    },\n    getProperty(key) {\n      if (this.requirements.id) {\n        if (this.requirements.requirements.length > 0) {\n          let property = {};\n          property = this.requirements.requirements.find((element) => {\n            if (element.requirements_label === key) {\n              return element;\n            }\n          });\n          return property;\n        }\n      }\n    },\n  },\n  watch: {\n    draftBusiness: {\n      deep: true,\n      handler(status) {\n        if (status) {\n          this.$swal({\n            title: \"Success!\",\n            text: \"data successfully saved as draft.\",\n            icon: \"success\",\n          }).then((value) => {\n            this.$store.commit(\"setDraftBusiness\", false);\n            this.$router.push({ name: \"Profile\" });\n          });\n        }\n      },\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\ndiv.meta-container {\n  width: 100%;\n  padding: 50px;\n  background-color: #eaf6ff;\n  border-radius: 20px;\n  h1.meta-form-title {\n    margin-bottom: 40px;\n  }\n  .meta-note {\n    font-size: 16px;\n    color: #7ac0fa;\n    margin-bottom: 30px;\n  }\n  .meta-custom-upload {\n    display: flex;\n    flex-wrap: wrap;\n    align-items: center;\n    justify-content: center;\n    position: relative;\n    border: 3px dashed #bce0fd;\n    padding: 50px 30px;\n    margin-bottom: 30px;\n    transition: 0.4s;\n\n    input[type=\"file\"] {\n      position: absolute;\n      z-index: 2;\n      height: 100%;\n      width: 100%;\n      opacity: 0;\n      cursor: pointer;\n    }\n    .meta-text.big {\n      color: #64b4f9;\n      font-size: 30px;\n      font-weight: 700;\n      line-height: 1.6;\n      text-transform: uppercase;\n      width: 100%;\n      text-align: center;\n      transition: 0.4s;\n    }\n    .meta-note {\n      font-size: 16px;\n      color: #7ac0fa;\n      margin-bottom: 30px;\n      width: 100%;\n    }\n    .meta-text.small {\n      color: #64b4f9;\n      font-size: 18px;\n      font-weight: 700;\n      line-height: 1.6;\n      transition: 0.4s;\n    }\n  }\n  div.button-left-right {\n    width: 100%;\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: space-between;\n    .back-button {\n      background-color: #73befc;\n      border-color: #73befc;\n    }\n  }\n}\n\ndiv.meta-container .meta-custom-upload:hover {\n  border-color: #039be5;\n}\n\ndiv.meta-container .meta-custom-upload:hover div.meta-text {\n  color: #039be5;\n}\n\n.back-button:hover {\n  background-color: #2699fb !important;\n  color: #fff !important;\n  border-color: #2699fb !important;\n}\n\n/*\nMOBILE RESPONSIVENESS \n--------------------------------------------------------------*/\n\n@media only screen and (max-width: 1380px) {\n  div.meta-container h1.meta-form-title {\n    font-size: 22px;\n  }\n}\n\n@media only screen and (max-width: 768px) {\n  div.meta-container h1.meta-form-title {\n    font-size: 20px;\n  }\n\n  .meta-upload-box .meta-label {\n    font-size: 15px;\n  }\n\n  div.meta-container .meta-note {\n    font-size: 15px;\n    text-align: center;\n  }\n}\n\n@media only screen and (max-width: 650px) {\n  div.meta-container {\n    padding: 40px 30px;\n  }\n\n  div.meta-container h1.meta-form-title {\n    font-size: 18px;\n    margin-bottom: 30px;\n  }\n}\n\n@media only screen and (max-width: 480px) {\n  div.meta-container {\n    padding: 30px 15px;\n  }\n\n  div.meta-container h1.meta-form-title {\n    font-size: 16px;\n  }\n\n  div.meta-container div.button-left-right .back-button {\n    background-color: #048cff;\n    border-color: #73befc;\n    width: auto;\n    background: transparent;\n    border: none;\n    box-shadow: none;\n    color: #2699fb;\n    min-width: unset;\n  }\n\n  div.meta-container div.button-left-right .next-button {\n    width: auto;\n    background: transparent;\n    border: none;\n    box-shadow: none;\n    min-width: unset;\n    color: #2699fb;\n  }\n\n  div.meta-container .meta-note {\n    font-size: 14px;\n  }\n}\n</style>\n"]}]}