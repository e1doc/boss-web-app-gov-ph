{"remainingRequest":"/var/www/html/boss-web/node_modules/babel-loader/lib/index.js!/var/www/html/boss-web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/var/www/html/boss-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/html/boss-web/src/components/forms/DepartmentOrderForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/var/www/html/boss-web/src/components/forms/DepartmentOrderForm.vue","mtime":1605179000987},{"path":"/var/www/html/boss-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/boss-web/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/var/www/html/boss-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/boss-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL3Zhci93d3cvaHRtbC9ib3NzLXdlYi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi92YXIvd3d3L2h0bWwvYm9zcy13ZWIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgQnV0dG9uQmxvY2sgZnJvbSAiQC9jb21wb25lbnRzL0J1dHRvbkJsb2NrIjsKaW1wb3J0IGRyYWdnYWJsZSBmcm9tICJ2dWVkcmFnZ2FibGUiOwppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAidnVleCI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiRGVwYXJ0bWVudE9yZGVyRm9ybSIsCiAgY29tcG9uZW50czogewogICAgZHJhZ2dhYmxlOiBkcmFnZ2FibGUsCiAgICBCdXR0b25CbG9jazogQnV0dG9uQmxvY2sKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBHZXR0ZXJzKFsiZGVwYXJ0bWVudHMiLCAiY3VycmVudFR5cGUiXSkpLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsaXN0OiBbXQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiZ2V0RGVwYXJ0bWVudHMiKTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIGlmICh0aGlzLmRlcGFydG1lbnRzLmxlbmd0aCA+IDApIHsKICAgICAgdGhpcy5kZXBhcnRtZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgX3RoaXMubGlzdC5wdXNoKGl0ZW0pOwogICAgICB9KTsKICAgIH0KCiAgICBjb25zb2xlLmxvZyh0aGlzLmxpc3QpOwogIH0sCiAgbWV0aG9kczogewogICAgaW5wdXRDaGFuZ2VkOiBmdW5jdGlvbiBpbnB1dENoYW5nZWQodmFsdWUpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBjdXJyZW50QWN0aXZpdHk7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY3VycmVudEFjdGl2aXR5ID0gX3RoaXMyLmN1cnJlbnRUeXBlOwoKICAgICAgICAgICAgICAgIF90aGlzMi5saXN0LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7CiAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50QWN0aXZpdHkgPT0gJ2J1c2luZXNzJykgewogICAgICAgICAgICAgICAgICAgIGl0ZW0uYnVzaW5lc3NfaW5kZXggPSBpbmRleCArIDE7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgaXRlbS5idWlsZGluZ19pbmRleCA9IGluZGV4ICsgMTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICByZU9yZGVyTGlzdDogZnVuY3Rpb24gcmVPcmRlckxpc3QoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczMuJHN0b3JlLmNvbW1pdCgic2V0TG9hZGluZyIsIHRydWUpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzLmxpc3QuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgICAgICBfdGhpczMuJHN0b3JlLmRpc3BhdGNoKCJ1cGRhdGVEZXBhcnRtZW50cyIsIGl0ZW0pOwoKICAgICAgICAgICAgICAgICAgX3RoaXMzLiRzdG9yZS5kaXNwYXRjaCgiZ2V0RGVwYXJ0bWVudHMiKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzLiRzdG9yZS5jb21taXQoInNldExvYWRpbmciLCBmYWxzZSk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIF90aGlzMy4kc3dhbCh7CiAgICAgICAgICAgICAgICAgIHRpdGxlOiAiU3VjY2VzcyEiLAogICAgICAgICAgICAgICAgICB0ZXh0OiAiRGVwYXJ0bWVudHMgb3JkZXIgd2FzIHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5LiIsCiAgICAgICAgICAgICAgICAgIGljb246ICJzdWNjZXNzIgogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgX3RoaXMzLiRtb2RhbC5oaWRlKCJkZXBhcnRtZW50T3JkZXJNb2RhbCIpOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["DepartmentOrderForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA,OAAA,WAAA,MAAA,0BAAA;AACA,OAAA,SAAA,MAAA,cAAA;AACA,SAAA,UAAA,QAAA,MAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,qBADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,SAAA,EAAA,SADA;AAEA,IAAA,WAAA,EAAA;AAFA,GAFA;AAMA,EAAA,QAAA,oBACA,UAAA,CAAA,CAAA,aAAA,EAAA,aAAA,CAAA,CADA,CANA;AASA,EAAA,IATA,kBASA;AACA,WAAA;AACA,MAAA,IAAA,EAAA;AADA,KAAA;AAGA,GAbA;AAcA,EAAA,OAdA,qBAcA;AACA,SAAA,MAAA,CAAA,QAAA,CAAA,gBAAA;AACA,GAhBA;AAiBA,EAAA,OAjBA,qBAiBA;AAAA;;AACA,QAAA,KAAA,WAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,WAAA,WAAA,CAAA,OAAA,CAAA,UAAA,IAAA,EAAA;AACA,QAAA,KAAA,CAAA,IAAA,CAAA,IAAA,CAAA,IAAA;AACA,OAFA;AAGA;;AACA,IAAA,OAAA,CAAA,GAAA,CAAA,KAAA,IAAA;AACA,GAxBA;AAyBA,EAAA,OAAA,EAAA;AACA,IAAA,YADA,wBACA,KADA,EACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,eADA,GACA,MAAA,CAAA,WADA;;AAEA,gBAAA,MAAA,CAAA,IAAA,CAAA,OAAA,CAAA,UAAA,IAAA,EAAA,KAAA,EAAA;AACA,sBAAA,eAAA,IAAA,UAAA,EAAA;AACA,oBAAA,IAAA,CAAA,cAAA,GAAA,KAAA,GAAA,CAAA;AACA,mBAFA,MAEA;AACA,oBAAA,IAAA,CAAA,cAAA,GAAA,KAAA,GAAA,CAAA;AACA;AACA,iBANA;;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA,KAVA;AAWA,IAAA,WAXA,yBAWA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,YAAA,EAAA,IAAA,CADA;;AAAA;AAAA;AAAA,uBAEA,MAAA,CAAA,IAAA,CAAA,OAAA,CAAA,UAAA,IAAA,EAAA;AACA,kBAAA,MAAA,CAAA,MAAA,CAAA,QAAA,CAAA,mBAAA,EAAA,IAAA;;AACA,kBAAA,MAAA,CAAA,MAAA,CAAA,QAAA,CAAA,gBAAA;AACA,iBAHA,CAFA;;AAAA;AAAA;AAAA,uBAMA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,YAAA,EAAA,KAAA,CANA;;AAAA;AAOA,gBAAA,MAAA,CAAA,KAAA,CAAA;AACA,kBAAA,KAAA,EAAA,UADA;AAEA,kBAAA,IAAA,EAAA,6CAFA;AAGA,kBAAA,IAAA,EAAA;AAHA,iBAAA;;AAKA,gBAAA,MAAA,CAAA,MAAA,CAAA,IAAA,CAAA,sBAAA;;AAZA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAaA;AAxBA;AAzBA,CAAA","sourcesContent":["<template>\n  <div class=\"container form-section\">\n    <div class=\"flex-column\">\n      <div class=\"mb15\">\n        <h3 class=\"mb5\">\n          Re Order List\n        </h3>\n        <p>Drag and drop items to reorder.</p>\n      </div>\n      <div v-if=\"list.length > 0\">\n        <draggable\n          class=\"mb20\"\n          v-model=\"list\"\n          group=\"people\"\n          :sort=\"true\"\n          @change=\"inputChanged\"\n        >\n          <div class=\"meta-items\" v-for=\"element in list\" :key=\"element.id\">\n            {{ element.name }} {{ currentType == 'business' ? element.business_index : element.building_index }}\n          </div>\n        </draggable>\n      </div>\n      <button-block @click.native=\"reOrderList\" v-if=\"list.length > 0\">Update</button-block>\n      <div v-if=\"list.length < 1\">\n        <p class=\"text-center\">No items to re-order</p>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport ButtonBlock from \"@/components/ButtonBlock\";\nimport draggable from \"vuedraggable\";\nimport { mapGetters } from \"vuex\";\nexport default {\n  name: \"DepartmentOrderForm\",\n  components: {\n    draggable,\n    ButtonBlock,\n  },\n  computed: {\n    ...mapGetters([\"departments\", \"currentType\"]),\n  },\n  data() {\n    return {\n      list: [],\n    };\n  },\n  created() {\n    this.$store.dispatch(\"getDepartments\");\n  },\n  mounted() {\n    if (this.departments.length > 0) {\n      this.departments.forEach((item) => {\n        this.list.push(item);\n      });\n    }\n    console.log(this.list);\n  },\n  methods: {\n    async inputChanged(value) {\n      let currentActivity = this.currentType\n      this.list.forEach(function(item, index) {\n        if(currentActivity == 'business'){\n          item.business_index = index + 1;\n        }else{\n          item.building_index = index + 1;\n        }\n      });\n    },\n    async reOrderList() {\n      await this.$store.commit(\"setLoading\", true);\n      await this.list.forEach((item) => {\n        this.$store.dispatch(\"updateDepartments\", item);\n        this.$store.dispatch(\"getDepartments\");\n      });\n      await this.$store.commit(\"setLoading\", false);\n      this.$swal({\n        title: \"Success!\",\n        text: \"Departments order was updated successfully.\",\n        icon: \"success\",\n      });\n      this.$modal.hide(\"departmentOrderModal\");\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.form-section {\n  padding: 20px;\n}\n.meta-items {\n  box-shadow: 0px 3px 26px #00000029;\n  padding: 10px 5px;\n  margin: 10px 0px;\n}\n</style>\n"],"sourceRoot":"src/components/forms"}]}