{"remainingRequest":"/var/www/html/boss-web/node_modules/babel-loader/lib/index.js!/var/www/html/boss-web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/var/www/html/boss-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/html/boss-web/src/pages/AddAppointment.vue?vue&type=script&lang=js&","dependencies":[{"path":"/var/www/html/boss-web/src/pages/AddAppointment.vue","mtime":1606242937935},{"path":"/var/www/html/boss-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/boss-web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/var/www/html/boss-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/boss-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL3Zhci93d3cvaHRtbC9ib3NzLXdlYi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi92YXIvd3d3L2h0bWwvYm9zcy13ZWIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgRnVsbENhbGVuZGFyIGZyb20gIkBmdWxsY2FsZW5kYXIvdnVlIjsKaW1wb3J0IGRheUdyaWRQbHVnaW4gZnJvbSAiQGZ1bGxjYWxlbmRhci9kYXlncmlkIjsKaW1wb3J0IGludGVyYWN0aW9uUGx1Z2luIGZyb20gIkBmdWxsY2FsZW5kYXIvaW50ZXJhY3Rpb24iOwppbXBvcnQgQXBwb2ludG1lbnRGb3JtIGZyb20gIkAvY29tcG9uZW50cy9mb3Jtcy9BcHBvaW50bWVudEZvcm0iOwppbXBvcnQgbW9tZW50IGZyb20gIm1vbWVudC10aW1lem9uZSI7CmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICJ2dWV4IjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJBZGRBcHBvaW50bWVudCIsCiAgY29tcG9uZW50czogewogICAgRnVsbENhbGVuZGFyOiBGdWxsQ2FsZW5kYXIsCiAgICBBcHBvaW50bWVudEZvcm06IEFwcG9pbnRtZW50Rm9ybQogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoe30sIG1hcEdldHRlcnMoWyJhcHBvaW50bWVudHMiLCAiYXBwb2ludG1lbnRMaW1pdHMiXSkpLAogIHdhdGNoOiB7CiAgICBhcHBvaW50bWVudHM6IHsKICAgICAgZGVlcDogdHJ1ZSwKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcihzdGF0dXMpIHsKICAgICAgICB0aGlzLmNhbGVuZGFyT3B0aW9ucy5ldmVudHMgPSBbXTsKICAgICAgICB0aGlzLnNldFVwQXBwb2ludG1lbnRzKCk7CiAgICAgIH0KICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHJldHVybiB7CiAgICAgIGV2ZW50czogW10sCiAgICAgIGNhbGVuZGFyT3B0aW9uczogewogICAgICAgIHBsdWdpbnM6IFtkYXlHcmlkUGx1Z2luLCBpbnRlcmFjdGlvblBsdWdpbl0sCiAgICAgICAgaW5pdGlhbFZpZXc6ICJkYXlHcmlkTW9udGgiLAogICAgICAgIHdlZWtlbmRzOiBmYWxzZSwKICAgICAgICBzZWxlY3RhYmxlOiB0cnVlLAogICAgICAgIGV2ZW50czogW10sCiAgICAgICAgZGF0ZUNsaWNrOiB0aGlzLmhhbmRsZURhdGVDbGljaywKICAgICAgICBkYXlNYXhFdmVudHM6IHRydWUsCiAgICAgICAgdmlld3M6IHsKICAgICAgICAgIGRheUdyaWQ6IHsKICAgICAgICAgICAgZGF5UmVuZGVyOiBmdW5jdGlvbiBkYXlSZW5kZXIoZGF0ZSwgY2VsbCkgewogICAgICAgICAgICAgIGlmIChkYXRlIDwgbW9tZW50KG5ldyBEYXRlKERhdGUubm93KCkpKS5lbmRPZigiZGF5IikpIHsKICAgICAgICAgICAgICAgICQoY2VsbCkuYWRkQ2xhc3MoImRpc2FibGVkIik7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICBkYXlNYXhFdmVudHM6IDIgLy8gYWRqdXN0IHRvIDYgb25seSBmb3IgdGltZUdyaWRXZWVrL3RpbWVHcmlkRGF5CgogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgY3VzdG9tQnV0dG9uczogewogICAgICAgICAgcHJldjogewogICAgICAgICAgICAvLyB0aGlzIG92ZXJyaWRlcyB0aGUgcHJldiBidXR0b24KICAgICAgICAgICAgdGV4dDogIlBSRVYiLAogICAgICAgICAgICBjbGljazogZnVuY3Rpb24gY2xpY2soKSB7CiAgICAgICAgICAgICAgdmFyIGNhbGVuZGFyQXBpID0gX3RoaXMuJHJlZnMuYXBwb2ludG1lbnRDYWxlbmRhci5nZXRBcGkoKTsKCiAgICAgICAgICAgICAgY2FsZW5kYXJBcGkucHJldigpOwoKICAgICAgICAgICAgICBfdGhpcy5nZXRMaW1pdHMoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSwKICAgICAgICAgIG5leHQ6IHsKICAgICAgICAgICAgLy8gdGhpcyBvdmVycmlkZXMgdGhlIG5leHQgYnV0dG9uCiAgICAgICAgICAgIHRleHQ6ICJORVhUIiwKICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uIGNsaWNrKCkgewogICAgICAgICAgICAgIHZhciBjYWxlbmRhckFwaSA9IF90aGlzLiRyZWZzLmFwcG9pbnRtZW50Q2FsZW5kYXIuZ2V0QXBpKCk7CgogICAgICAgICAgICAgIGNhbGVuZGFyQXBpLm5leHQoKTsKCiAgICAgICAgICAgICAgX3RoaXMuZ2V0TGltaXRzKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGhlYWRlclRvb2xiYXI6IHsKICAgICAgICAgIGxlZnQ6ICJ0aXRsZSIsCiAgICAgICAgICByaWdodDogInRvZGF5LCBwcmV2LG5leHQiCiAgICAgICAgfQogICAgICB9CiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIC8vIHRoaXMuc2V0VXBBcHBvaW50bWVudHMoKTsKICAgIHRoaXMuZ2V0TGltaXRzKCk7CiAgICB0aGlzLiRzdG9yZS5jb21taXQoInNldEN1cnJlbnRQYXltZW50VHlwZSIsICJsYW5kYmFuayIpOwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0TGltaXRzOiBmdW5jdGlvbiBnZXRMaW1pdHMoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgY2FsZW5kYXJBcGksIGN1cnJlbnREYXRlLCBtb250aCwgX2N1cnJlbnREYXRlOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczIuJHN0b3JlLmNvbW1pdCgic2V0TG9hZGluZyIsIHRydWUpOwoKICAgICAgICAgICAgICAgIGNhbGVuZGFyQXBpID0gX3RoaXMyLiRyZWZzLmFwcG9pbnRtZW50Q2FsZW5kYXIuZ2V0QXBpKCk7CiAgICAgICAgICAgICAgICBjdXJyZW50RGF0ZSA9IGNhbGVuZGFyQXBpLmdldERhdGUoKTsKICAgICAgICAgICAgICAgIG1vbnRoID0gY3VycmVudERhdGUuZ2V0TW9udGgoKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi4kc3RvcmUuZGlzcGF0Y2goImdldFVzZXJBcHBvaW50bWVudExpbWl0cyIsIG1vbnRoKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgX3RoaXMyLiRzdG9yZS5jb21taXQoInNldExvYWRpbmciLCBmYWxzZSk7CgogICAgICAgICAgICAgICAgaWYgKF90aGlzMi5hcHBvaW50bWVudExpbWl0cy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5jYWxlbmRhck9wdGlvbnMuZXZlbnRzID0gW107CiAgICAgICAgICAgICAgICAgIF9jdXJyZW50RGF0ZSA9IG1vbWVudC50eihuZXcgRGF0ZShEYXRlLm5vdygpKSwgIkFzaWEvTWFuaWxhIik7CgogICAgICAgICAgICAgICAgICBfdGhpczIuYXBwb2ludG1lbnRMaW1pdHMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgICAgICAgIHZhciBkYXRlID0gbW9tZW50LnR6KGl0ZW0uZGF0ZSwgIkFzaWEvTWFuaWxhIik7CgogICAgICAgICAgICAgICAgICAgIGlmIChkYXRlLmlzQWZ0ZXIoX2N1cnJlbnREYXRlLmVuZE9mKCJkYXkiKSkpIHsKICAgICAgICAgICAgICAgICAgICAgIHZhciByZW1haW5pbmdfZXZlbnQgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpdGVtLmlkLAogICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogaXRlbS5iYXRjaCA9PT0gImJhdGNoXzEiID8gIkJhdGNoIDE6ICIuY29uY2F0KGl0ZW0ucmVtYWluaW5nLCAiIHNsb3RzIikgOiAiQmF0Y2ggMjogIi5jb25jYXQoaXRlbS5yZW1haW5pbmcsICIgc2xvdHMiKSwKICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IGl0ZW0uZGF0ZSwKICAgICAgICAgICAgICAgICAgICAgICAgYWxsRGF5OiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGl0ZW0ucmVtYWluaW5nIDwgMSA/ICIjZTIzYTM2IiA6ICIjMmVjYzcxIiwKICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyQ29sb3I6IGl0ZW0ucmVtYWluaW5nIDwgMSA/ICIjZTIzYTM2IiA6ICIjMmVjYzcxIgogICAgICAgICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuY2FsZW5kYXJPcHRpb25zLmV2ZW50cy5wdXNoKHJlbWFpbmluZ19ldmVudCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGhhbmRsZURhdGVDbGljazogZnVuY3Rpb24gaGFuZGxlRGF0ZUNsaWNrKGluZm8pIHsKICAgICAgdmFyIGRhdGUgPSBtb21lbnQoaW5mby5kYXRlKS5mb3JtYXQoKTsKICAgICAgdmFyIGN1cnJlbnREYXRlID0gbW9tZW50LnR6KG5ldyBEYXRlKERhdGUubm93KCkpLCAiQXNpYS9NYW5pbGEiKTsKICAgICAgdmFyIHNlbGVjdGVkRGF0ZSA9IG1vbWVudC50eihpbmZvLmRhdGUsICJBc2lhL01hbmlsYSIpOwogICAgICB0aGlzLiRzdG9yZS5jb21taXQoInNldEN1cnJlbnREYXRlIiwgZGF0ZSk7CiAgICAgIHRoaXMuJG1vZGFsLnNob3coImFwcG9pbnRtZW50TW9kYWwiKTsKICAgIH0sCiAgICBzZXRVcEFwcG9pbnRtZW50czogZnVuY3Rpb24gc2V0VXBBcHBvaW50bWVudHMoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMuYXBwb2ludG1lbnRzLmxlbmd0aCA+IDApIHsKICAgICAgICB0aGlzLmFwcG9pbnRtZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICB2YXIgZXZlbnQgPSB7CiAgICAgICAgICAgIGlkOiBpdGVtLmlkLAogICAgICAgICAgICB0aXRsZTogIiIuY29uY2F0KGl0ZW0udGl0bGUpLAogICAgICAgICAgICBzdGFydDogbW9tZW50LnR6KGl0ZW0uYXBwb2ludG1lbnRfZGF0ZSwgIkFzaWEvTWFuaWxhIikuZm9ybWF0KCJZWVlZLU1NLUREIikKICAgICAgICAgIH07CgogICAgICAgICAgX3RoaXMzLmNhbGVuZGFyT3B0aW9ucy5ldmVudHMucHVzaChldmVudCk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"sources":["AddAppointment.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <section>\n    <modal name=\"appointmentModal\" width=\"50%\" height=\"auto\" :adaptive=\"true\"\n      ><appointment-form\n    /></modal>\n    <div class=\"container\">\n      <div class=\"meta-calendar-container\">\n        <FullCalendar :options=\"calendarOptions\" ref=\"appointmentCalendar\" />\n      </div>\n    </div>\n  </section>\n</template>\n\n<script>\nimport FullCalendar from \"@fullcalendar/vue\";\nimport dayGridPlugin from \"@fullcalendar/daygrid\";\nimport interactionPlugin from \"@fullcalendar/interaction\";\nimport AppointmentForm from \"@/components/forms/AppointmentForm\";\nimport moment from \"moment-timezone\";\nimport { mapGetters } from \"vuex\";\nexport default {\n  name: \"AddAppointment\",\n  components: {\n    FullCalendar,\n    AppointmentForm,\n  },\n  computed: {\n    ...mapGetters([\"appointments\", \"appointmentLimits\"]),\n  },\n  watch: {\n    appointments: {\n      deep: true,\n      handler(status) {\n        this.calendarOptions.events = [];\n        this.setUpAppointments();\n      },\n    },\n  },\n  data() {\n    return {\n      events: [],\n\n      calendarOptions: {\n        plugins: [dayGridPlugin, interactionPlugin],\n        initialView: \"dayGridMonth\",\n        weekends: false,\n        selectable: true,\n        events: [],\n        dateClick: this.handleDateClick,\n        dayMaxEvents: true,\n        views: {\n          dayGrid: {\n            dayRender: function(date, cell) {\n              if (date < moment(new Date(Date.now())).endOf(\"day\")) {\n                $(cell).addClass(\"disabled\");\n              }\n            },\n            dayMaxEvents: 2, // adjust to 6 only for timeGridWeek/timeGridDay\n          },\n        },\n        customButtons: {\n          prev: {\n            // this overrides the prev button\n            text: \"PREV\",\n            click: () => {\n              let calendarApi = this.$refs.appointmentCalendar.getApi();\n              calendarApi.prev();\n              this.getLimits();\n            },\n          },\n          next: {\n            // this overrides the next button\n            text: \"NEXT\",\n            click: () => {\n              let calendarApi = this.$refs.appointmentCalendar.getApi();\n              calendarApi.next();\n              this.getLimits();\n            },\n          },\n        },\n        headerToolbar: {\n          left: \"title\",\n          right: \"today, prev,next\",\n        },\n      },\n    };\n  },\n  mounted() {\n    // this.setUpAppointments();\n    this.getLimits();\n    this.$store.commit(\"setCurrentPaymentType\", \"landbank\");\n  },\n  methods: {\n    async getLimits() {\n      this.$store.commit(\"setLoading\", true);\n      let calendarApi = this.$refs.appointmentCalendar.getApi();\n      let currentDate = calendarApi.getDate();\n      let month = currentDate.getMonth();\n      await this.$store.dispatch(\"getUserAppointmentLimits\", month);\n      this.$store.commit(\"setLoading\", false);\n      if (this.appointmentLimits.length > 0) {\n        this.calendarOptions.events = [];\n        let currentDate = moment.tz(new Date(Date.now()), \"Asia/Manila\");\n\n        this.appointmentLimits.forEach((item) => {\n          let date = moment.tz(item.date, \"Asia/Manila\");\n          if (date.isAfter(currentDate.endOf(\"day\"))) {\n            let remaining_event = {\n              id: item.id,\n              title:\n                item.batch === \"batch_1\"\n                  ? `Batch 1: ${item.remaining} slots`\n                  : `Batch 2: ${item.remaining} slots`,\n              start: item.date,\n              allDay: true,\n              backgroundColor: item.remaining < 1 ? \"#e23a36\" : \"#2ecc71\",\n              borderColor: item.remaining < 1 ? \"#e23a36\" : \"#2ecc71\",\n            };\n            this.calendarOptions.events.push(remaining_event);\n          }\n        });\n      }\n    },\n    handleDateClick(info) {\n      let date = moment(info.date).format();\n      let currentDate = moment.tz(new Date(Date.now()), \"Asia/Manila\");\n      let selectedDate = moment.tz(info.date, \"Asia/Manila\");\n      this.$store.commit(\"setCurrentDate\", date);\n      this.$modal.show(\"appointmentModal\");\n    },\n    setUpAppointments() {\n      if (this.appointments.length > 0) {\n        this.appointments.forEach((item) => {\n          let event = {\n            id: item.id,\n            title: `${item.title}`,\n            start: moment\n              .tz(item.appointment_date, \"Asia/Manila\")\n              .format(\"YYYY-MM-DD\"),\n          };\n          this.calendarOptions.events.push(event);\n        });\n      }\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.meta-calendar-container {\n  padding: 25px 15px;\n}\n</style>\n"],"sourceRoot":"src/pages"}]}