{"remainingRequest":"/var/www/html/boss-web/node_modules/babel-loader/lib/index.js!/var/www/html/boss-web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/var/www/html/boss-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/html/boss-web/src/components/forms/BaseFileUploader.vue?vue&type=script&lang=js&","dependencies":[{"path":"/var/www/html/boss-web/src/components/forms/BaseFileUploader.vue","mtime":1605179000987},{"path":"/var/www/html/boss-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/boss-web/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/var/www/html/boss-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/boss-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZnJvbSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvciI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi92YXIvd3d3L2h0bWwvYm9zcy13ZWIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwp2YXIgU1RBVFVTX0lOSVRJQUwgPSAwLAogICAgU1RBVFVTX1NBVklORyA9IDEsCiAgICBTVEFUVVNfU1VDQ0VTUyA9IDIsCiAgICBTVEFUVVNfRkFJTEVEID0gMzsKaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gInZ1ZXgiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkJhc2VGaWxlVXBsb2FkZXIiLAogIHByb3BzOiB7CiAgICB1cGxvYWRUeXBlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJ2ltYWdlLyosYXBwbGljYXRpb24vcGRmJwogICAgfSwKICAgIGhhc0Vycm9yOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlLAogICAgICByZXF1aXJlZDogZmFsc2UKICAgIH0sCiAgICBsYWJlbDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICIiCiAgICB9LAogICAgZGVzY3JpcHRpb246IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAiIgogICAgfSwKICAgIHByb3BlcnRpZXM6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4ge307CiAgICAgIH0KICAgIH0sCiAgICB0eXBlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogIiIKICAgIH0sCiAgICBmaWxlTGFiZWw6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAiIgogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGN1cnJlbnRTdGF0dXM6IG51bGwsCiAgICAgIGZpbGVuYW1lOiAiIgogICAgfTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcEdldHRlcnMoWydhcHBsaWNhdGlvblJlcXVpcmVtZW50cycsICdpc1VwbG9hZGluZycsICdidWlsZGluZ0FwcGxpY2F0aW9uUmVxdWlyZW1lbnRzJ10pKSwge30sIHsKICAgIGlzSW5pdGlhbDogZnVuY3Rpb24gaXNJbml0aWFsKCkgewogICAgICByZXR1cm4gdGhpcy5jdXJyZW50U3RhdHVzID09PSBTVEFUVVNfSU5JVElBTDsKICAgIH0sCiAgICBpc1NhdmluZzogZnVuY3Rpb24gaXNTYXZpbmcoKSB7CiAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRTdGF0dXMgPT09IFNUQVRVU19TQVZJTkc7CiAgICB9LAogICAgaXNTdWNjZXNzOiBmdW5jdGlvbiBpc1N1Y2Nlc3MoKSB7CiAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRTdGF0dXMgPT09IFNUQVRVU19TVUNDRVNTOwogICAgfSwKICAgIGlzRmFpbGVkOiBmdW5jdGlvbiBpc0ZhaWxlZCgpIHsKICAgICAgcmV0dXJuIHRoaXMuY3VycmVudFN0YXR1cyA9PT0gU1RBVFVTX0ZBSUxFRDsKICAgIH0KICB9KSwKICBtZXRob2RzOiB7CiAgICBzYXZlOiBmdW5jdGlvbiBzYXZlKGZvcm1EYXRhKSB7CiAgICAgIGNvbnNvbGUubG9nKGZvcm1EYXRhKTsKCiAgICAgIGlmICh0aGlzLnR5cGUgPT09ICdidXNpbmVzcycpIHsKICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgidXBsb2FkUmVxdWlyZW1lbnRzIiwgZm9ybURhdGEpOwogICAgICB9IGVsc2UgaWYgKHRoaXMudHlwZSA9PT0gJ3Byb3BlcnR5JykgewogICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJ1cGxvYWRCdWlsZGluZ1JlcXVpcmVtZW50cyIsIGZvcm1EYXRhKTsKICAgICAgfQogICAgfSwKICAgIGZpbGVzQ2hhbmdlOiBmdW5jdGlvbiBmaWxlc0NoYW5nZShmaWVsZE5hbWUsIGZpbGVMaXN0KSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICAvLyBoYW5kbGUgZmlsZSBjaGFuZ2VzCiAgICAgIHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpOwogICAgICBpZiAoIWZpbGVMaXN0Lmxlbmd0aCkgcmV0dXJuOyAvLyBhcHBlbmQgdGhlIGZpbGVzIHRvIEZvcm1EYXRhCgogICAgICBBcnJheS5mcm9tKEFycmF5KGZpbGVMaXN0Lmxlbmd0aCkua2V5cygpKS5tYXAoZnVuY3Rpb24gKHgpIHsKICAgICAgICBfdGhpcy5maWxlbmFtZSA9IGZpbGVMaXN0W3hdLm5hbWU7CiAgICAgICAgZm9ybURhdGEuYXBwZW5kKGZpZWxkTmFtZSwgZmlsZUxpc3RbeF0pOwogICAgICAgIHZhciByZXF1aXJlbWVudF9pZCA9IF90aGlzLnR5cGUgPT09ICdidXNpbmVzcycgPyBfdGhpcy5hcHBsaWNhdGlvblJlcXVpcmVtZW50cy5pZCA6IF90aGlzLmJ1aWxkaW5nQXBwbGljYXRpb25SZXF1aXJlbWVudHMuaWQ7CiAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdyZXF1aXJlbWVudF9pZCcsIHJlcXVpcmVtZW50X2lkKTsKICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ3JlcXVpcmVtZW50c19sYWJlbCcsIF90aGlzLmZpbGVMYWJlbCk7CiAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdmaWxlbmFtZScsIGZpbGVMaXN0W3hdLm5hbWUpOwogICAgICB9KTsgLy8gc2F2ZSBpdAoKICAgICAgdGhpcy5zYXZlKGZvcm1EYXRhKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["BaseFileUploader.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"meta-upload-box flex-wrap\">\n    <div class=\"meta-label\">{{ label }}</div>\n    <div class=\"meta-desc\" v-html=\"description\">{{ description }}</div>\n    <div class=\"meta-custom-upload\" :class=\"{'has-error': hasError}\">\n      <form enctype=\"multipart/form-data\" novalidate>\n        <input\n          type=\"file\"\n          name=\"file\"\n          :accept=\"uploadType\"\n          @change=\"filesChange($event.target.name, $event.target.files)\"\n          :disabled=\"isUploading\"\n        />\n        <!-- <div class=\"meta-text big\">DRAG/CLICK TO UPLOAD YOUR FILE HERE</div> -->\n        <div class=\"meta-text small\">\n          {{\n            filename ? filename  : properties.filename ? properties.filename : \"DRAG/CLICK TO UPLOAD YOUR FILE HERE\" \n          }}\n        </div>\n      </form>\n    </div>\n  </div>\n</template>\n\n<script>\nconst STATUS_INITIAL = 0,\n  STATUS_SAVING = 1,\n  STATUS_SUCCESS = 2,\n  STATUS_FAILED = 3;\nimport { mapGetters } from \"vuex\";\nexport default {\n  name: \"BaseFileUploader\",\n  props: {\n    uploadType:{\n      type: String,\n      default: 'image/*,application/pdf'\n    },\n    hasError: {\n      type: Boolean,\n      default: false,\n      required: false\n    },\n    label: {\n      type: String,\n      default: \"\",\n    },\n    description: {\n      type: String,\n      default: \"\",\n    },\n    properties:{\n        type: Object,\n        default() {\n            return {}\n        }\n    },\n    type:{\n        type: String,\n        default: \"\"\n    },\n    fileLabel:{\n      type: String,\n      default: \"\"\n    }\n  },\n  data() {\n    return {\n      currentStatus: null,\n      filename: \"\",\n    };\n  },\n  computed: {\n    ...mapGetters(['applicationRequirements','isUploading','buildingApplicationRequirements']),\n    isInitial() {\n      return this.currentStatus === STATUS_INITIAL;\n    },\n    isSaving() {\n      return this.currentStatus === STATUS_SAVING;\n    },\n    isSuccess() {\n      return this.currentStatus === STATUS_SUCCESS;\n    },\n    isFailed() {\n      return this.currentStatus === STATUS_FAILED;\n    },\n  },\n  methods: {\n    save(formData) {\n      console.log(formData);\n      if(this.type === 'business'){\n        this.$store.dispatch(\"uploadRequirements\", formData)\n      }else if(this.type === 'property'){\n        this.$store.dispatch(\"uploadBuildingRequirements\", formData)\n      }\n    },\n    filesChange(fieldName, fileList) {\n      // handle file changes\n      var formData = new FormData();\n      if (!fileList.length) return;\n\n      // append the files to FormData\n      Array.from(Array(fileList.length).keys()).map((x) => {\n        this.filename = fileList[x].name;\n        formData.append(fieldName, fileList[x])\n        let requirement_id = this.type === 'business' ? this.applicationRequirements.id : this.buildingApplicationRequirements.id\n        formData.append('requirement_id', requirement_id)\n        formData.append('requirements_label', this.fileLabel)\n        formData.append('filename',fileList[x].name)\n      });\n      // save it\n      this.save(formData);\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.meta-upload-box {\n  width: 100%;\n  .meta-label {\n    font-size: 16px;\n    font-weight: bold;\n    margin-bottom: 10px;\n  }\n  .meta-desc {\n    font-size: 14px;\n    padding-left: 17px;\n    margin-bottom: 18px;\n    width: 100%;\n  }\n  .meta-custom-upload {\n    display: flex;\n    flex-wrap: wrap;\n    align-items: center;\n    justify-content: center;\n    position: relative;\n    width: 100%;\n    padding: 15px 30px;\n    margin: 0 0 30px 17px;\n    border: 3px dashed #bce0fd;\n    transition: 0.4s;\n    input[type=\"file\"] {\n      position: absolute;\n      left: 0;\n      top: 0;\n      z-index: 2;\n      height: 100%;\n      width: 100%;\n      opacity: 0;\n      cursor: pointer;\n    }\n    .meta-text.big {\n      color: #64b4f9;\n      font-size: 30px;\n      font-weight: 700;\n      line-height: 1.6;\n      text-transform: uppercase;\n      width: 100%;\n      text-align: center;\n      transition: 0.4s;\n    }\n    .meta-text.small {\n      color: #64b4f9;\n      font-size: 15px;\n      font-weight: 700;\n      line-height: 1.6;\n      transition: 0.4s;\n    }\n  }\n}\n\ndiv.meta-container .meta-custom-upload:hover {\n  border-color: #039be5;\n}\n\ndiv.meta-container .meta-custom-upload:hover div.meta-text {\n  color: #039be5;\n}\n\n.meta-custom-upload.has-error,\n.meta-custom-upload.has-error .meta-text{\n    border-color: #e23a36;\n    color: #e23a36!important;\n}\n\n\n/*\nMOBILE RESPONSIVENESS \n--------------------------------------------------------------*/\n\n@media only screen and ( max-width : 768px ){\n    .meta-upload-box .meta-label{\n        font-size: 15px;\n    }\n\n    .meta-upload-box .meta-custom-upload .meta-text.small{\n        font-size: 13px;\n    }\n}\n\n@media only screen and ( max-width: 480px ){\n    .meta-upload-box .meta-label{\n        font-size: 13px;\n    }\n\n    .meta-upload-box .meta-desc{\n        font-size: 12px;\n        margin-bottom: 15px;\n    }\n    .meta-upload-box .meta-custom-upload .meta-text.small{\n        font-size: 12px;\n        text-align: center;\n    }\n}\n</style>\n"],"sourceRoot":"src/components/forms"}]}