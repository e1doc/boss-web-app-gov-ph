{"remainingRequest":"/var/www/html/boss-web/node_modules/babel-loader/lib/index.js!/var/www/html/boss-web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/var/www/html/boss-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/html/boss-web/src/pages/Bills.vue?vue&type=script&lang=js&","dependencies":[{"path":"/var/www/html/boss-web/src/pages/Bills.vue","mtime":1606242937935},{"path":"/var/www/html/boss-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/boss-web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/var/www/html/boss-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/boss-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL3Zhci93d3cvaHRtbC9ib3NzLXdlYi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi92YXIvd3d3L2h0bWwvYm9zcy13ZWIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgUHJvZmlsZVRhYmxlTWVudSBmcm9tICJAL2NvbXBvbmVudHMvdGFibGVzL1Byb2ZpbGVUYWJsZU1lbnUiOwppbXBvcnQgQmlsbHNUYWJsZSBmcm9tICJAL2NvbXBvbmVudHMvdGFibGVzL0JpbGxzVGFibGUiOwppbXBvcnQgSW52b2ljZURpYWxvZyBmcm9tICJAL2NvbXBvbmVudHMvcGF5bWVudC9JbnZvaWNlRGlhbG9nIjsKaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gInZ1ZXgiOwppbXBvcnQgbW9tZW50IGZyb20gIm1vbWVudC10aW1lem9uZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQmlsbHMiLAogIGNvbXBvbmVudHM6IHsKICAgIFByb2ZpbGVUYWJsZU1lbnU6IFByb2ZpbGVUYWJsZU1lbnUsCiAgICBCaWxsc1RhYmxlOiBCaWxsc1RhYmxlLAogICAgSW52b2ljZURpYWxvZzogSW52b2ljZURpYWxvZwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoe30sIG1hcEdldHRlcnMoWydjdXJyZW50U2VsZWN0ZWRCdXNpbmVzcycsICdnZW5lcmF0ZWRCaWxsJywgJ2N1cnJlbnRTb2FUeXBlJywgJ2N1cnJlbnRTZWxlY3RlZFByb3BlcnR5J10pKSwKICBtZXRob2RzOiB7CiAgICBvblBheUNsaWNrOiBmdW5jdGlvbiBvblBheUNsaWNrKHN0YXR1cykgewogICAgICBpZiAoc3RhdHVzKSB7CiAgICAgICAgdGhpcy5jcmVhdGVTb2EoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAnbmFtZSc6ICdQcm9maWxlJwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgY3JlYXRlU29hOiBmdW5jdGlvbiBjcmVhdGVTb2EoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBiaWxscywgcGF5bG9hZDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBiaWxscyA9IFtdOwoKICAgICAgICAgICAgICAgIF90aGlzLmdlbmVyYXRlZEJpbGwuaW52b2ljZXMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgICAgICB2YXIgZmVlcyA9IFtdOwogICAgICAgICAgICAgICAgICBpdGVtLmZlZXMuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkgewogICAgICAgICAgICAgICAgICAgIHZhciBmZWUgPSB7CiAgICAgICAgICAgICAgICAgICAgICBmZWVfZGVzY3JpcHRpb246IGVsZW1lbnQuZmVlX2Rlc2NyaXB0aW9uLAogICAgICAgICAgICAgICAgICAgICAgYW1vdW50OiBlbGVtZW50LmFtb3VudCwKICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IGVsZW1lbnQuZmVlY29kZSwKICAgICAgICAgICAgICAgICAgICAgIHBlbmFsdHk6IGVsZW1lbnQuaXNwZW5hbHR5ID09ICIwIiA/IGZhbHNlIDogdHJ1ZQogICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgZmVlcy5wdXNoKGZlZSk7CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB2YXIgYmlsbCA9IHsKICAgICAgICAgICAgICAgICAgICByZWZlcmVuY2VfbnVtYmVyOiBpdGVtLnJlZmVyZW5jZW5vLAogICAgICAgICAgICAgICAgICAgIHF1YXJ0ZXI6IGl0ZW0ucXVhcnRlciwKICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IGl0ZW0uYW1vdW50LAogICAgICAgICAgICAgICAgICAgIGR1ZV9kYXRlOiBtb21lbnQoaXRlbS5kdWVkYXRlKSwKICAgICAgICAgICAgICAgICAgICBmZWVzOiBmZWVzCiAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgIGJpbGxzLnB1c2goYmlsbCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBwYXlsb2FkID0gewogICAgICAgICAgICAgICAgICBzb2E6IHsKICAgICAgICAgICAgICAgICAgICB5ZWFyOiBfdGhpcy5nZW5lcmF0ZWRCaWxsLnllYXIsCiAgICAgICAgICAgICAgICAgICAgcXVhcnRlcjogX3RoaXMuZ2VuZXJhdGVkQmlsbC5xdWFydGVyLAogICAgICAgICAgICAgICAgICAgIHBheW1vZGU6IF90aGlzLmdlbmVyYXRlZEJpbGwucGF5bW9kZSwKICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IF90aGlzLmdlbmVyYXRlZEJpbGwudG90YWxfYW1vdW50LAogICAgICAgICAgICAgICAgICAgIGJ1c2luZXNzX2FwcGxpY2F0aW9uOiBfdGhpcy5jdXJyZW50U29hVHlwZSA9PT0gJ2J1c2luZXNzJyA/IF90aGlzLmN1cnJlbnRTZWxlY3RlZEJ1c2luZXNzLmlkIDogbnVsbCwKICAgICAgICAgICAgICAgICAgICBidWlsZGluZ19hcHBsaWNhdGlvbjogX3RoaXMuY3VycmVudFNvYVR5cGUgPT09ICdyZWFsX3Byb3BlcnR5JyA/IF90aGlzLmN1cnJlbnRTZWxlY3RlZFByb3BlcnR5LmlkIDogbnVsbCwKICAgICAgICAgICAgICAgICAgICBiaWxsczogYmlsbHMsCiAgICAgICAgICAgICAgICAgICAgYXBwbGljYXRpb25fdHlwZTogX3RoaXMuY3VycmVudFNvYVR5cGUKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRzdG9yZS5kaXNwYXRjaCgnY3JlYXRlU29hJywgcGF5bG9hZCk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["Bills.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA,OAAA,gBAAA,MAAA,sCAAA;AACA,OAAA,UAAA,MAAA,gCAAA;AACA,OAAA,aAAA,MAAA,oCAAA;AACA,SAAA,UAAA,QAAA,MAAA;AACA,OAAA,MAAA,MAAA,iBAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,gBAAA,EAAA,gBADA;AAEA,IAAA,UAAA,EAAA,UAFA;AAGA,IAAA,aAAA,EAAA;AAHA,GAFA;AAOA,EAAA,QAAA,oBACA,UAAA,CAAA,CAAA,yBAAA,EAAA,eAAA,EAAA,gBAAA,EAAA,yBAAA,CAAA,CADA,CAPA;AAUA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,sBACA,MADA,EACA;AACA,UAAA,MAAA,EAAA;AACA,aAAA,SAAA;AACA,OAFA,MAEA;AACA,aAAA,OAAA,CAAA,IAAA,CAAA;AAAA,kBAAA;AAAA,SAAA;AACA;AACA,KAPA;AAQA,IAAA,SARA,uBAQA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,KADA,GACA,EADA;;AAEA,gBAAA,KAAA,CAAA,aAAA,CAAA,QAAA,CAAA,OAAA,CAAA,UAAA,IAAA,EAAA;AACA,sBAAA,IAAA,GAAA,EAAA;AACA,kBAAA,IAAA,CAAA,IAAA,CAAA,OAAA,CAAA,UAAA,OAAA,EAAA;AACA,wBAAA,GAAA,GAAA;AACA,sBAAA,eAAA,EAAA,OAAA,CAAA,eADA;AAEA,sBAAA,MAAA,EAAA,OAAA,CAAA,MAFA;AAGA,sBAAA,IAAA,EAAA,OAAA,CAAA,OAHA;AAIA,sBAAA,OAAA,EAAA,OAAA,CAAA,SAAA,IAAA,GAAA,GAAA,KAAA,GAAA;AAJA,qBAAA;AAMA,oBAAA,IAAA,CAAA,IAAA,CAAA,GAAA;AACA,mBARA;AASA,sBAAA,IAAA,GAAA;AACA,oBAAA,gBAAA,EAAA,IAAA,CAAA,WADA;AAEA,oBAAA,OAAA,EAAA,IAAA,CAAA,OAFA;AAGA,oBAAA,MAAA,EAAA,IAAA,CAAA,MAHA;AAIA,oBAAA,QAAA,EAAA,MAAA,CAAA,IAAA,CAAA,OAAA,CAJA;AAKA,oBAAA,IAAA,EAAA;AALA,mBAAA;AAOA,kBAAA,KAAA,CAAA,IAAA,CAAA,IAAA;AACA,iBAnBA;;AAoBA,gBAAA,OAtBA,GAsBA;AACA,kBAAA,GAAA,EAAA;AACA,oBAAA,IAAA,EAAA,KAAA,CAAA,aAAA,CAAA,IADA;AAEA,oBAAA,OAAA,EAAA,KAAA,CAAA,aAAA,CAAA,OAFA;AAGA,oBAAA,OAAA,EAAA,KAAA,CAAA,aAAA,CAAA,OAHA;AAIA,oBAAA,MAAA,EAAA,KAAA,CAAA,aAAA,CAAA,YAJA;AAKA,oBAAA,oBAAA,EAAA,KAAA,CAAA,cAAA,KAAA,UAAA,GAAA,KAAA,CAAA,uBAAA,CAAA,EAAA,GAAA,IALA;AAMA,oBAAA,oBAAA,EAAA,KAAA,CAAA,cAAA,KAAA,eAAA,GAAA,KAAA,CAAA,uBAAA,CAAA,EAAA,GAAA,IANA;AAOA,oBAAA,KAAA,EAAA,KAPA;AAQA,oBAAA,gBAAA,EAAA,KAAA,CAAA;AARA;AADA,iBAtBA;AAAA;AAAA,uBAkCA,KAAA,CAAA,MAAA,CAAA,QAAA,CAAA,WAAA,EAAA,OAAA,CAlCA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAmCA;AA3CA;AAVA,CAAA","sourcesContent":["<template>\n  <section>\n    <modal\n      name=\"invoiceModal\"\n      height=\"auto\"\n      :adaptive=\"true\"\n      :classes=\"['vue-modal-2']\"\n      ><invoice-dialog\n    /></modal>\n    <div class=\"container\">\n      <div class=\"mt50 invoice-header\">\n        <profile-table-menu type=\"bills\" />\n      </div>\n      <div class=\"mt50 bills-table\">\n        <bills-table />\n      </div>\n      <div class=\"bills-actions\">\n        <div class=\"pay-button\" @click=\"onPayClick(true)\">\n          <font-awesome-icon icon=\"receipt\" class=\"mr5 icon\" />GENERATE SOA\n        </div>\n        <div class=\"cancel-button\" @click=\"onPayClick(false)\">\n          <font-awesome-icon icon=\"times\" class=\"mr5 icon\" />GENERATE LATER\n        </div>\n      </div>\n    </div>\n  </section>\n</template>\n\n<script>\nimport ProfileTableMenu from \"@/components/tables/ProfileTableMenu\";\nimport BillsTable from \"@/components/tables/BillsTable\";\nimport InvoiceDialog from \"@/components/payment/InvoiceDialog\";\nimport { mapGetters } from \"vuex\"\nimport moment from \"moment-timezone\";\nexport default {\n  name: \"Bills\",\n  components: {\n    ProfileTableMenu,\n    BillsTable,\n    InvoiceDialog,\n  },\n  computed:{\n    ...mapGetters(['currentSelectedBusiness','generatedBill', 'currentSoaType', 'currentSelectedProperty'])\n  },\n  methods:{\n    onPayClick(status){\n      if(status){\n        this.createSoa()\n      }else{\n        this.$router.push({'name': 'Profile'})\n      }\n    },\n    async createSoa(){\n      let bills = []\n      this.generatedBill.invoices.forEach(item=>{\n        let fees = []\n        item.fees.forEach(element=>{\n          let fee = {\n            fee_description: element.fee_description,\n            amount: element.amount,\n            code: element.feecode,\n            penalty: element.ispenalty == \"0\" ? false : true\n          }\n          fees.push(fee)\n        })\n        let bill = {\n          reference_number: item.referenceno,\n          quarter: item.quarter,\n          amount: item.amount,\n          due_date: moment(item.duedate),\n          fees: fees\n        }\n        bills.push(bill)\n      })\n      const payload = {\n        soa: {\n          year: this.generatedBill.year,\n          quarter: this.generatedBill.quarter,\n          paymode: this.generatedBill.paymode,\n          amount: this.generatedBill.total_amount,\n          business_application: this.currentSoaType === 'business' ? this.currentSelectedBusiness.id : null,\n          building_application: this.currentSoaType === 'real_property' ? this.currentSelectedProperty.id : null,\n          bills: bills,\n          application_type: this.currentSoaType\n        }\n      }\n      await this.$store.dispatch('createSoa', payload)\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n/deep/ .vm--modal {\n  overflow: auto;\n  width: 100%;\n}\n/deep/ .vm--modal::-webkit-scrollbar {\n  display: none;\n}\nsection {\n  // min-height: calc( 100vh - 321px);\n  padding-bottom: 30px;\n}\n\n.bills-actions {\n  max-width: 458px;\n  margin: 0 auto;\n  display: flex;\n  flex-wrap: wrap;\n\n  .pay-button {\n    color: #ffffff;\n    background-color: #039be5;\n    font-size: 13px;\n    font-weight: bold;\n    text-align: center;\n    max-width: 125px;\n    float: left;\n    padding: 18px 40px;\n    min-width: 125px;\n    margin: 0 10px 3px;\n    border: 2px #039be5 solid;\n    border-radius: 5px;\n    transition: 0.4s;\n    cursor: pointer;\n  }\n  .pay-button:hover {\n    color: #039be5;\n    background-color: transparent;\n  }\n\n  .cancel-button {\n    color: #d32f2f;\n    background-color: transparent;\n    font-size: 13px;\n    font-weight: bold;\n    text-align: center;\n    max-width: 125px;\n    float: left;\n    padding: 18px 40px;\n    margin: 0 10px 3px;\n    border: 2px #d32f2f solid;\n    border-radius: 5px;\n    transition: 0.4s;\n    cursor: pointer;\n  }\n  .cancel-button:hover {\n    color: #ffffff;\n    background-color: #d32f2f;\n  }\n}\n\n.bills-table {\n  margin-bottom: 50px;\n}\n\n@media only screen and (max-width: 768px) {\n  .invoice-header,\n  .bills-table {\n    margin-top: 30px;\n  }\n}\n</style>\n"],"sourceRoot":"src/pages"}]}