{"remainingRequest":"/var/www/html/boss-web/node_modules/babel-loader/lib/index.js!/var/www/html/boss-web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/var/www/html/boss-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/html/boss-web/src/components/forms/AppointmentLimitForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/var/www/html/boss-web/src/components/forms/AppointmentLimitForm.vue","mtime":1605179000987},{"path":"/var/www/html/boss-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/boss-web/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/var/www/html/boss-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/boss-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL3Zhci93d3cvaHRtbC9ib3NzLXdlYi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi92YXIvd3d3L2h0bWwvYm9zcy13ZWIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgQnV0dG9uQmxvY2sgZnJvbSAiQC9jb21wb25lbnRzL0J1dHRvbkJsb2NrIjsKaW1wb3J0IEJhc2VTZWxlY3QgZnJvbSAiQC9jb21wb25lbnRzL2Zvcm1zL0Jhc2VTZWxlY3QiOwppbXBvcnQgQmFzZURhdGVQaWNrZXIgZnJvbSAiQC9jb21wb25lbnRzL2Zvcm1zL0Jhc2VEYXRlUGlja2VyIjsKaW1wb3J0IEJhc2VJbnB1dCBmcm9tICJAL2NvbXBvbmVudHMvZm9ybXMvQmFzZUlucHV0IjsKaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gInZ1ZXgiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkFwcG9pbnRtZW50Rm9ybSIsCiAgY29tcG9uZW50czogewogICAgQmFzZVNlbGVjdDogQmFzZVNlbGVjdCwKICAgIEJ1dHRvbkJsb2NrOiBCdXR0b25CbG9jaywKICAgIEJhc2VEYXRlUGlja2VyOiBCYXNlRGF0ZVBpY2tlciwKICAgIEJhc2VJbnB1dDogQmFzZUlucHV0CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7fSwgbWFwR2V0dGVycyhbImN1cnJlbnREYXRlIiwgImlzQXBwb2ludG1lbnRTdWNjZXNzIiwgImFwcG9pbnRtZW50RXJyb3IiXSkpLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzdGFydF9kYXRlOiAiIiwKICAgICAgZW5kX2RhdGU6ICIiLAogICAgICBiYXRjaDFfY291bnQ6IDAsCiAgICAgIGJhdGNoMl9jb3VudDogMAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHNldEFwcG9pbnRtZW50TGltaXQ6IGZ1bmN0aW9uIHNldEFwcG9pbnRtZW50TGltaXQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBwYXlsb2FkOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzLiRzdG9yZS5jb21taXQoJ3NldElzQXBwb2ludG1lbnRTdWNjZXNzJywgZmFsc2UpOwoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRzdG9yZS5jb21taXQoInNldExvYWRpbmciLCB0cnVlKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgLy8gbGV0IHBheWxvYWQgPSB7CiAgICAgICAgICAgICAgICAvLyAgIHN0YXJ0X2RhdGU6IHRoaXMuc3RhcnRfZGF0ZSwKICAgICAgICAgICAgICAgIC8vICAgZW5kX2RhdGU6IHRoaXMuZW5kX2RhdGUsCiAgICAgICAgICAgICAgICAvLyAgIGNvdW50OiB0aGlzLmNvdW50LAogICAgICAgICAgICAgICAgLy8gfTsKICAgICAgICAgICAgICAgIHBheWxvYWQgPSB7CiAgICAgICAgICAgICAgICAgIGxpbWl0X3NldDogW3sKICAgICAgICAgICAgICAgICAgICBzdGFydF9kYXRlOiBfdGhpcy5zdGFydF9kYXRlLAogICAgICAgICAgICAgICAgICAgIGVuZF9kYXRlOiBfdGhpcy5lbmRfZGF0ZSwKICAgICAgICAgICAgICAgICAgICBiYXRjaDogImJhdGNoXzEiLAogICAgICAgICAgICAgICAgICAgIGJhdGNoMV9jb3VudDogX3RoaXMuYmF0Y2gxX2NvdW50LAogICAgICAgICAgICAgICAgICAgIGNvdW50OiBfdGhpcy5iYXRjaDFfY291bnQKICAgICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICAgIHN0YXJ0X2RhdGU6IF90aGlzLnN0YXJ0X2RhdGUsCiAgICAgICAgICAgICAgICAgICAgZW5kX2RhdGU6IF90aGlzLmVuZF9kYXRlLAogICAgICAgICAgICAgICAgICAgIGJhdGNoOiAiYmF0Y2hfMiIsCiAgICAgICAgICAgICAgICAgICAgY291bnQ6IF90aGlzLmJhdGNoMl9jb3VudAogICAgICAgICAgICAgICAgICB9XQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRzdG9yZS5kaXNwYXRjaCgiYWRkQXBwb2ludG1lbnRMaW1pdCIsIHBheWxvYWQpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBpZiAoIV90aGlzLmlzQXBwb2ludG1lbnRTdWNjZXNzKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDk7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuJHN0b3JlLmNvbW1pdCgic2V0TG9hZGluZyIsIGZhbHNlKTsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgX3RoaXMuJG1vZGFsLmhpZGUoImFwcG9pbnRtZW50TGltaXRNb2RhbCIpOwoKICAgICAgICAgICAgICAgIF90aGlzLiRzd2FsKHsKICAgICAgICAgICAgICAgICAgdGl0bGU6ICJTdWNjZXNzISIsCiAgICAgICAgICAgICAgICAgIHRleHQ6ICJBcHBvaW50bWVudCBzbG90IHNldHRpbmdzIHdhcyBzdWJtaXR0ZWQgc3VjY2Vzc2Z1bGx5LiIsCiAgICAgICAgICAgICAgICAgIGljb246ICJzdWNjZXNzIgogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgX3RoaXMuJHN0b3JlLmRpc3BhdGNoKCJhcHBvaW50bWVudExpbWl0cyIpOwoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxODsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE2OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRzdG9yZS5jb21taXQoInNldExvYWRpbmciLCBmYWxzZSk7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgICBfdGhpcy4kbW9kYWwuaGlkZSgiYXBwb2ludG1lbnRMaW1pdE1vZGFsIik7CgogICAgICAgICAgICAgICAgX3RoaXMuJHN3YWwoewogICAgICAgICAgICAgICAgICB0aXRsZTogIkZhaWxlZCEiLAogICAgICAgICAgICAgICAgICB0ZXh0OiBfdGhpcy5hcHBvaW50bWVudEVycm9yLAogICAgICAgICAgICAgICAgICBpY29uOiAiZXJyb3IiCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxODoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["AppointmentLimitForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA,OAAA,WAAA,MAAA,0BAAA;AACA,OAAA,UAAA,MAAA,+BAAA;AACA,OAAA,cAAA,MAAA,mCAAA;AACA,OAAA,SAAA,MAAA,8BAAA;AACA,SAAA,UAAA,QAAA,MAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,iBADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,UAAA,EAAA,UADA;AAEA,IAAA,WAAA,EAAA,WAFA;AAGA,IAAA,cAAA,EAAA,cAHA;AAIA,IAAA,SAAA,EAAA;AAJA,GAFA;AAQA,EAAA,QAAA,oBACA,UAAA,CAAA,CAAA,aAAA,EAAA,sBAAA,EAAA,kBAAA,CAAA,CADA,CARA;AAWA,EAAA,IAXA,kBAWA;AACA,WAAA;AACA,MAAA,UAAA,EAAA,EADA;AAEA,MAAA,QAAA,EAAA,EAFA;AAGA,MAAA,YAAA,EAAA,CAHA;AAIA,MAAA,YAAA,EAAA;AAJA,KAAA;AAMA,GAlBA;AAmBA,EAAA,OAAA,EAAA;AACA,IAAA,mBADA,iCACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,KAAA,CAAA,MAAA,CAAA,MAAA,CAAA,yBAAA,EAAA,KAAA;;AADA;AAAA,uBAEA,KAAA,CAAA,MAAA,CAAA,MAAA,CAAA,YAAA,EAAA,IAAA,CAFA;;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA,gBAAA,OARA,GAQA;AACA,kBAAA,SAAA,EAAA,CACA;AACA,oBAAA,UAAA,EAAA,KAAA,CAAA,UADA;AAEA,oBAAA,QAAA,EAAA,KAAA,CAAA,QAFA;AAGA,oBAAA,KAAA,EAAA,SAHA;AAIA,oBAAA,YAAA,EAAA,KAAA,CAAA,YAJA;AAKA,oBAAA,KAAA,EAAA,KAAA,CAAA;AALA,mBADA,EAQA;AACA,oBAAA,UAAA,EAAA,KAAA,CAAA,UADA;AAEA,oBAAA,QAAA,EAAA,KAAA,CAAA,QAFA;AAGA,oBAAA,KAAA,EAAA,SAHA;AAIA,oBAAA,KAAA,EAAA,KAAA,CAAA;AAJA,mBARA;AADA,iBARA;AAAA;AAAA,uBAyBA,KAAA,CAAA,MAAA,CAAA,QAAA,CAAA,qBAAA,EAAA,OAAA,CAzBA;;AAAA;AAAA,qBA0BA,KAAA,CAAA,oBA1BA;AAAA;AAAA;AAAA;;AAAA;AAAA,uBA2BA,KAAA,CAAA,MAAA,CAAA,MAAA,CAAA,YAAA,EAAA,KAAA,CA3BA;;AAAA;AA4BA,gBAAA,KAAA,CAAA,MAAA,CAAA,IAAA,CAAA,uBAAA;;AACA,gBAAA,KAAA,CAAA,KAAA,CAAA;AACA,kBAAA,KAAA,EAAA,UADA;AAEA,kBAAA,IAAA,EAAA,uDAFA;AAGA,kBAAA,IAAA,EAAA;AAHA,iBAAA;;AAKA,gBAAA,KAAA,CAAA,MAAA,CAAA,QAAA,CAAA,mBAAA;;AAlCA;AAAA;;AAAA;AAAA;AAAA,uBAoCA,KAAA,CAAA,MAAA,CAAA,MAAA,CAAA,YAAA,EAAA,KAAA,CApCA;;AAAA;AAqCA,gBAAA,KAAA,CAAA,MAAA,CAAA,IAAA,CAAA,uBAAA;;AACA,gBAAA,KAAA,CAAA,KAAA,CAAA;AACA,kBAAA,KAAA,EAAA,SADA;AAEA,kBAAA,IAAA,EAAA,KAAA,CAAA,gBAFA;AAGA,kBAAA,IAAA,EAAA;AAHA,iBAAA;;AAtCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA4CA;AA7CA;AAnBA,CAAA","sourcesContent":["<template>\n  <div class=\"container form-section\">\n    <div class=\"flex-column\">\n      <div class=\"meta-input-label mt10 mb10\">\n        From:\n      </div>\n      <base-date-picker class=\"mb15\" v-model=\"start_date\" />\n      <div class=\"meta-input-label mt10 mb10\">\n        To:\n      </div>\n      <base-date-picker class=\"mb25\" v-model=\"end_date\" />\n      <base-input\n        label=\"Batch 1 Slots Per Day:\"\n        name=\"slots\"\n        refs=\"appointment_slot1\"\n        type=\"number\"\n        class=\"mt40\"\n        v-model=\"batch1_count\"\n      />\n      <base-input\n        label=\"Batch 2 Slots Per Day:\"\n        name=\"slots\"\n        refs=\"appointment_slot2\"\n        type=\"number\"\n        class=\"mt40\"\n        v-model=\"batch2_count\"\n      />\n      <button-block @click.native=\"setAppointmentLimit()\">Submit</button-block>\n    </div>\n  </div>\n</template>\n\n<script>\nimport ButtonBlock from \"@/components/ButtonBlock\";\nimport BaseSelect from \"@/components/forms/BaseSelect\";\nimport BaseDatePicker from \"@/components/forms/BaseDatePicker\";\nimport BaseInput from \"@/components/forms/BaseInput\";\nimport { mapGetters } from \"vuex\";\nexport default {\n  name: \"AppointmentForm\",\n  components: {\n    BaseSelect,\n    ButtonBlock,\n    BaseDatePicker,\n    BaseInput,\n  },\n  computed: {\n    ...mapGetters([\"currentDate\", \"isAppointmentSuccess\", \"appointmentError\"]),\n  },\n  data() {\n    return {\n      start_date: \"\",\n      end_date: \"\",\n      batch1_count: 0,\n      batch2_count: 0,\n    };\n  },\n  methods: {\n    async setAppointmentLimit() {\n      this.$store.commit('setIsAppointmentSuccess', false)\n      await this.$store.commit(\"setLoading\", true);\n      // let payload = {\n      //   start_date: this.start_date,\n      //   end_date: this.end_date,\n      //   count: this.count,\n      // };\n      let payload = {\n        limit_set: [\n          {\n            start_date: this.start_date,\n            end_date: this.end_date,\n            batch: \"batch_1\",\n            batch1_count: this.batch1_count,\n            count: this.batch1_count,\n          },\n          {\n            start_date: this.start_date,\n            end_date: this.end_date,\n            batch: \"batch_2\",\n            count: this.batch2_count,\n          },\n        ],\n      };\n      await this.$store.dispatch(\"addAppointmentLimit\", payload);\n      if (this.isAppointmentSuccess) {\n        await this.$store.commit(\"setLoading\", false);\n        this.$modal.hide(\"appointmentLimitModal\");\n        this.$swal({\n          title: \"Success!\",\n          text: \"Appointment slot settings was submitted successfully.\",\n          icon: \"success\",\n        });\n        this.$store.dispatch(\"appointmentLimits\");\n      } else {\n        await this.$store.commit(\"setLoading\", false);\n        this.$modal.hide(\"appointmentLimitModal\");\n        this.$swal({\n          title: \"Failed!\",\n          text: this.appointmentError,\n          icon: \"error\",\n        });\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.form-section {\n  padding: 15px;\n}\n</style>\n"],"sourceRoot":"src/components/forms"}]}