{"remainingRequest":"/var/www/html/boss-web/node_modules/babel-loader/lib/index.js!/var/www/html/boss-web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/var/www/html/boss-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/html/boss-web/src/components/forms/BaseFileUploader.vue?vue&type=script&lang=js&","dependencies":[{"path":"/var/www/html/boss-web/src/components/forms/BaseFileUploader.vue","mtime":1634053588276},{"path":"/var/www/html/boss-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/boss-web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/var/www/html/boss-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/boss-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZnJvbSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL3Zhci93d3cvaHRtbC9ib3NzLXdlYi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi92YXIvd3d3L2h0bWwvYm9zcy13ZWIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwp2YXIgU1RBVFVTX0lOSVRJQUwgPSAwLAogICAgU1RBVFVTX1NBVklORyA9IDEsCiAgICBTVEFUVVNfU1VDQ0VTUyA9IDIsCiAgICBTVEFUVVNfRkFJTEVEID0gMzsKaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gInZ1ZXgiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkJhc2VGaWxlVXBsb2FkZXIiLAogIHByb3BzOiB7CiAgICB1cGxvYWRUeXBlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogImltYWdlLyosIGFwcGxpY2F0aW9uL3BkZiIKICAgIH0sCiAgICBoYXNFcnJvcjogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZSwKICAgICAgcmVxdWlyZWQ6IGZhbHNlCiAgICB9LAogICAgbGFiZWw6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAiIgogICAgfSwKICAgIGRlc2NyaXB0aW9uOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogIiIKICAgIH0sCiAgICBwcm9wZXJ0aWVzOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIHt9OwogICAgICB9CiAgICB9LAogICAgdHlwZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICIiCiAgICB9LAogICAgZmlsZUxhYmVsOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogIiIKICAgIH0sCiAgICBpc0V2YWx1YXRpb246IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICBpc1BheW1lbnREZXRhaWxzOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgbmFtZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICJmaWxlIgogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGN1cnJlbnRTdGF0dXM6IG51bGwsCiAgICAgIGZpbGVuYW1lOiAiIiwKICAgICAgY29ubmVjdGlvbjogbnVsbCwKICAgICAgdmFsaWRJbWFnZVR5cGVzOiBbImltYWdlL2dpZiIsICJpbWFnZS9qcGVnIiwgImltYWdlL3BuZyJdCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgic2V0TG9hZGluZyIsIGZhbHNlKTsKICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgic2V0Q2xlYXJGaWxlSW5wdXQiLCBmYWxzZSk7CiAgICB0aGlzLiRzdG9yZS5jb21taXQoInNldElzRmlsZVJlYWR5IiwgZmFsc2UpOwogICAgdGhpcy4kc3RvcmUuY29tbWl0KCJzZXRDdXJyZW50RXZhbHVhdGlvbkZpbGUiLCBuZXcgRm9ybURhdGEoKSk7CiAgICB0aGlzLiRzdG9yZS5jb21taXQoInNldElzRmlsZVVwbG9hZEZhaWxlZCIsIGZhbHNlKTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcEdldHRlcnMoWyJhcHBsaWNhdGlvblJlcXVpcmVtZW50cyIsICJpc1VwbG9hZGluZyIsICJidWlsZGluZ0FwcGxpY2F0aW9uUmVxdWlyZW1lbnRzIiwgImN1cnJlbnRFdmFsdWF0aW9uRmlsZSIsICJpc1VwbG9hZFN1Y2Nlc3MiLCAiaXNGaWxlVXBsb2FkRmFpbGVkIiwgInBheW1lbnREZXRhaWxzIiwgImNsZWFyRmlsZUlucHV0IiwgImJ1c2luZXNzQXBwbGljYXRpb24iXSkpLCB7fSwgewogICAgaXNJbml0aWFsOiBmdW5jdGlvbiBpc0luaXRpYWwoKSB7CiAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRTdGF0dXMgPT09IFNUQVRVU19JTklUSUFMOwogICAgfSwKICAgIGlzU2F2aW5nOiBmdW5jdGlvbiBpc1NhdmluZygpIHsKICAgICAgcmV0dXJuIHRoaXMuY3VycmVudFN0YXR1cyA9PT0gU1RBVFVTX1NBVklORzsKICAgIH0sCiAgICBpc1N1Y2Nlc3M6IGZ1bmN0aW9uIGlzU3VjY2VzcygpIHsKICAgICAgcmV0dXJuIHRoaXMuY3VycmVudFN0YXR1cyA9PT0gU1RBVFVTX1NVQ0NFU1M7CiAgICB9LAogICAgaXNGYWlsZWQ6IGZ1bmN0aW9uIGlzRmFpbGVkKCkgewogICAgICByZXR1cm4gdGhpcy5jdXJyZW50U3RhdHVzID09PSBTVEFUVVNfRkFJTEVEOwogICAgfQogIH0pLAogIHdhdGNoOiB7CiAgICBjbGVhckZpbGVJbnB1dDogewogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKG5ld1ZhbCkgewogICAgICAgIGlmIChuZXdWYWwpIHsKICAgICAgICAgIHRoaXMuY2xlYXJJbnB1dCgpOwogICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJzZXRDbGVhckZpbGVJbnB1dCIsIGZhbHNlKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHNhdmU6IGZ1bmN0aW9uIHNhdmUoZm9ybURhdGEpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMuJHN0b3JlLmNvbW1pdCgic2V0SXNGaWxlUmVhZHkiLCB0cnVlKTsKCiAgICAgICAgICAgICAgICBpZiAoX3RoaXMuaXNFdmFsdWF0aW9uKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxODsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCEoX3RoaXMudHlwZSA9PT0gImJ1c2luZXNzIikpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDc7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRzdG9yZS5kaXNwYXRjaCgidXBsb2FkUmVxdWlyZW1lbnRzIiwgZm9ybURhdGEpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgaWYgKCEoX3RoaXMudHlwZSA9PT0gInByb3BlcnR5IikpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuJHN0b3JlLmRpc3BhdGNoKCJ1cGxvYWRCdWlsZGluZ1JlcXVpcmVtZW50cyIsIGZvcm1EYXRhKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgICAgaWYgKCEoX3RoaXMudHlwZSA9PT0gImJ1c2luZXNzX3Blcm1pdCIpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE1OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRzdG9yZS5kaXNwYXRjaCgidXBsb2FkQnVzaW5lc3NQZXJtaXQiLCBmb3JtRGF0YSk7CgogICAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgICBpZiAoX3RoaXMuaXNGaWxlVXBsb2FkRmFpbGVkKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLmZpbGVuYW1lID0gIkRSQUcvQ0xJQ0sgVE8gVVBMT0FEIFlPVVIgRklMRSBIRVJFIjsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTk7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxODoKICAgICAgICAgICAgICAgIF90aGlzLiRzdG9yZS5jb21taXQoInNldEN1cnJlbnRFdmFsdWF0aW9uRmlsZSIsIGZvcm1EYXRhKTsKCiAgICAgICAgICAgICAgY2FzZSAxOToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBpbml0aWF0ZVdlYlNvY2tldDogZnVuY3Rpb24gaW5pdGlhdGVXZWJTb2NrZXQoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJTdGFydGluZyBjb25uZWN0aW9uIHRvIFdlYlNvY2tldCBTZXJ2ZXIiKTsKICAgICAgICAgICAgICAgIF90aGlzMi5jb25uZWN0aW9uID0gbmV3IFdlYlNvY2tldCgid3M6Ly9sb2NhbGhvc3Q6ODAwMC93cy9idWlsZGluZy1maWxlLXVwbG9hZC8iKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgY2xvc2VDb25uZWN0aW9uOiBmdW5jdGlvbiBjbG9zZUNvbm5lY3Rpb24oKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzMy5jb25uZWN0aW9uLmNsb3NlKCk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHNlbmREYXRhOiBmdW5jdGlvbiBzZW5kRGF0YShkYXRhKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzNC5jb25uZWN0aW9uLnNlbmQoZGF0YSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHNhdmUyOiBmdW5jdGlvbiBzYXZlMihmb3JtRGF0YSkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICBfdGhpczUuaW5pdGlhdGVXZWJTb2NrZXQoKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzNS5jb25uZWN0aW9uLm9ubWVzc2FnZSA9IGZ1bmN0aW9uIChldmVudCkgewogICAgICAgICAgICAgICAgICAgIF90aGlzNS5zZW5kRGF0YShmb3JtRGF0YSk7CgogICAgICAgICAgICAgICAgICAgIF90aGlzNS5jbG9zZUNvbm5lY3Rpb24oKTsKICAgICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICAgIF90aGlzNS5jb25uZWN0aW9uLm9ub3BlbiA9IGZ1bmN0aW9uIChldmVudCkgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJTdWNjZXNzZnVsbHkgY29ubmVjdGVkIHRvIHRoZSBhcGkgd2Vic29ja2V0IHNlcnZlci4uLiIpOwogICAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgICAgX3RoaXM1LmNvbm5lY3Rpb24ub25jbG9zZSA9IGZ1bmN0aW9uIChldmVudCkgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGV2ZW50KTsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygic3VjY2Vzc2Z1bGwgY2xvc2VkLiIpOwogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGZpbGVzQ2hhbmdlOiBmdW5jdGlvbiBmaWxlc0NoYW5nZShmaWVsZE5hbWUsIGZpbGVMaXN0KSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgLy8gaGFuZGxlIGZpbGUgY2hhbmdlcwogICAgICB2YXIgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgaWYgKCFmaWxlTGlzdC5sZW5ndGgpIHJldHVybjsKICAgICAgdmFyIHBheWxvYWQgPSB7fTsgLy8gYXBwZW5kIHRoZSBmaWxlcyB0byBGb3JtRGF0YQoKICAgICAgaWYgKCF0aGlzLmlzRXZhbHVhdGlvbikgewogICAgICAgIHZhciBmaWxlID0gdGhpcy4kcmVmc1siIi5jb25jYXQodGhpcy5maWxlTGFiZWwpXTsKICAgICAgICBBcnJheS5mcm9tKEFycmF5KGZpbGVMaXN0Lmxlbmd0aCkua2V5cygpKS5tYXAoZnVuY3Rpb24gKHgpIHsKICAgICAgICAgIGlmIChfdGhpczYudXBsb2FkVHlwZSA9PT0gImFwcGxpY2F0aW9uL3BkZiIgJiYgZmlsZUxpc3RbeF1bInR5cGUiXSA9PT0gImFwcGxpY2F0aW9uL3BkZiIgfHwgX3RoaXM2LnVwbG9hZFR5cGUgPT09ICJpbWFnZS8qLCBhcHBsaWNhdGlvbi9wZGYiICYmIChfdGhpczYudmFsaWRJbWFnZVR5cGVzLmluY2x1ZGVzKGZpbGVMaXN0W3hdWyJ0eXBlIl0pIHx8IGZpbGVMaXN0W3hdWyJ0eXBlIl0gPT09ICJhcHBsaWNhdGlvbi9wZGYiKSkgewogICAgICAgICAgICBpZiAoZmlsZUxpc3RbeF0uc2l6ZSA8PSAyNjIxNDQwMCkgewogICAgICAgICAgICAgIF90aGlzNi5maWxlbmFtZSA9IGZpbGVMaXN0W3hdLm5hbWU7CgogICAgICAgICAgICAgIGlmICghX3RoaXM2LmlzUGF5bWVudERldGFpbHMpIHsKICAgICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZChmaWVsZE5hbWUsIGZpbGVMaXN0W3hdKTsKCiAgICAgICAgICAgICAgICBpZiAoX3RoaXM2LnR5cGUgIT09ICJidXNpbmVzc19wZXJtaXQiKSB7CiAgICAgICAgICAgICAgICAgIHZhciByZXF1aXJlbWVudF9pZCA9IF90aGlzNi50eXBlID09PSAiYnVzaW5lc3MiID8gX3RoaXM2LmFwcGxpY2F0aW9uUmVxdWlyZW1lbnRzLmlkIDogX3RoaXM2LmJ1aWxkaW5nQXBwbGljYXRpb25SZXF1aXJlbWVudHMuaWQ7CiAgICAgICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgicmVxdWlyZW1lbnRfaWQiLCByZXF1aXJlbWVudF9pZCk7CiAgICAgICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgicmVxdWlyZW1lbnRzX2xhYmVsIiwgX3RoaXM2LmZpbGVMYWJlbCk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoImFwcGxpY2F0aW9uX2lkIiwgX3RoaXM2LmJ1c2luZXNzQXBwbGljYXRpb24uaWQpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgiZmlsZW5hbWUiLCBmaWxlTGlzdFt4XS5uYW1lKTsgLy8gcGF5bG9hZC5yZXF1aXJlbWVudF9pZCA9IHJlcXVpcmVtZW50X2lkOwogICAgICAgICAgICAgICAgLy8gcGF5bG9hZC5yZXF1aXJlbWVudHNfbGFiZWwgPSB0aGlzLmZpbGVMYWJlbDsKICAgICAgICAgICAgICAgIC8vIHBheWxvYWQuZmlsZW5hbWUgPSBmaWxlTGlzdFt4XS5uYW1lOwogICAgICAgICAgICAgICAgLy8gcGF5bG9hZC5maWxlID0gZmlsZUxpc3RbeF0uZmlsZTsKCiAgICAgICAgICAgICAgICBfdGhpczYuc2F2ZShmb3JtRGF0YSk7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHZhciBwYXltZW50Rm9ybURhdGEgPSBfdGhpczYucGF5bWVudERldGFpbHM7CiAgICAgICAgICAgICAgICBwYXltZW50Rm9ybURhdGEuYXBwZW5kKCJmaWxlbmFtZSIsIGZpbGVMaXN0W3hdLm5hbWUpOwogICAgICAgICAgICAgICAgcGF5bWVudEZvcm1EYXRhLmFwcGVuZChmaWVsZE5hbWUsIGZpbGVMaXN0W3hdKTsKCiAgICAgICAgICAgICAgICBfdGhpczYuJHN0b3JlLmNvbW1pdCgic2V0UGF5bWVudERldGFpbHMiLCBwYXltZW50Rm9ybURhdGEpOwoKICAgICAgICAgICAgICAgIF90aGlzNi4kc3RvcmUuY29tbWl0KCJzZXRJc0ZpbGVVcGxvYWRlZCIsIHRydWUpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBfdGhpczYuY2xlYXJJbnB1dCgpOwoKICAgICAgICAgICAgICBfdGhpczYuJHN3YWwoewogICAgICAgICAgICAgICAgdGl0bGU6ICJGaWxlIGlzIHRvbyBsYXJnZSEiLAogICAgICAgICAgICAgICAgdGV4dDogIkZpbGUgc2l6ZSBtdXN0IG5vdCBleGNlZWQgMjVtYi4iLAogICAgICAgICAgICAgICAgaWNvbjogImVycm9yIgogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdGhpczYuJHN3YWwoewogICAgICAgICAgICAgIHRpdGxlOiAiSW52YWxpZCBmaWxlIHR5cGUhIiwKICAgICAgICAgICAgICB0ZXh0OiAiUGxlYXNlIGVudGVyIGEgdmFsaWQgZmlsZSBmb3JtYXQuIiwKICAgICAgICAgICAgICBpY29uOiAiZXJyb3IiCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIEFycmF5LmZyb20oQXJyYXkoZmlsZUxpc3QubGVuZ3RoKS5rZXlzKCkpLm1hcChmdW5jdGlvbiAoeCkgewogICAgICAgICAgaWYgKF90aGlzNi51cGxvYWRUeXBlID09PSAiYXBwbGljYXRpb24vcGRmIiAmJiBmaWxlTGlzdFt4XVsidHlwZSJdID09PSAiYXBwbGljYXRpb24vcGRmIiB8fCBfdGhpczYudXBsb2FkVHlwZSA9PT0gImltYWdlLyosIGFwcGxpY2F0aW9uL3BkZiIgJiYgKF90aGlzNi52YWxpZEltYWdlVHlwZXMuaW5jbHVkZXMoZmlsZUxpc3RbeF1bInR5cGUiXSkgfHwgZmlsZUxpc3RbeF1bInR5cGUiXSA9PT0gImFwcGxpY2F0aW9uL3BkZiIpKSB7CiAgICAgICAgICAgIGlmIChmaWxlTGlzdFt4XS5zaXplIDw9IDI2MjE0NDAwKSB7CiAgICAgICAgICAgICAgX3RoaXM2LmZpbGVuYW1lID0gZmlsZUxpc3RbeF0ubmFtZTsKICAgICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoZmllbGROYW1lLCBmaWxlTGlzdFt4XSk7CiAgICAgICAgICAgICAgdmFyIHJlcXVpcmVtZW50X2lkID0gX3RoaXM2LnR5cGUgPT09ICJidXNpbmVzcyIgPyBfdGhpczYuYXBwbGljYXRpb25SZXF1aXJlbWVudHMuaWQgOiBfdGhpczYuYnVpbGRpbmdBcHBsaWNhdGlvblJlcXVpcmVtZW50cy5pZDsKICAgICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoImZpbGVuYW1lIiwgZmlsZUxpc3RbeF0ubmFtZSk7CgogICAgICAgICAgICAgIF90aGlzNi5zYXZlKGZvcm1EYXRhKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBfdGhpczYuY2xlYXJJbnB1dCgpOwoKICAgICAgICAgICAgICBfdGhpczYuJHN3YWwoewogICAgICAgICAgICAgICAgdGl0bGU6ICJGaWxlIGlzIHRvbyBsYXJnZSEiLAogICAgICAgICAgICAgICAgdGV4dDogIkZpbGUgc2l6ZSBtdXN0IG5vdCBleGNlZWQgMjVtYi4iLAogICAgICAgICAgICAgICAgaWNvbjogImVycm9yIgogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdGhpczYuJHN3YWwoewogICAgICAgICAgICAgIHRpdGxlOiAiSW52YWxpZCBmaWxlIHR5cGUhIiwKICAgICAgICAgICAgICB0ZXh0OiAiUGxlYXNlIGVudGVyIGEgdmFsaWQgZmlsZSBmb3JtYXQuIiwKICAgICAgICAgICAgICBpY29uOiAiZXJyb3IiCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9IC8vIHNhdmUgaXQKCiAgICB9LAogICAgY2xlYXJJbnB1dDogZnVuY3Rpb24gY2xlYXJJbnB1dCgpIHsKICAgICAgdGhpcy4kcmVmc1siIi5jb25jYXQodGhpcy5maWxlTGFiZWwpXS52YWx1ZSA9IG51bGw7CiAgICAgIHRoaXMuZmlsZW5hbWUgPSAiRFJBRy9DTElDSyBUTyBVUExPQUQgWU9VUiBGSUxFIEhFUkUiOwogICAgfQogIH0KfTs="},{"version":3,"sources":["BaseFileUploader.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"meta-upload-box flex-wrap\">\n    <div class=\"meta-label\">{{ label }}</div>\n    <div class=\"meta-desc\" v-html=\"description\">{{ description }}</div>\n    <div class=\"meta-custom-upload\" :class=\"{ 'has-error': hasError }\">\n      <form enctype=\"multipart/form-data\" novalidate>\n        <input\n          :ref=\"fileLabel\"\n          type=\"file\"\n          :name=\"name\"\n          :accept=\"uploadType\"\n          @input=\"filesChange($event.target.name, $event.target.files)\"\n          :disabled=\"isUploading\"\n        />\n        <!-- <div class=\"meta-text big\">DRAG/CLICK TO UPLOAD YOUR FILE HERE</div> -->\n        <div class=\"meta-text small\">\n          {{\n            filename\n              ? filename\n              : properties.filename\n              ? properties.filename\n              : \"DRAG/CLICK TO UPLOAD YOUR FILE HERE\"\n          }}\n        </div>\n      </form>\n\n      <div class=\"upload-limit\">Note: File size should not exceed 20mb.</div>\n    </div>\n  </div>\n</template>\n\n<script>\nconst STATUS_INITIAL = 0,\n  STATUS_SAVING = 1,\n  STATUS_SUCCESS = 2,\n  STATUS_FAILED = 3;\nimport { mapGetters } from \"vuex\";\nexport default {\n  name: \"BaseFileUploader\",\n  props: {\n    uploadType: {\n      type: String,\n      default: \"image/*, application/pdf\",\n    },\n    hasError: {\n      type: Boolean,\n      default: false,\n      required: false,\n    },\n    label: {\n      type: String,\n      default: \"\",\n    },\n    description: {\n      type: String,\n      default: \"\",\n    },\n    properties: {\n      type: Object,\n      default() {\n        return {};\n      },\n    },\n    type: {\n      type: String,\n      default: \"\",\n    },\n    fileLabel: {\n      type: String,\n      default: \"\",\n    },\n    isEvaluation: {\n      type: Boolean,\n      default: false,\n    },\n    isPaymentDetails: {\n      type: Boolean,\n      default: false,\n    },\n    name: {\n      type: String,\n      default: \"file\",\n    },\n  },\n  data() {\n    return {\n      currentStatus: null,\n      filename: \"\",\n      connection: null,\n      validImageTypes: [\"image/gif\", \"image/jpeg\", \"image/png\"],\n    };\n  },\n  mounted() {\n    this.$store.commit(\"setLoading\", false);\n    this.$store.commit(\"setClearFileInput\", false);\n    this.$store.commit(\"setIsFileReady\", false);\n    this.$store.commit(\"setCurrentEvaluationFile\", new FormData());\n    this.$store.commit(\"setIsFileUploadFailed\", false);\n  },\n  computed: {\n    ...mapGetters([\n      \"applicationRequirements\",\n      \"isUploading\",\n      \"buildingApplicationRequirements\",\n      \"currentEvaluationFile\",\n      \"isUploadSuccess\",\n      \"isFileUploadFailed\",\n      \"paymentDetails\",\n      \"clearFileInput\",\n      \"businessApplication\",\n    ]),\n    isInitial() {\n      return this.currentStatus === STATUS_INITIAL;\n    },\n    isSaving() {\n      return this.currentStatus === STATUS_SAVING;\n    },\n    isSuccess() {\n      return this.currentStatus === STATUS_SUCCESS;\n    },\n    isFailed() {\n      return this.currentStatus === STATUS_FAILED;\n    },\n  },\n  watch: {\n    clearFileInput: {\n      handler(newVal) {\n        if (newVal) {\n          this.clearInput();\n          this.$store.commit(\"setClearFileInput\", false);\n        }\n      },\n    },\n  },\n  methods: {\n    async save(formData) {\n      this.$store.commit(\"setIsFileReady\", true);\n      if (!this.isEvaluation) {\n        if (this.type === \"business\") {\n          await this.$store.dispatch(\"uploadRequirements\", formData);\n        } else if (this.type === \"property\") {\n          await this.$store.dispatch(\"uploadBuildingRequirements\", formData);\n        } else if (this.type === \"business_permit\") {\n          await this.$store.dispatch(\"uploadBusinessPermit\", formData);\n        }\n        if (this.isFileUploadFailed) {\n          this.filename = \"DRAG/CLICK TO UPLOAD YOUR FILE HERE\";\n        }\n      } else {\n        this.$store.commit(\"setCurrentEvaluationFile\", formData);\n      }\n    },\n    async initiateWebSocket() {\n      console.log(\"Starting connection to WebSocket Server\");\n      this.connection = new WebSocket(\n        \"ws://localhost:8000/ws/building-file-upload/\"\n      );\n    },\n    async closeConnection() {\n      this.connection.close();\n    },\n    async sendData(data) {\n      this.connection.send(data);\n    },\n    async save2(formData) {\n      try {\n        this.initiateWebSocket();\n        this.connection.onmessage = (event) => {\n          this.sendData(formData);\n          this.closeConnection();\n        };\n\n        this.connection.onopen = function (event) {\n          console.log(\"Successfully connected to the api websocket server...\");\n        };\n\n        this.connection.onclose = (event) => {\n          console.log(event);\n          console.log(\"successfull closed.\");\n        };\n      } catch (err) {\n        console.log(err);\n      }\n    },\n    filesChange(fieldName, fileList) {\n      // handle file changes\n      var formData = new FormData();\n      if (!fileList.length) return;\n      let payload = {};\n      // append the files to FormData\n\n      if (!this.isEvaluation) {\n        let file = this.$refs[`${this.fileLabel}`];\n        Array.from(Array(fileList.length).keys()).map((x) => {\n          if (\n            (this.uploadType === \"application/pdf\" &&\n              fileList[x][\"type\"] === \"application/pdf\") ||\n            (this.uploadType === \"image/*, application/pdf\" &&\n              (this.validImageTypes.includes(fileList[x][\"type\"]) ||\n                fileList[x][\"type\"] === \"application/pdf\"))\n          ) {\n            if (fileList[x].size <= 26214400) {\n              this.filename = fileList[x].name;\n\n              if (!this.isPaymentDetails) {\n                formData.append(fieldName, fileList[x]);\n\n                if (this.type !== \"business_permit\") {\n                  let requirement_id =\n                    this.type === \"business\"\n                      ? this.applicationRequirements.id\n                      : this.buildingApplicationRequirements.id;\n                  formData.append(\"requirement_id\", requirement_id);\n                  formData.append(\"requirements_label\", this.fileLabel);\n                } else {\n                  formData.append(\n                    \"application_id\",\n                    this.businessApplication.id\n                  );\n                }\n                formData.append(\"filename\", fileList[x].name);\n                // payload.requirement_id = requirement_id;\n                // payload.requirements_label = this.fileLabel;\n                // payload.filename = fileList[x].name;\n                // payload.file = fileList[x].file;\n                this.save(formData);\n              } else {\n                let paymentFormData = this.paymentDetails;\n                paymentFormData.append(\"filename\", fileList[x].name);\n                paymentFormData.append(fieldName, fileList[x]);\n                this.$store.commit(\"setPaymentDetails\", paymentFormData);\n                this.$store.commit(\"setIsFileUploaded\", true);\n              }\n            } else {\n              this.clearInput();\n              this.$swal({\n                title: \"File is too large!\",\n                text: \"File size must not exceed 25mb.\",\n                icon: \"error\",\n              });\n            }\n          } else {\n            this.$swal({\n              title: \"Invalid file type!\",\n              text: \"Please enter a valid file format.\",\n              icon: \"error\",\n            });\n          }\n        });\n      } else {\n        Array.from(Array(fileList.length).keys()).map((x) => {\n          if (\n            (this.uploadType === \"application/pdf\" &&\n              fileList[x][\"type\"] === \"application/pdf\") ||\n            (this.uploadType === \"image/*, application/pdf\" &&\n              (this.validImageTypes.includes(fileList[x][\"type\"]) ||\n                fileList[x][\"type\"] === \"application/pdf\"))\n          ) {\n            if (fileList[x].size <= 26214400) {\n              this.filename = fileList[x].name;\n              formData.append(fieldName, fileList[x]);\n              let requirement_id =\n                this.type === \"business\"\n                  ? this.applicationRequirements.id\n                  : this.buildingApplicationRequirements.id;\n              formData.append(\"filename\", fileList[x].name);\n              this.save(formData);\n            } else {\n              this.clearInput();\n              this.$swal({\n                title: \"File is too large!\",\n                text: \"File size must not exceed 25mb.\",\n                icon: \"error\",\n              });\n            }\n          } else {\n            this.$swal({\n              title: \"Invalid file type!\",\n              text: \"Please enter a valid file format.\",\n              icon: \"error\",\n            });\n          }\n        });\n      }\n      // save it\n    },\n    clearInput() {\n      this.$refs[`${this.fileLabel}`].value = null;\n      this.filename = \"DRAG/CLICK TO UPLOAD YOUR FILE HERE\";\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.meta-upload-box {\n  width: 100%;\n  .meta-label {\n    font-size: 16px;\n    font-weight: bold;\n    margin-bottom: 10px;\n  }\n  .meta-desc {\n    font-size: 14px;\n    padding-left: 17px;\n    margin-bottom: 18px;\n    width: 100%;\n  }\n  .meta-custom-upload {\n    display: flex;\n    flex-wrap: wrap;\n    align-items: center;\n    justify-content: center;\n    position: relative;\n    width: 100%;\n    padding: 15px 30px;\n    margin: 0 0 30px 17px;\n    border: 3px dashed #bce0fd;\n    transition: 0.4s;\n    input[type=\"file\"] {\n      position: absolute;\n      left: 0;\n      top: 0;\n      z-index: 2;\n      height: 100%;\n      width: 100%;\n      opacity: 0;\n      cursor: pointer;\n    }\n    .meta-text.big {\n      color: #64b4f9;\n      font-size: 30px;\n      font-weight: 700;\n      line-height: 1.6;\n      text-transform: uppercase;\n      width: 100%;\n      text-align: center;\n      transition: 0.4s;\n    }\n    .meta-text.small {\n      color: #64b4f9;\n      font-size: 15px;\n      font-weight: 700;\n      line-height: 1.6;\n      transition: 0.4s;\n    }\n  }\n}\n\n.upload-limit {\n  font-size: 14px;\n  width: 100%;\n  text-align: center;\n  margin-top: 5px;\n  color: #4886ba;\n}\n\ndiv.meta-container .meta-custom-upload:hover {\n  border-color: #039be5;\n}\n\ndiv.meta-container .meta-custom-upload:hover div.meta-text {\n  color: #039be5;\n}\n\n.meta-custom-upload.has-error,\n.meta-custom-upload.has-error .meta-text {\n  border-color: #e23a36;\n  color: #e23a36 !important;\n}\n\n/*\nMOBILE RESPONSIVENESS \n--------------------------------------------------------------*/\n\n@media only screen and (max-width: 768px) {\n  .meta-upload-box .meta-label {\n    font-size: 15px;\n  }\n\n  .meta-upload-box .meta-custom-upload .meta-text.small {\n    font-size: 13px;\n  }\n}\n\n@media only screen and (max-width: 480px) {\n  .meta-upload-box .meta-label {\n    font-size: 13px;\n  }\n\n  .meta-upload-box .meta-desc {\n    font-size: 12px;\n    margin-bottom: 15px;\n  }\n  .meta-upload-box .meta-custom-upload .meta-text.small {\n    font-size: 12px;\n    text-align: center;\n  }\n}\n</style>\n"],"sourceRoot":"src/components/forms"}]}