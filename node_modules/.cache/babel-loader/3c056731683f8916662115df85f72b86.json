{"remainingRequest":"/var/www/html/boss-web/node_modules/babel-loader/lib/index.js!/var/www/html/boss-web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/var/www/html/boss-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/html/boss-web/src/components/auth/OtpDiv.vue?vue&type=script&lang=js&","dependencies":[{"path":"/var/www/html/boss-web/src/components/auth/OtpDiv.vue","mtime":1605179000987},{"path":"/var/www/html/boss-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/boss-web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/var/www/html/boss-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/boss-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL3Zhci93d3cvaHRtbC9ib3NzLXdlYi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi92YXIvd3d3L2h0bWwvYm9zcy13ZWIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgQnV0dG9uRnVsbCBmcm9tICJAL2NvbXBvbmVudHMvQnV0dG9uRnVsbCI7CmltcG9ydCBCdXR0b25GdWxsT3V0bGluZSBmcm9tICJAL2NvbXBvbmVudHMvQnV0dG9uRnVsbE91dGxpbmUiOwppbXBvcnQgQmFzZUlucHV0SWNvbiBmcm9tICJAL2NvbXBvbmVudHMvZm9ybXMvQmFzZUlucHV0SWNvbiI7CmltcG9ydCBCYXNlSW5wdXRPdHAgZnJvbSAiQC9jb21wb25lbnRzL2Zvcm1zL0Jhc2VJbnB1dE90cCI7CmltcG9ydCB7IG1hcEFjdGlvbnMsIG1hcEdldHRlcnMgfSBmcm9tICJ2dWV4IjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJPdHBEaXYiLAogIGNvbXBvbmVudHM6IHsKICAgIEJ1dHRvbkZ1bGw6IEJ1dHRvbkZ1bGwsCiAgICBCdXR0b25GdWxsT3V0bGluZTogQnV0dG9uRnVsbE91dGxpbmUsCiAgICBCYXNlSW5wdXRJY29uOiBCYXNlSW5wdXRJY29uLAogICAgQmFzZUlucHV0T3RwOiBCYXNlSW5wdXRPdHAKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjb2RlOiAiIiwKICAgICAgdGltZXJDb3VudDogMzAKICAgIH07CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7fSwgbWFwR2V0dGVycyhbJ2NyZWRlbnRpYWxzJ10pKSwKICBtZXRob2RzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcEFjdGlvbnMoWyJnZXRBdXRoVG9rZW4iXSkpLCB7fSwgewogICAgdXBkYXRlVmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZVZhbHVlKCkgewogICAgICB2YXIgbWF4X2NoYXJzID0gNzsKCiAgICAgIGlmICh0aGlzLmNvZGUubGVuZ3RoID4gbWF4X2NoYXJzKSB7CiAgICAgICAgdGhpcy5jb2RlID0gdGhpcy5jb2RlLnN1YnN0cigwLCBtYXhfY2hhcnMpOwogICAgICB9CgogICAgICB0aGlzLiRmb3JjZVVwZGF0ZSgpOwogICAgfSwKICAgIHZlcmlmeU90cDogZnVuY3Rpb24gdmVyaWZ5T3RwKCkgewogICAgICB0aGlzLmdldEF1dGhUb2tlbih0aGlzLmNvZGUpOwogICAgfSwKICAgIHJlc2V0VmFsdWU6IGZ1bmN0aW9uIHJlc2V0VmFsdWUoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRzdG9yZS5kaXNwYXRjaCgnZ2V0Q29kZVRva2VuJywgX3RoaXMuY3JlZGVudGlhbHMpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBfdGhpcy50aW1lckNvdW50ID0gJzMwJzsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0pLAogIC8vIENPVU5URE9XTiBUSU1FUgogIHdhdGNoOiB7CiAgICB0aW1lckNvdW50OiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIodmFsdWUpIHsKICAgICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgICAgaWYgKHZhbHVlID4gMCkgewogICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIF90aGlzMi50aW1lckNvdW50LS07CiAgICAgICAgICB9LCAxMDAwKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGltbWVkaWF0ZTogdHJ1ZSAvLyBUaGlzIGVuc3VyZXMgdGhlIHdhdGNoZXIgaXMgdHJpZ2dlcmVkIHVwb24gY3JlYXRpb24KCiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["OtpDiv.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA,OAAA,UAAA,MAAA,yBAAA;AACA,OAAA,iBAAA,MAAA,gCAAA;AACA,OAAA,aAAA,MAAA,kCAAA;AACA,OAAA,YAAA,MAAA,iCAAA;AACA,SAAA,UAAA,EAAA,UAAA,QAAA,MAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,QADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,UAAA,EAAA,UADA;AAEA,IAAA,iBAAA,EAAA,iBAFA;AAGA,IAAA,aAAA,EAAA,aAHA;AAIA,IAAA,YAAA,EAAA;AAJA,GAFA;AAQA,EAAA,IARA,kBAQA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,EADA;AAEA,MAAA,UAAA,EAAA;AAFA,KAAA;AAIA,GAbA;AAcA,EAAA,QAAA,oBACA,UAAA,CAAA,CAAA,aAAA,CAAA,CADA,CAdA;AAiBA,EAAA,OAAA,kCACA,UAAA,CAAA,CAAA,cAAA,CAAA,CADA;AAEA,IAAA,WAFA,yBAEA;AACA,UAAA,SAAA,GAAA,CAAA;;AACA,UAAA,KAAA,IAAA,CAAA,MAAA,GAAA,SAAA,EAAA;AACA,aAAA,IAAA,GAAA,KAAA,IAAA,CAAA,MAAA,CAAA,CAAA,EAAA,SAAA,CAAA;AACA;;AACA,WAAA,YAAA;AACA,KARA;AASA,IAAA,SATA,uBASA;AACA,WAAA,YAAA,CAAA,KAAA,IAAA;AACA,KAXA;AAYA,IAAA,UAZA,wBAYA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,KAAA,CAAA,MAAA,CAAA,QAAA,CAAA,cAAA,EAAA,KAAA,CAAA,WAAA,CADA;;AAAA;AAEA,gBAAA,KAAA,CAAA,UAAA,GAAA,IAAA;;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAfA,IAjBA;AAkCA;AACA,EAAA,KAAA,EAAA;AACA,IAAA,UAAA,EAAA;AACA,MAAA,OADA,mBACA,KADA,EACA;AAAA;;AACA,YAAA,KAAA,GAAA,CAAA,EAAA;AACA,UAAA,UAAA,CAAA,YAAA;AACA,YAAA,MAAA,CAAA,UAAA;AACA,WAFA,EAEA,IAFA,CAAA;AAGA;AACA,OAPA;AAQA,MAAA,SAAA,EAAA,IARA,CAQA;;AARA;AADA;AAnCA,CAAA","sourcesContent":["<template>\n  <section>\n    <div class=\"form-group\">\n      <div>\n        <font-awesome-icon icon=\"lock\" class=\"mr10 icon\" />\n      </div>\n      <div>\n        <h1>VERIFY EMAIL</h1>\n      </div>\n\n      <div class=\"note\">\n        OTP has been sent to you on your email address. Please enter it below.\n      </div>\n      <div>\n        <base-input-otp\n          v-model=\"code\"\n          name=\"code\"\n          refs=\"otpcode\"\n          type=\"number\"\n          class=\"mt40\"\n          @input=\"updateValue\"\n        />\n      </div>\n      <div>\n        <button-full @click.native=\"verifyOtp\" class=\"mt10\">\n          VERIFY\n        </button-full>\n      </div>\n            <!-- COUNTDOWN TIMER -->\n      <div class=\"resend-code-div flex-center\">\n        <span class=\"resend-text\" \n           v-bind:class=\"timerCount != 0 ? 'disabled' : '' \"\n           @click=\"resetValue\">\n           Resend Code \n        </span>\n        <span class=\"countdown-timer\" \n           v-if=\"timerCount != 0\">\n            ( {{ timerCount }} seconds )\n        </span>\n      </div>\n    </div>\n  </section>\n</template>\n\n<script>\nimport ButtonFull from \"@/components/ButtonFull\";\nimport ButtonFullOutline from \"@/components/ButtonFullOutline\";\nimport BaseInputIcon from \"@/components/forms/BaseInputIcon\";\nimport BaseInputOtp from \"@/components/forms/BaseInputOtp\";\nimport { mapActions, mapGetters } from \"vuex\";\nexport default {\n  name: \"OtpDiv\",\n  components: {\n    ButtonFull,\n    ButtonFullOutline,\n    BaseInputIcon,\n    BaseInputOtp,\n  },\n  data() {\n    return {\n      code: \"\",\n      timerCount: 30\n    };\n  },\n  computed:{\n    ...mapGetters(['credentials'])\n  },\n  methods: {\n    ...mapActions([\"getAuthToken\"]),\n    updateValue() {\n      var max_chars = 7;\n      if (this.code.length > max_chars) {\n        this.code= this.code.substr(0, max_chars);\n      }\n      this.$forceUpdate();\n    },\n    verifyOtp(){\n       this.getAuthToken(this.code);\n    },\n   async resetValue() {\n        await this.$store.dispatch('getCodeToken',this.credentials)\n        this.timerCount = '30'\n    }\n  },\n  // COUNTDOWN TIMER\n  watch: {\n    timerCount: {\n      handler(value) {\n        if (value > 0) {\n          setTimeout(() => {\n              this.timerCount--;\n          }, 1000);\n        }\n      },\n      immediate: true // This ensures the watcher is triggered upon creation\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.icon {\n  font-size: 80px;\n  color: #c2c2c2;\n}\n.form-group {\n  margin-top: 45px;\n  div {\n    margin-bottom: 20px;\n  }\n}\n.note {\n  font-size: 14px;\n  line-height: 26px;\n  letter-spacing: 0.5px;\n  margin-bottom: 20px;\n}\n\n// COUNTDOWN TIMER\n.resend-code-div{\n  display: flex;\n  justify-content: center;\n}\n.resend-text{\n  width: auto;\n  float: left;\n  font-size: 16px;\n  color: #039be5bf;\n  text-decoration: underline;\n  cursor: pointer;\n  margin-right: 5px;\n}\n.resend-text.disabled{\n  color: #cbcbcb;\n  text-decoration: none;\n  pointer-events: none;\n}\n.countdown-timer {\n    color: #039be5bf;\n    font-size: 16px;\n    font-family: \"Proxima Nova Rg\";\n    text-align: center;\n}\n\n@media only screen and ( max-width: 1400px ){\n  .form-group {\n      margin-top: 0;\n      div {\n          margin-bottom: 30px;\n      }\n      .icon{\n          font-size: 60px;\n          margin-right: 0;\n      }\n  }\n}\n\n@media only screen and ( max-width: 860px ){\n  .icon{\n    font-size: 50px;\n  }\n  h1 {\n    font-size: 22px;\n  }\n  .form-group{\n      margin-top: 0;\n  }\n}\n\n@media only screen and ( max-width: 350px ){\n  h1{\n      font-size: 20px;\n  } \n}\n</style>\n"],"sourceRoot":"src/components/auth"}]}